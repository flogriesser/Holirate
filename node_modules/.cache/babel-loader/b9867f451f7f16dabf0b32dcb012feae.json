{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _libs = require('../../libs');\n\nvar _UploadList = require('./UploadList');\n\nvar _UploadList2 = _interopRequireDefault(_UploadList);\n\nvar _iFrameUpload = require('./iFrameUpload');\n\nvar _iFrameUpload2 = _interopRequireDefault(_iFrameUpload);\n\nvar _AjaxUpload = require('./AjaxUpload');\n\nvar _AjaxUpload2 = _interopRequireDefault(_AjaxUpload);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar Upload = function (_Component) {\n  (0, _inherits3.default)(Upload, _Component);\n\n  function Upload(props) {\n    (0, _classCallCheck3.default)(this, Upload);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Upload.__proto__ || Object.getPrototypeOf(Upload)).call(this, props));\n\n    _this.state = {\n      fileList: [],\n      tempIndex: 1\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Upload, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.init(this.props);\n    }\n  }, {\n    key: 'init',\n    value: function init(props) {\n      var tempIndex = this.state.tempIndex;\n      var fileList = props.fileList;\n      var uploadFiles = fileList.map(function (file) {\n        file.uid = file.uid || Date.now() + tempIndex++;\n        file.status = 'success';\n        return file;\n      });\n      this.setState({\n        fileList: uploadFiles\n      });\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        onPreview: this.handlePreview.bind(this),\n        onRemove: this.handleRemove.bind(this)\n      };\n    }\n  }, {\n    key: 'getFile',\n    value: function getFile(file) {\n      if (file) {\n        return this.state.fileList.find(function (item) {\n          return item.uid === file.uid;\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: 'handleStart',\n    value: function handleStart(file) {\n      var _state = this.state,\n          tempIndex = _state.tempIndex,\n          fileList = _state.fileList;\n      file.uid = Date.now() + tempIndex++;\n      var _file = {\n        status: 'ready',\n        name: file.name,\n        size: file.size,\n        percentage: 0,\n        uid: file.uid,\n        raw: file\n      };\n\n      try {\n        _file.url = URL.createObjectURL(file);\n      } catch (err) {\n        return;\n      }\n\n      fileList.push(_file);\n      this.setState({\n        fileList: fileList,\n        tempIndex: tempIndex\n      });\n    }\n  }, {\n    key: 'handleProgress',\n    value: function handleProgress(e, file) {\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n\n      if (_file) {\n        _file.percentage = e.percent || 0;\n        _file.status = 'uploading';\n        this.props.onProgress(e, _file, fileList);\n        this.setState({\n          fileList: fileList\n        });\n      }\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(res, file) {\n      var _this2 = this;\n\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n\n      if (_file) {\n        _file.status = 'success';\n        _file.response = res;\n        setTimeout(function () {\n          _this2.setState({\n            fileList: fileList\n          }, function () {\n            _this2.props.onSuccess(res, _file, fileList);\n\n            _this2.props.onChange(_file, fileList);\n          });\n        }, 1000);\n      }\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(err, file) {\n      var _this3 = this;\n\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n\n      if (_file) {\n        _file.status = 'fail';\n        fileList.splice(fileList.indexOf(_file), 1);\n        this.setState({\n          fileList: fileList\n        }, function () {\n          _this3.props.onError(err, _file, fileList);\n\n          _this3.props.onChange(_file, fileList);\n        });\n      }\n    }\n  }, {\n    key: 'handleRemove',\n    value: function handleRemove(file) {\n      var _this4 = this;\n\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n\n      if (_file) {\n        fileList.splice(fileList.indexOf(_file), 1);\n        this.setState({\n          fileList: fileList\n        }, function () {\n          return _this4.props.onRemove(file, fileList);\n        });\n      }\n    }\n  }, {\n    key: 'handlePreview',\n    value: function handlePreview(file) {\n      if (file.status === 'success') {\n        this.props.onPreview(file);\n      }\n    }\n  }, {\n    key: 'clearFiles',\n    value: function clearFiles() {\n      this.setState({\n        fileList: []\n      });\n    }\n  }, {\n    key: 'submit',\n    value: function submit() {\n      var _this5 = this;\n\n      this.state.fileList.filter(function (file) {\n        return file.status === 'ready';\n      }).forEach(function (file) {\n        _this5.refs['upload-inner'].upload(file.raw, file);\n      });\n    }\n  }, {\n    key: 'showCover',\n    value: function showCover() {\n      var fileList = this.state.fileList;\n      var file = fileList[fileList.length - 1];\n      return file && file.status !== 'fail';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var fileList = this.state.fileList;\n      var _props = this.props,\n          showFileList = _props.showFileList,\n          autoUpload = _props.autoUpload,\n          drag = _props.drag,\n          tip = _props.tip,\n          action = _props.action,\n          multiple = _props.multiple,\n          beforeUpload = _props.beforeUpload,\n          withCredentials = _props.withCredentials,\n          headers = _props.headers,\n          name = _props.name,\n          data = _props.data,\n          accept = _props.accept,\n          listType = _props.listType,\n          className = _props.className,\n          limit = _props.limit,\n          disabled = _props.disabled,\n          onExceed = _props.onExceed,\n          httpRequest = _props.httpRequest;\n      var uploadList = void 0;\n\n      if (showFileList && fileList.length) {\n        uploadList = _react2.default.createElement(_UploadList2.default, {\n          listType: listType,\n          fileList: fileList\n        });\n      }\n\n      var restProps = {\n        autoUpload: autoUpload,\n        drag: drag,\n        action: action,\n        multiple: multiple,\n        beforeUpload: beforeUpload,\n        withCredentials: withCredentials,\n        headers: headers,\n        name: name,\n        data: data,\n        accept: accept,\n        listType: listType,\n        fileList: fileList,\n        limit: limit,\n        disabled: disabled,\n        onExceed: onExceed,\n        httpRequest: httpRequest,\n        onStart: this.handleStart.bind(this),\n        onProgress: this.handleProgress.bind(this),\n        onSuccess: this.handleSuccess.bind(this),\n        onError: this.handleError.bind(this),\n        onPreview: this.handlePreview.bind(this),\n        onRemove: this.handleRemove.bind(this),\n        showCover: this.showCover(),\n        ref: 'upload-inner'\n      };\n      var trigger = this.props.trigger || this.props.children;\n      var uploadComponent = typeof FormData !== 'undefined' ? _react2.default.createElement(_AjaxUpload2.default, (0, _extends3.default)({\n        key: 'AjaxUpload'\n      }, restProps), trigger) : _react2.default.createElement('iFrameUpload', (0, _extends3.default)({\n        key: 'iFrameUpload'\n      }, restProps), trigger);\n      return _react2.default.createElement('div', {\n        className: className\n      }, listType === 'picture-card' ? uploadList : '', this.props.trigger ? [uploadComponent, this.props.children] : uploadComponent, tip, listType !== 'picture-card' ? uploadList : '');\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Upload;\n}(_libs.Component);\n\nUpload.defaultProps = {\n  headers: {},\n  name: 'file',\n  type: 'select',\n  listType: 'text',\n  fileList: [],\n  showFileList: true,\n  autoUpload: true,\n  disabled: false,\n  onRemove: function onRemove() {},\n  onPreview: function onPreview() {},\n  onProgress: function onProgress() {},\n  onSuccess: function onSuccess() {},\n  onError: function onError() {},\n  onChange: function onChange() {}\n};\nvar _default = Upload;\nexports.default = _default;\nUpload.childContextTypes = {\n  onPreview: _libs.PropTypes.func,\n  onRemove: _libs.PropTypes.func\n};\nUpload.propTypes = {\n  action: _libs.PropTypes.string.isRequired,\n  headers: _libs.PropTypes.object,\n  data: _libs.PropTypes.object,\n  multiple: _libs.PropTypes.bool,\n  name: _libs.PropTypes.string,\n  withCredentials: _libs.PropTypes.bool,\n  showFileList: _libs.PropTypes.bool,\n  fileList: _libs.PropTypes.array,\n  autoUpload: _libs.PropTypes.bool,\n  accept: _libs.PropTypes.string,\n  drag: _libs.PropTypes.bool,\n  listType: _libs.PropTypes.oneOf(['text', 'picture', 'picture-card']),\n  tip: _libs.PropTypes.node,\n  trigger: _libs.PropTypes.node,\n  beforeUpload: _libs.PropTypes.func,\n  onRemove: _libs.PropTypes.func,\n  onPreview: _libs.PropTypes.func,\n  onProgress: _libs.PropTypes.func,\n  onSuccess: _libs.PropTypes.func,\n  onError: _libs.PropTypes.func,\n  onChange: _libs.PropTypes.func,\n  className: _libs.PropTypes.string,\n  disabled: _libs.PropTypes.bool,\n  limit: _libs.PropTypes.number,\n  onExceed: _libs.PropTypes.func,\n  httpRequest: _libs.PropTypes.func\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Upload, 'Upload', 'src/upload/Upload.jsx');\n  reactHotLoader.register(_default, 'default', 'src/upload/Upload.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/upload/Upload.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_libs","_UploadList","_UploadList2","_iFrameUpload","_iFrameUpload2","_AjaxUpload","_AjaxUpload2","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","Upload","_Component","props","_this","__proto__","getPrototypeOf","call","state","fileList","tempIndex","key","componentWillMount","init","uploadFiles","map","file","uid","Date","now","status","setState","getChildContext","onPreview","handlePreview","bind","onRemove","handleRemove","getFile","find","item","handleStart","_state","_file","name","size","percentage","raw","url","URL","createObjectURL","err","push","handleProgress","e","percent","onProgress","handleSuccess","res","_this2","response","setTimeout","onSuccess","onChange","handleError","_this3","splice","indexOf","onError","_this4","clearFiles","submit","_this5","filter","forEach","refs","upload","showCover","length","render","_props","showFileList","autoUpload","drag","tip","action","multiple","beforeUpload","withCredentials","headers","data","accept","listType","className","limit","disabled","onExceed","httpRequest","uploadList","createElement","restProps","onStart","ref","trigger","children","uploadComponent","FormData","__reactstandin__regenerateByEval","code","eval","Component","defaultProps","type","_default","childContextTypes","PropTypes","func","propTypes","string","isRequired","object","bool","array","oneOf","node","number","reactHotLoader","register","leaveModule"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,SAAS,GAAGC,OAAO,CAAC,+BAAD,CAAvB;;AAEA,IAAIC,SAAS,GAAGC,sBAAsB,CAACH,SAAD,CAAtC;;AAEA,IAAII,gBAAgB,GAAGH,OAAO,CAAC,sCAAD,CAA9B;;AAEA,IAAII,gBAAgB,GAAGF,sBAAsB,CAACC,gBAAD,CAA7C;;AAEA,IAAIE,aAAa,GAAGL,OAAO,CAAC,mCAAD,CAA3B;;AAEA,IAAIM,aAAa,GAAGJ,sBAAsB,CAACG,aAAD,CAA1C;;AAEA,IAAIE,2BAA2B,GAAGP,OAAO,CAAC,iDAAD,CAAzC;;AAEA,IAAIQ,2BAA2B,GAAGN,sBAAsB,CAACK,2BAAD,CAAxD;;AAEA,IAAIE,UAAU,GAAGT,OAAO,CAAC,gCAAD,CAAxB;;AAEA,IAAIU,UAAU,GAAGR,sBAAsB,CAACO,UAAD,CAAvC;;AAEA,IAAIE,MAAM,GAAGX,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIY,OAAO,GAAGV,sBAAsB,CAACS,MAAD,CAApC;;AAEA,IAAIE,KAAK,GAAGb,OAAO,CAAC,YAAD,CAAnB;;AAEA,IAAIc,WAAW,GAAGd,OAAO,CAAC,cAAD,CAAzB;;AAEA,IAAIe,YAAY,GAAGb,sBAAsB,CAACY,WAAD,CAAzC;;AAEA,IAAIE,aAAa,GAAGhB,OAAO,CAAC,gBAAD,CAA3B;;AAEA,IAAIiB,cAAc,GAAGf,sBAAsB,CAACc,aAAD,CAA3C;;AAEA,IAAIE,WAAW,GAAGlB,OAAO,CAAC,cAAD,CAAzB;;AAEA,IAAImB,YAAY,GAAGjB,sBAAsB,CAACgB,WAAD,CAAzC;;AAEA,SAAShB,sBAAT,CAAgCkB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,CAAC,YAAY;AACX,MAAIG,WAAW,GAAG,CAAC,OAAOC,oBAAP,KAAgC,WAAhC,GAA8CA,oBAA9C,GAAqExB,OAAO,CAAC,kBAAD,CAA7E,EAAmGuB,WAArH;AACAA,EAAAA,WAAW,IAAIA,WAAW,CAACE,MAAD,CAA1B;AACD,CAHD;;AAKA,IAAIC,MAAM,GAAG,UAAUC,UAAV,EAAsB;AACjC,GAAC,GAAGjB,UAAU,CAACY,OAAf,EAAwBI,MAAxB,EAAgCC,UAAhC;;AAEA,WAASD,MAAT,CAAgBE,KAAhB,EAAuB;AACrB,KAAC,GAAGxB,gBAAgB,CAACkB,OAArB,EAA8B,IAA9B,EAAoCI,MAApC;;AAEA,QAAIG,KAAK,GAAG,CAAC,GAAGrB,2BAA2B,CAACc,OAAhC,EAAyC,IAAzC,EAA+C,CAACI,MAAM,CAACI,SAAP,IAAoBnC,MAAM,CAACoC,cAAP,CAAsBL,MAAtB,CAArB,EAAoDM,IAApD,CAAyD,IAAzD,EAA+DJ,KAA/D,CAA/C,CAAZ;;AAEAC,IAAAA,KAAK,CAACI,KAAN,GAAc;AACZC,MAAAA,QAAQ,EAAE,EADE;AAEZC,MAAAA,SAAS,EAAE;AAFC,KAAd;AAIA,WAAON,KAAP;AACD;;AAED,GAAC,GAAGvB,aAAa,CAACgB,OAAlB,EAA2BI,MAA3B,EAAmC,CAAC;AAClCU,IAAAA,GAAG,EAAE,oBAD6B;AAElCtC,IAAAA,KAAK,EAAE,SAASuC,kBAAT,GAA8B;AACnC,WAAKC,IAAL,CAAU,KAAKV,KAAf;AACD;AAJiC,GAAD,EAKhC;AACDQ,IAAAA,GAAG,EAAE,MADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASwC,IAAT,CAAcV,KAAd,EAAqB;AAC1B,UAAIO,SAAS,GAAG,KAAKF,KAAL,CAAWE,SAA3B;AACA,UAAID,QAAQ,GAAGN,KAAK,CAACM,QAArB;AAEA,UAAIK,WAAW,GAAGL,QAAQ,CAACM,GAAT,CAAa,UAAUC,IAAV,EAAgB;AAC7CA,QAAAA,IAAI,CAACC,GAAL,GAAWD,IAAI,CAACC,GAAL,IAAYC,IAAI,CAACC,GAAL,KAAaT,SAAS,EAA7C;AACAM,QAAAA,IAAI,CAACI,MAAL,GAAc,SAAd;AACA,eAAOJ,IAAP;AACD,OAJiB,CAAlB;AAKA,WAAKK,QAAL,CAAc;AAAEZ,QAAAA,QAAQ,EAAEK;AAAZ,OAAd;AACD;AAZA,GALgC,EAkBhC;AACDH,IAAAA,GAAG,EAAE,iBADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASiD,eAAT,GAA2B;AAChC,aAAO;AACLC,QAAAA,SAAS,EAAE,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CADN;AAELC,QAAAA,QAAQ,EAAE,KAAKC,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB;AAFL,OAAP;AAID;AAPA,GAlBgC,EA0BhC;AACDd,IAAAA,GAAG,EAAE,SADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASuD,OAAT,CAAiBZ,IAAjB,EAAuB;AAC5B,UAAIA,IAAJ,EAAU;AACR,eAAO,KAAKR,KAAL,CAAWC,QAAX,CAAoBoB,IAApB,CAAyB,UAAUC,IAAV,EAAgB;AAC9C,iBAAOA,IAAI,CAACb,GAAL,KAAaD,IAAI,CAACC,GAAzB;AACD,SAFM,CAAP;AAGD;;AAED,aAAO,IAAP;AACD;AAVA,GA1BgC,EAqChC;AACDN,IAAAA,GAAG,EAAE,aADJ;AAEDtC,IAAAA,KAAK,EAAE,SAAS0D,WAAT,CAAqBf,IAArB,EAA2B;AAChC,UAAIgB,MAAM,GAAG,KAAKxB,KAAlB;AAAA,UACIE,SAAS,GAAGsB,MAAM,CAACtB,SADvB;AAAA,UAEID,QAAQ,GAAGuB,MAAM,CAACvB,QAFtB;AAKAO,MAAAA,IAAI,CAACC,GAAL,GAAWC,IAAI,CAACC,GAAL,KAAaT,SAAS,EAAjC;AAEA,UAAIuB,KAAK,GAAG;AACVb,QAAAA,MAAM,EAAE,OADE;AAEVc,QAAAA,IAAI,EAAElB,IAAI,CAACkB,IAFD;AAGVC,QAAAA,IAAI,EAAEnB,IAAI,CAACmB,IAHD;AAIVC,QAAAA,UAAU,EAAE,CAJF;AAKVnB,QAAAA,GAAG,EAAED,IAAI,CAACC,GALA;AAMVoB,QAAAA,GAAG,EAAErB;AANK,OAAZ;;AASA,UAAI;AACFiB,QAAAA,KAAK,CAACK,GAAN,GAAYC,GAAG,CAACC,eAAJ,CAAoBxB,IAApB,CAAZ;AACD,OAFD,CAEE,OAAOyB,GAAP,EAAY;AACZ;AACD;;AAEDhC,MAAAA,QAAQ,CAACiC,IAAT,CAAcT,KAAd;AACA,WAAKZ,QAAL,CAAc;AACZZ,QAAAA,QAAQ,EAAEA,QADE;AAEZC,QAAAA,SAAS,EAAEA;AAFC,OAAd;AAID;AA9BA,GArCgC,EAoEhC;AACDC,IAAAA,GAAG,EAAE,gBADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASsE,cAAT,CAAwBC,CAAxB,EAA2B5B,IAA3B,EAAiC;AACtC,UAAIP,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;;AAEA,UAAIwB,KAAK,GAAG,KAAKL,OAAL,CAAaZ,IAAb,CAAZ;;AACA,UAAIiB,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACG,UAAN,GAAmBQ,CAAC,CAACC,OAAF,IAAa,CAAhC;AACAZ,QAAAA,KAAK,CAACb,MAAN,GAAe,WAAf;AACA,aAAKjB,KAAL,CAAW2C,UAAX,CAAsBF,CAAtB,EAAyBX,KAAzB,EAAgCxB,QAAhC;AACA,aAAKY,QAAL,CAAc;AAAEZ,UAAAA,QAAQ,EAAEA;AAAZ,SAAd;AACD;AACF;AAZA,GApEgC,EAiFhC;AACDE,IAAAA,GAAG,EAAE,eADJ;AAEDtC,IAAAA,KAAK,EAAE,SAAS0E,aAAT,CAAuBC,GAAvB,EAA4BhC,IAA5B,EAAkC;AACvC,UAAIiC,MAAM,GAAG,IAAb;;AAEA,UAAIxC,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;;AAEA,UAAIwB,KAAK,GAAG,KAAKL,OAAL,CAAaZ,IAAb,CAAZ;;AACA,UAAIiB,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACb,MAAN,GAAe,SAAf;AACAa,QAAAA,KAAK,CAACiB,QAAN,GAAiBF,GAAjB;AAEAG,QAAAA,UAAU,CAAC,YAAY;AACrBF,UAAAA,MAAM,CAAC5B,QAAP,CAAgB;AAAEZ,YAAAA,QAAQ,EAAEA;AAAZ,WAAhB,EAAwC,YAAY;AAClDwC,YAAAA,MAAM,CAAC9C,KAAP,CAAaiD,SAAb,CAAuBJ,GAAvB,EAA4Bf,KAA5B,EAAmCxB,QAAnC;;AACAwC,YAAAA,MAAM,CAAC9C,KAAP,CAAakD,QAAb,CAAsBpB,KAAtB,EAA6BxB,QAA7B;AACD,WAHD;AAID,SALS,EAKP,IALO,CAAV;AAMD;AACF;AAnBA,GAjFgC,EAqGhC;AACDE,IAAAA,GAAG,EAAE,aADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASiF,WAAT,CAAqBb,GAArB,EAA0BzB,IAA1B,EAAgC;AACrC,UAAIuC,MAAM,GAAG,IAAb;;AAEA,UAAI9C,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;;AAEA,UAAIwB,KAAK,GAAG,KAAKL,OAAL,CAAaZ,IAAb,CAAZ;;AACA,UAAIiB,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACb,MAAN,GAAe,MAAf;AACAX,QAAAA,QAAQ,CAAC+C,MAAT,CAAgB/C,QAAQ,CAACgD,OAAT,CAAiBxB,KAAjB,CAAhB,EAAyC,CAAzC;AACA,aAAKZ,QAAL,CAAc;AAAEZ,UAAAA,QAAQ,EAAEA;AAAZ,SAAd,EAAsC,YAAY;AAChD8C,UAAAA,MAAM,CAACpD,KAAP,CAAauD,OAAb,CAAqBjB,GAArB,EAA0BR,KAA1B,EAAiCxB,QAAjC;;AACA8C,UAAAA,MAAM,CAACpD,KAAP,CAAakD,QAAb,CAAsBpB,KAAtB,EAA6BxB,QAA7B;AACD,SAHD;AAID;AACF;AAhBA,GArGgC,EAsHhC;AACDE,IAAAA,GAAG,EAAE,cADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASsD,YAAT,CAAsBX,IAAtB,EAA4B;AACjC,UAAI2C,MAAM,GAAG,IAAb;;AAEA,UAAIlD,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;;AAEA,UAAIwB,KAAK,GAAG,KAAKL,OAAL,CAAaZ,IAAb,CAAZ;;AACA,UAAIiB,KAAJ,EAAW;AACTxB,QAAAA,QAAQ,CAAC+C,MAAT,CAAgB/C,QAAQ,CAACgD,OAAT,CAAiBxB,KAAjB,CAAhB,EAAyC,CAAzC;AACA,aAAKZ,QAAL,CAAc;AAAEZ,UAAAA,QAAQ,EAAEA;AAAZ,SAAd,EAAsC,YAAY;AAChD,iBAAOkD,MAAM,CAACxD,KAAP,CAAauB,QAAb,CAAsBV,IAAtB,EAA4BP,QAA5B,CAAP;AACD,SAFD;AAGD;AACF;AAdA,GAtHgC,EAqIhC;AACDE,IAAAA,GAAG,EAAE,eADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASmD,aAAT,CAAuBR,IAAvB,EAA6B;AAClC,UAAIA,IAAI,CAACI,MAAL,KAAgB,SAApB,EAA+B;AAC7B,aAAKjB,KAAL,CAAWoB,SAAX,CAAqBP,IAArB;AACD;AACF;AANA,GArIgC,EA4IhC;AACDL,IAAAA,GAAG,EAAE,YADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASuF,UAAT,GAAsB;AAC3B,WAAKvC,QAAL,CAAc;AACZZ,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD;AANA,GA5IgC,EAmJhC;AACDE,IAAAA,GAAG,EAAE,QADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASwF,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,WAAKtD,KAAL,CAAWC,QAAX,CAAoBsD,MAApB,CAA2B,UAAU/C,IAAV,EAAgB;AACzC,eAAOA,IAAI,CAACI,MAAL,KAAgB,OAAvB;AACD,OAFD,EAEG4C,OAFH,CAEW,UAAUhD,IAAV,EAAgB;AACzB8C,QAAAA,MAAM,CAACG,IAAP,CAAY,cAAZ,EAA4BC,MAA5B,CAAmClD,IAAI,CAACqB,GAAxC,EAA6CrB,IAA7C;AACD,OAJD;AAKD;AAVA,GAnJgC,EA8JhC;AACDL,IAAAA,GAAG,EAAE,WADJ;AAEDtC,IAAAA,KAAK,EAAE,SAAS8F,SAAT,GAAqB;AAC1B,UAAI1D,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AAEA,UAAIO,IAAI,GAAGP,QAAQ,CAACA,QAAQ,CAAC2D,MAAT,GAAkB,CAAnB,CAAnB;AACA,aAAOpD,IAAI,IAAIA,IAAI,CAACI,MAAL,KAAgB,MAA/B;AACD;AAPA,GA9JgC,EAsKhC;AACDT,IAAAA,GAAG,EAAE,QADJ;AAEDtC,IAAAA,KAAK,EAAE,SAASgG,MAAT,GAAkB;AACvB,UAAI5D,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,UAAI6D,MAAM,GAAG,KAAKnE,KAAlB;AAAA,UACIoE,YAAY,GAAGD,MAAM,CAACC,YAD1B;AAAA,UAEIC,UAAU,GAAGF,MAAM,CAACE,UAFxB;AAAA,UAGIC,IAAI,GAAGH,MAAM,CAACG,IAHlB;AAAA,UAIIC,GAAG,GAAGJ,MAAM,CAACI,GAJjB;AAAA,UAKIC,MAAM,GAAGL,MAAM,CAACK,MALpB;AAAA,UAMIC,QAAQ,GAAGN,MAAM,CAACM,QANtB;AAAA,UAOIC,YAAY,GAAGP,MAAM,CAACO,YAP1B;AAAA,UAQIC,eAAe,GAAGR,MAAM,CAACQ,eAR7B;AAAA,UASIC,OAAO,GAAGT,MAAM,CAACS,OATrB;AAAA,UAUI7C,IAAI,GAAGoC,MAAM,CAACpC,IAVlB;AAAA,UAWI8C,IAAI,GAAGV,MAAM,CAACU,IAXlB;AAAA,UAYIC,MAAM,GAAGX,MAAM,CAACW,MAZpB;AAAA,UAaIC,QAAQ,GAAGZ,MAAM,CAACY,QAbtB;AAAA,UAcIC,SAAS,GAAGb,MAAM,CAACa,SAdvB;AAAA,UAeIC,KAAK,GAAGd,MAAM,CAACc,KAfnB;AAAA,UAgBIC,QAAQ,GAAGf,MAAM,CAACe,QAhBtB;AAAA,UAiBIC,QAAQ,GAAGhB,MAAM,CAACgB,QAjBtB;AAAA,UAkBIC,WAAW,GAAGjB,MAAM,CAACiB,WAlBzB;AAoBA,UAAIC,UAAU,GAAG,KAAK,CAAtB;;AACA,UAAIjB,YAAY,IAAI9D,QAAQ,CAAC2D,MAA7B,EAAqC;AACnCoB,QAAAA,UAAU,GAAGrG,OAAO,CAACU,OAAR,CAAgB4F,aAAhB,CAA8BnG,YAAY,CAACO,OAA3C,EAAoD;AAAEqF,UAAAA,QAAQ,EAAEA,QAAZ;AAAsBzE,UAAAA,QAAQ,EAAEA;AAAhC,SAApD,CAAb;AACD;;AACD,UAAIiF,SAAS,GAAG;AACdlB,QAAAA,UAAU,EAAEA,UADE;AAEdC,QAAAA,IAAI,EAAEA,IAFQ;AAGdE,QAAAA,MAAM,EAAEA,MAHM;AAIdC,QAAAA,QAAQ,EAAEA,QAJI;AAKdC,QAAAA,YAAY,EAAEA,YALA;AAMdC,QAAAA,eAAe,EAAEA,eANH;AAOdC,QAAAA,OAAO,EAAEA,OAPK;AAQd7C,QAAAA,IAAI,EAAEA,IARQ;AASd8C,QAAAA,IAAI,EAAEA,IATQ;AAUdC,QAAAA,MAAM,EAAEA,MAVM;AAWdC,QAAAA,QAAQ,EAAEA,QAXI;AAYdzE,QAAAA,QAAQ,EAAEA,QAZI;AAad2E,QAAAA,KAAK,EAAEA,KAbO;AAcdC,QAAAA,QAAQ,EAAEA,QAdI;AAedC,QAAAA,QAAQ,EAAEA,QAfI;AAgBdC,QAAAA,WAAW,EAAEA,WAhBC;AAiBdI,QAAAA,OAAO,EAAE,KAAK5D,WAAL,CAAiBN,IAAjB,CAAsB,IAAtB,CAjBK;AAkBdqB,QAAAA,UAAU,EAAE,KAAKH,cAAL,CAAoBlB,IAApB,CAAyB,IAAzB,CAlBE;AAmBd2B,QAAAA,SAAS,EAAE,KAAKL,aAAL,CAAmBtB,IAAnB,CAAwB,IAAxB,CAnBG;AAoBdiC,QAAAA,OAAO,EAAE,KAAKJ,WAAL,CAAiB7B,IAAjB,CAAsB,IAAtB,CApBK;AAqBdF,QAAAA,SAAS,EAAE,KAAKC,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CArBG;AAsBdC,QAAAA,QAAQ,EAAE,KAAKC,YAAL,CAAkBF,IAAlB,CAAuB,IAAvB,CAtBI;AAuBd0C,QAAAA,SAAS,EAAE,KAAKA,SAAL,EAvBG;AAwBdyB,QAAAA,GAAG,EAAE;AAxBS,OAAhB;AA0BA,UAAIC,OAAO,GAAG,KAAK1F,KAAL,CAAW0F,OAAX,IAAsB,KAAK1F,KAAL,CAAW2F,QAA/C;AACA,UAAIC,eAAe,GAAG,OAAOC,QAAP,KAAoB,WAApB,GAAkC7G,OAAO,CAACU,OAAR,CAAgB4F,aAAhB,CACtD/F,YAAY,CAACG,OADyC,EAEtD,CAAC,GAAGrB,SAAS,CAACqB,OAAd,EAAuB;AAAEc,QAAAA,GAAG,EAAE;AAAP,OAAvB,EAA8C+E,SAA9C,CAFsD,EAGtDG,OAHsD,CAAlC,GAIlB1G,OAAO,CAACU,OAAR,CAAgB4F,aAAhB,CACF,cADE,EAEF,CAAC,GAAGjH,SAAS,CAACqB,OAAd,EAAuB;AAAEc,QAAAA,GAAG,EAAE;AAAP,OAAvB,EAAgD+E,SAAhD,CAFE,EAGFG,OAHE,CAJJ;AASA,aAAO1G,OAAO,CAACU,OAAR,CAAgB4F,aAAhB,CACL,KADK,EAEL;AAAEN,QAAAA,SAAS,EAAEA;AAAb,OAFK,EAGLD,QAAQ,KAAK,cAAb,GAA8BM,UAA9B,GAA2C,EAHtC,EAIL,KAAKrF,KAAL,CAAW0F,OAAX,GAAqB,CAACE,eAAD,EAAkB,KAAK5F,KAAL,CAAW2F,QAA7B,CAArB,GAA8DC,eAJzD,EAKLrB,GALK,EAMLQ,QAAQ,KAAK,cAAb,GAA8BM,UAA9B,GAA2C,EANtC,CAAP;AAQD;AAxEA,GAtKgC,EA+OhC;AACD7E,IAAAA,GAAG,EAAE,kCADJ;AAED;AACAtC,IAAAA,KAAK,EAAE,SAAS4H,gCAAT,CAA0CtF,GAA1C,EAA+CuF,IAA/C,EAAqD;AAC1D;AACA,WAAKvF,GAAL,IAAYwF,IAAI,CAACD,IAAD,CAAhB;AACD;AANA,GA/OgC,CAAnC;AAuPA,SAAOjG,MAAP;AACD,CAvQY,CAuQXb,KAAK,CAACgH,SAvQK,CAAb;;AAyQAnG,MAAM,CAACoG,YAAP,GAAsB;AACpBtB,EAAAA,OAAO,EAAE,EADW;AAEpB7C,EAAAA,IAAI,EAAE,MAFc;AAGpBoE,EAAAA,IAAI,EAAE,QAHc;AAIpBpB,EAAAA,QAAQ,EAAE,MAJU;AAKpBzE,EAAAA,QAAQ,EAAE,EALU;AAMpB8D,EAAAA,YAAY,EAAE,IANM;AAOpBC,EAAAA,UAAU,EAAE,IAPQ;AAQpBa,EAAAA,QAAQ,EAAE,KARU;AASpB3D,EAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB,CAAE,CATZ;AAUpBH,EAAAA,SAAS,EAAE,SAASA,SAAT,GAAqB,CAAE,CAVd;AAWpBuB,EAAAA,UAAU,EAAE,SAASA,UAAT,GAAsB,CAAE,CAXhB;AAYpBM,EAAAA,SAAS,EAAE,SAASA,SAAT,GAAqB,CAAE,CAZd;AAapBM,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CAbV;AAcpBL,EAAAA,QAAQ,EAAE,SAASA,QAAT,GAAoB,CAAE;AAdZ,CAAtB;AAgBA,IAAIkD,QAAQ,GAAGtG,MAAf;AACA7B,OAAO,CAACyB,OAAR,GAAkB0G,QAAlB;AAGAtG,MAAM,CAACuG,iBAAP,GAA2B;AACzBjF,EAAAA,SAAS,EAAEnC,KAAK,CAACqH,SAAN,CAAgBC,IADF;AAEzBhF,EAAAA,QAAQ,EAAEtC,KAAK,CAACqH,SAAN,CAAgBC;AAFD,CAA3B;AAKAzG,MAAM,CAAC0G,SAAP,GAAmB;AACjBhC,EAAAA,MAAM,EAAEvF,KAAK,CAACqH,SAAN,CAAgBG,MAAhB,CAAuBC,UADd;AAEjB9B,EAAAA,OAAO,EAAE3F,KAAK,CAACqH,SAAN,CAAgBK,MAFR;AAGjB9B,EAAAA,IAAI,EAAE5F,KAAK,CAACqH,SAAN,CAAgBK,MAHL;AAIjBlC,EAAAA,QAAQ,EAAExF,KAAK,CAACqH,SAAN,CAAgBM,IAJT;AAKjB7E,EAAAA,IAAI,EAAE9C,KAAK,CAACqH,SAAN,CAAgBG,MALL;AAMjB9B,EAAAA,eAAe,EAAE1F,KAAK,CAACqH,SAAN,CAAgBM,IANhB;AAOjBxC,EAAAA,YAAY,EAAEnF,KAAK,CAACqH,SAAN,CAAgBM,IAPb;AAQjBtG,EAAAA,QAAQ,EAAErB,KAAK,CAACqH,SAAN,CAAgBO,KART;AASjBxC,EAAAA,UAAU,EAAEpF,KAAK,CAACqH,SAAN,CAAgBM,IATX;AAUjB9B,EAAAA,MAAM,EAAE7F,KAAK,CAACqH,SAAN,CAAgBG,MAVP;AAWjBnC,EAAAA,IAAI,EAAErF,KAAK,CAACqH,SAAN,CAAgBM,IAXL;AAYjB7B,EAAAA,QAAQ,EAAE9F,KAAK,CAACqH,SAAN,CAAgBQ,KAAhB,CAAsB,CAAC,MAAD,EAAS,SAAT,EAAoB,cAApB,CAAtB,CAZO;AAajBvC,EAAAA,GAAG,EAAEtF,KAAK,CAACqH,SAAN,CAAgBS,IAbJ;AAcjBrB,EAAAA,OAAO,EAAEzG,KAAK,CAACqH,SAAN,CAAgBS,IAdR;AAejBrC,EAAAA,YAAY,EAAEzF,KAAK,CAACqH,SAAN,CAAgBC,IAfb;AAgBjBhF,EAAAA,QAAQ,EAAEtC,KAAK,CAACqH,SAAN,CAAgBC,IAhBT;AAiBjBnF,EAAAA,SAAS,EAAEnC,KAAK,CAACqH,SAAN,CAAgBC,IAjBV;AAkBjB5D,EAAAA,UAAU,EAAE1D,KAAK,CAACqH,SAAN,CAAgBC,IAlBX;AAmBjBtD,EAAAA,SAAS,EAAEhE,KAAK,CAACqH,SAAN,CAAgBC,IAnBV;AAoBjBhD,EAAAA,OAAO,EAAEtE,KAAK,CAACqH,SAAN,CAAgBC,IApBR;AAqBjBrD,EAAAA,QAAQ,EAAEjE,KAAK,CAACqH,SAAN,CAAgBC,IArBT;AAsBjBvB,EAAAA,SAAS,EAAE/F,KAAK,CAACqH,SAAN,CAAgBG,MAtBV;AAuBjBvB,EAAAA,QAAQ,EAAEjG,KAAK,CAACqH,SAAN,CAAgBM,IAvBT;AAwBjB3B,EAAAA,KAAK,EAAEhG,KAAK,CAACqH,SAAN,CAAgBU,MAxBN;AAyBjB7B,EAAAA,QAAQ,EAAElG,KAAK,CAACqH,SAAN,CAAgBC,IAzBT;AA0BjBnB,EAAAA,WAAW,EAAEnG,KAAK,CAACqH,SAAN,CAAgBC;AA1BZ,CAAnB;AA4BA;;AAEA,CAAC,YAAY;AACX,MAAIU,cAAc,GAAG,CAAC,OAAOrH,oBAAP,KAAgC,WAAhC,GAA8CA,oBAA9C,GAAqExB,OAAO,CAAC,kBAAD,CAA7E,EAAmGsB,OAAxH;;AAEA,MAAI,CAACuH,cAAL,EAAqB;AACnB;AACD;;AAEDA,EAAAA,cAAc,CAACC,QAAf,CAAwBpH,MAAxB,EAAgC,QAAhC,EAA0C,uBAA1C;AACAmH,EAAAA,cAAc,CAACC,QAAf,CAAwBd,QAAxB,EAAkC,SAAlC,EAA6C,uBAA7C;AACD,CATD;;AAWA;;AAEA,CAAC,YAAY;AACX,MAAIe,WAAW,GAAG,CAAC,OAAOvH,oBAAP,KAAgC,WAAhC,GAA8CA,oBAA9C,GAAqExB,OAAO,CAAC,kBAAD,CAA7E,EAAmG+I,WAArH;AACAA,EAAAA,WAAW,IAAIA,WAAW,CAACtH,MAAD,CAA1B;AACD,CAHD","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _libs = require('../../libs');\n\nvar _UploadList = require('./UploadList');\n\nvar _UploadList2 = _interopRequireDefault(_UploadList);\n\nvar _iFrameUpload = require('./iFrameUpload');\n\nvar _iFrameUpload2 = _interopRequireDefault(_iFrameUpload);\n\nvar _AjaxUpload = require('./AjaxUpload');\n\nvar _AjaxUpload2 = _interopRequireDefault(_AjaxUpload);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar Upload = function (_Component) {\n  (0, _inherits3.default)(Upload, _Component);\n\n  function Upload(props) {\n    (0, _classCallCheck3.default)(this, Upload);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Upload.__proto__ || Object.getPrototypeOf(Upload)).call(this, props));\n\n    _this.state = {\n      fileList: [],\n      tempIndex: 1\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Upload, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.init(this.props);\n    }\n  }, {\n    key: 'init',\n    value: function init(props) {\n      var tempIndex = this.state.tempIndex;\n      var fileList = props.fileList;\n\n      var uploadFiles = fileList.map(function (file) {\n        file.uid = file.uid || Date.now() + tempIndex++;\n        file.status = 'success';\n        return file;\n      });\n      this.setState({ fileList: uploadFiles });\n    }\n  }, {\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        onPreview: this.handlePreview.bind(this),\n        onRemove: this.handleRemove.bind(this)\n      };\n    }\n  }, {\n    key: 'getFile',\n    value: function getFile(file) {\n      if (file) {\n        return this.state.fileList.find(function (item) {\n          return item.uid === file.uid;\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: 'handleStart',\n    value: function handleStart(file) {\n      var _state = this.state,\n          tempIndex = _state.tempIndex,\n          fileList = _state.fileList;\n\n\n      file.uid = Date.now() + tempIndex++;\n\n      var _file = {\n        status: 'ready',\n        name: file.name,\n        size: file.size,\n        percentage: 0,\n        uid: file.uid,\n        raw: file\n      };\n\n      try {\n        _file.url = URL.createObjectURL(file);\n      } catch (err) {\n        return;\n      }\n\n      fileList.push(_file);\n      this.setState({\n        fileList: fileList,\n        tempIndex: tempIndex\n      });\n    }\n  }, {\n    key: 'handleProgress',\n    value: function handleProgress(e, file) {\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n      if (_file) {\n        _file.percentage = e.percent || 0;\n        _file.status = 'uploading';\n        this.props.onProgress(e, _file, fileList);\n        this.setState({ fileList: fileList });\n      }\n    }\n  }, {\n    key: 'handleSuccess',\n    value: function handleSuccess(res, file) {\n      var _this2 = this;\n\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n      if (_file) {\n        _file.status = 'success';\n        _file.response = res;\n\n        setTimeout(function () {\n          _this2.setState({ fileList: fileList }, function () {\n            _this2.props.onSuccess(res, _file, fileList);\n            _this2.props.onChange(_file, fileList);\n          });\n        }, 1000);\n      }\n    }\n  }, {\n    key: 'handleError',\n    value: function handleError(err, file) {\n      var _this3 = this;\n\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n      if (_file) {\n        _file.status = 'fail';\n        fileList.splice(fileList.indexOf(_file), 1);\n        this.setState({ fileList: fileList }, function () {\n          _this3.props.onError(err, _file, fileList);\n          _this3.props.onChange(_file, fileList);\n        });\n      }\n    }\n  }, {\n    key: 'handleRemove',\n    value: function handleRemove(file) {\n      var _this4 = this;\n\n      var fileList = this.state.fileList;\n\n      var _file = this.getFile(file);\n      if (_file) {\n        fileList.splice(fileList.indexOf(_file), 1);\n        this.setState({ fileList: fileList }, function () {\n          return _this4.props.onRemove(file, fileList);\n        });\n      }\n    }\n  }, {\n    key: 'handlePreview',\n    value: function handlePreview(file) {\n      if (file.status === 'success') {\n        this.props.onPreview(file);\n      }\n    }\n  }, {\n    key: 'clearFiles',\n    value: function clearFiles() {\n      this.setState({\n        fileList: []\n      });\n    }\n  }, {\n    key: 'submit',\n    value: function submit() {\n      var _this5 = this;\n\n      this.state.fileList.filter(function (file) {\n        return file.status === 'ready';\n      }).forEach(function (file) {\n        _this5.refs['upload-inner'].upload(file.raw, file);\n      });\n    }\n  }, {\n    key: 'showCover',\n    value: function showCover() {\n      var fileList = this.state.fileList;\n\n      var file = fileList[fileList.length - 1];\n      return file && file.status !== 'fail';\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var fileList = this.state.fileList;\n      var _props = this.props,\n          showFileList = _props.showFileList,\n          autoUpload = _props.autoUpload,\n          drag = _props.drag,\n          tip = _props.tip,\n          action = _props.action,\n          multiple = _props.multiple,\n          beforeUpload = _props.beforeUpload,\n          withCredentials = _props.withCredentials,\n          headers = _props.headers,\n          name = _props.name,\n          data = _props.data,\n          accept = _props.accept,\n          listType = _props.listType,\n          className = _props.className,\n          limit = _props.limit,\n          disabled = _props.disabled,\n          onExceed = _props.onExceed,\n          httpRequest = _props.httpRequest;\n\n      var uploadList = void 0;\n      if (showFileList && fileList.length) {\n        uploadList = _react2.default.createElement(_UploadList2.default, { listType: listType, fileList: fileList });\n      }\n      var restProps = {\n        autoUpload: autoUpload,\n        drag: drag,\n        action: action,\n        multiple: multiple,\n        beforeUpload: beforeUpload,\n        withCredentials: withCredentials,\n        headers: headers,\n        name: name,\n        data: data,\n        accept: accept,\n        listType: listType,\n        fileList: fileList,\n        limit: limit,\n        disabled: disabled,\n        onExceed: onExceed,\n        httpRequest: httpRequest,\n        onStart: this.handleStart.bind(this),\n        onProgress: this.handleProgress.bind(this),\n        onSuccess: this.handleSuccess.bind(this),\n        onError: this.handleError.bind(this),\n        onPreview: this.handlePreview.bind(this),\n        onRemove: this.handleRemove.bind(this),\n        showCover: this.showCover(),\n        ref: 'upload-inner'\n      };\n      var trigger = this.props.trigger || this.props.children;\n      var uploadComponent = typeof FormData !== 'undefined' ? _react2.default.createElement(\n        _AjaxUpload2.default,\n        (0, _extends3.default)({ key: 'AjaxUpload' }, restProps),\n        trigger\n      ) : _react2.default.createElement(\n        'iFrameUpload',\n        (0, _extends3.default)({ key: 'iFrameUpload' }, restProps),\n        trigger\n      );\n      return _react2.default.createElement(\n        'div',\n        { className: className },\n        listType === 'picture-card' ? uploadList : '',\n        this.props.trigger ? [uploadComponent, this.props.children] : uploadComponent,\n        tip,\n        listType !== 'picture-card' ? uploadList : ''\n      );\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Upload;\n}(_libs.Component);\n\nUpload.defaultProps = {\n  headers: {},\n  name: 'file',\n  type: 'select',\n  listType: 'text',\n  fileList: [],\n  showFileList: true,\n  autoUpload: true,\n  disabled: false,\n  onRemove: function onRemove() {},\n  onPreview: function onPreview() {},\n  onProgress: function onProgress() {},\n  onSuccess: function onSuccess() {},\n  onError: function onError() {},\n  onChange: function onChange() {}\n};\nvar _default = Upload;\nexports.default = _default;\n\n\nUpload.childContextTypes = {\n  onPreview: _libs.PropTypes.func,\n  onRemove: _libs.PropTypes.func\n};\n\nUpload.propTypes = {\n  action: _libs.PropTypes.string.isRequired,\n  headers: _libs.PropTypes.object,\n  data: _libs.PropTypes.object,\n  multiple: _libs.PropTypes.bool,\n  name: _libs.PropTypes.string,\n  withCredentials: _libs.PropTypes.bool,\n  showFileList: _libs.PropTypes.bool,\n  fileList: _libs.PropTypes.array,\n  autoUpload: _libs.PropTypes.bool,\n  accept: _libs.PropTypes.string,\n  drag: _libs.PropTypes.bool,\n  listType: _libs.PropTypes.oneOf(['text', 'picture', 'picture-card']),\n  tip: _libs.PropTypes.node,\n  trigger: _libs.PropTypes.node,\n  beforeUpload: _libs.PropTypes.func,\n  onRemove: _libs.PropTypes.func,\n  onPreview: _libs.PropTypes.func,\n  onProgress: _libs.PropTypes.func,\n  onSuccess: _libs.PropTypes.func,\n  onError: _libs.PropTypes.func,\n  onChange: _libs.PropTypes.func,\n  className: _libs.PropTypes.string,\n  disabled: _libs.PropTypes.bool,\n  limit: _libs.PropTypes.number,\n  onExceed: _libs.PropTypes.func,\n  httpRequest: _libs.PropTypes.func\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Upload, 'Upload', 'src/upload/Upload.jsx');\n  reactHotLoader.register(_default, 'default', 'src/upload/Upload.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}