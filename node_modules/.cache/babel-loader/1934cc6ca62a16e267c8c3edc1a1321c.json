{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar reInitChecked = function reInitChecked(node) {\n  var siblings = node.childNodes;\n  var all = true;\n  var none = true;\n\n  for (var i = 0, j = siblings.length; i < j; i++) {\n    var sibling = siblings[i];\n\n    if (sibling.checked !== true || sibling.indeterminate) {\n      all = false;\n    }\n\n    if (sibling.checked !== false || sibling.indeterminate) {\n      none = false;\n    }\n  }\n\n  if (all) {\n    node.setChecked(true);\n  } else if (!all && !none) {\n    node.setChecked('half');\n  } else if (none) {\n    node.setChecked(false);\n  }\n};\n\nvar getPropertyFromData = function getPropertyFromData(node, prop) {\n  var props = node.store.props;\n  var data = node.data || {};\n  var config = props[prop];\n\n  if (typeof config === 'function') {\n    return config(data, node);\n  } else if (typeof config === 'string') {\n    return data[config];\n  } else if (typeof config === 'undefined') {\n    return '';\n  }\n};\n\nvar nodeIdSeed = 0;\n\nvar Node = function () {\n  function Node(options) {\n    (0, _classCallCheck3.default)(this, Node);\n    this.id = nodeIdSeed++;\n    this.text = null;\n    this.checked = false;\n    this.indeterminate = false;\n    this.data = null;\n    this.expanded = false;\n    this.parent = null;\n    this.visible = true;\n\n    for (var name in options) {\n      if (options.hasOwnProperty(name)) {\n        this[name] = options[name];\n      }\n    } // internal\n\n\n    this.level = 0;\n    this.loaded = false;\n    this.childNodes = [];\n    this.loading = false;\n\n    if (this.parent) {\n      this.level = this.parent.level + 1;\n    }\n\n    var store = this.store;\n\n    if (!store) {\n      throw new Error('[Node]store is required!');\n    }\n\n    store.registerNode(this);\n    var props = store.props;\n\n    if (props && typeof props.isLeaf !== 'undefined') {\n      var isLeaf = getPropertyFromData(this, 'isLeaf');\n\n      if (typeof isLeaf === 'boolean') {\n        this.isLeafByUser = isLeaf;\n      }\n    }\n\n    if (store.lazy !== true && this.data) {\n      this.setData(this.data);\n\n      if (store.defaultExpandAll) {\n        this.expanded = true;\n      }\n    } else if (this.level > 0 && store.lazy && store.defaultExpandAll) {\n      this.expand();\n    }\n\n    if (!this.data) return;\n    var defaultExpandedKeys = store.defaultExpandedKeys;\n    var key = store.key;\n\n    if (key && defaultExpandedKeys && defaultExpandedKeys.indexOf(this.key) !== -1) {\n      this.expand(null, store.autoExpandParent);\n    }\n\n    if (key && store.currentNodeKey && this.key === store.currentNodeKey) {\n      store.currentNode = this;\n    }\n\n    if (store.lazy) {\n      store._initDefaultCheckedNode(this);\n    }\n\n    this.updateLeafState();\n  }\n\n  (0, _createClass3.default)(Node, [{\n    key: 'setData',\n    value: function setData(data) {\n      if (!Array.isArray(data)) {\n        (0, _util.markNodeData)(this, data);\n      }\n\n      this.data = data;\n      this.childNodes = [];\n      var children = void 0;\n\n      if (this.level === 0 && this.data instanceof Array) {\n        children = this.data;\n      } else {\n        children = getPropertyFromData(this, 'children') || [];\n      }\n\n      for (var i = 0, j = children.length; i < j; i++) {\n        this.insertChild({\n          data: children[i]\n        });\n      }\n    }\n  }, {\n    key: 'insertChild',\n    value: function insertChild(child, index) {\n      if (!child) throw new Error('insertChild error: child is required.');\n\n      if (!(child instanceof Node)) {\n        Object.assign(child, {\n          parent: this,\n          store: this.store\n        });\n        child = new Node(child);\n      }\n\n      child.level = this.level + 1;\n\n      if (typeof index === 'undefined' || index < 0) {\n        this.childNodes.push(child);\n      } else {\n        this.childNodes.splice(index, 0, child);\n      }\n\n      this.updateLeafState();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(child, ref) {\n      var index = void 0;\n\n      if (ref) {\n        index = this.childNodes.indexOf(ref);\n      }\n\n      this.insertChild(child, index);\n    }\n  }, {\n    key: 'insertAfter',\n    value: function insertAfter(child, ref) {\n      var index = void 0;\n\n      if (ref) {\n        index = this.childNodes.indexOf(ref);\n        if (index !== -1) index += 1;\n      }\n\n      this.insertChild(child, index);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      var index = this.childNodes.indexOf(child);\n\n      if (index > -1) {\n        this.store && this.store.deregisterNode(child);\n        child.parent = null;\n        this.childNodes.splice(index, 1);\n      }\n\n      this.updateLeafState();\n    }\n  }, {\n    key: 'removeChildByData',\n    value: function removeChildByData(data) {\n      var targetNode = null;\n      this.childNodes.forEach(function (node) {\n        if (node.data === data) {\n          targetNode = node;\n        }\n      });\n\n      if (targetNode) {\n        this.removeChild(targetNode);\n      }\n    }\n  }, {\n    key: 'expand',\n    value: function expand(callback, expandParent) {\n      var _this = this;\n\n      var done = function done() {\n        if (expandParent) {\n          var parent = _this.parent;\n\n          while (parent.level > 0) {\n            parent.expanded = true;\n            parent = parent.parent;\n          }\n        }\n\n        _this.expanded = true;\n        if (callback) callback();\n      };\n\n      if (this.shouldLoadData()) {\n        this.loadData(function (data) {\n          if (data instanceof Array) {\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    }\n  }, {\n    key: 'doCreateChildren',\n    value: function doCreateChildren(array) {\n      var _this2 = this;\n\n      var defaultProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      array.forEach(function (item) {\n        _this2.insertChild(Object.assign({\n          data: item\n        }, defaultProps));\n      });\n    }\n  }, {\n    key: 'collapse',\n    value: function collapse() {\n      this.expanded = false;\n    }\n  }, {\n    key: 'shouldLoadData',\n    value: function shouldLoadData() {\n      return this.store.lazy === true && this.store.load && !this.loaded;\n    }\n  }, {\n    key: 'updateLeafState',\n    value: function updateLeafState() {\n      if (this.store.lazy === true && this.loaded !== true && typeof this.isLeafByUser !== 'undefined') {\n        this.isLeaf = this.isLeafByUser;\n        return;\n      }\n\n      var childNodes = this.childNodes;\n\n      if (!this.store.lazy || this.store.lazy === true && this.loaded === true) {\n        this.isLeaf = !childNodes || childNodes.length === 0;\n        return;\n      }\n\n      this.isLeaf = false;\n    }\n  }, {\n    key: 'setChecked',\n    value: function setChecked(value, deep) {\n      var _this3 = this;\n\n      this.indeterminate = value === 'half';\n      this.checked = value === true;\n\n      var handleDescendants = function handleDescendants() {\n        if (deep) {\n          var childNodes = _this3.childNodes;\n\n          for (var i = 0, j = childNodes.length; i < j; i++) {\n            var child = childNodes[i];\n            child.setChecked(value !== false, deep);\n          }\n        }\n      };\n\n      if (!this.store.checkStrictly && this.shouldLoadData()) {\n        // Only work on lazy load data.\n        this.loadData(function () {\n          handleDescendants();\n        }, {\n          checked: value !== false\n        });\n      } else {\n        handleDescendants();\n      }\n\n      var parent = this.parent;\n      if (!parent || parent.level === 0) return;\n\n      if (!this.store.checkStrictly) {\n        reInitChecked(parent);\n      }\n    }\n  }, {\n    key: 'getChildren',\n    value: function getChildren() {\n      // this is data\n      var data = this.data;\n      if (!data) return null;\n      var props = this.store.props;\n      var children = 'children';\n\n      if (props) {\n        children = props.children || 'children';\n      }\n\n      if (data[children] === undefined) {\n        data[children] = null;\n      }\n\n      return data[children];\n    }\n  }, {\n    key: 'updateChildren',\n    value: function updateChildren() {\n      var _this4 = this;\n\n      var newData = this.getChildren() || [];\n      var oldData = this.childNodes.map(function (node) {\n        return node.data;\n      });\n      var newDataMap = {};\n      var newNodes = [];\n      newData.forEach(function (item, index) {\n        if (item[_util.NODE_KEY]) {\n          newDataMap[item[_util.NODE_KEY]] = {\n            index: index,\n            data: item\n          };\n        } else {\n          newNodes.push({\n            index: index,\n            data: item\n          });\n        }\n      });\n      oldData.forEach(function (item) {\n        if (!newDataMap[item[_util.NODE_KEY]]) _this4.removeChildByData(item);\n      });\n      newNodes.forEach(function (_ref) {\n        var index = _ref.index,\n            data = _ref.data;\n\n        _this4.insertChild({\n          data: data\n        }, index);\n      });\n      this.updateLeafState();\n    }\n  }, {\n    key: 'loadData',\n    value: function loadData(callback) {\n      var _this5 = this;\n\n      var defaultProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.store.lazy === true && this.store.load && !this.loaded && !this.loading) {\n        this.loading = true;\n\n        var resolve = function resolve(children) {\n          _this5.loaded = true;\n          _this5.loading = false;\n          _this5.childNodes = [];\n\n          _this5.doCreateChildren(children, defaultProps);\n\n          _this5.updateLeafState();\n\n          if (callback) {\n            callback.call(_this5, children);\n          }\n        };\n\n        this.store.load(this, resolve);\n      } else {\n        if (callback) {\n          callback.call(this);\n        }\n      }\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }, {\n    key: 'label',\n    get: function get() {\n      return getPropertyFromData(this, 'label');\n    }\n  }, {\n    key: 'icon',\n    get: function get() {\n      return getPropertyFromData(this, 'icon');\n    }\n  }, {\n    key: 'key',\n    get: function get() {\n      var nodeKey = this.store.key;\n      if (this.data) return this.data[nodeKey];\n      return null;\n    }\n  }]);\n  return Node;\n}();\n\nvar _default = Node;\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(reInitChecked, 'reInitChecked', 'src/tree/model/node.js');\n  reactHotLoader.register(getPropertyFromData, 'getPropertyFromData', 'src/tree/model/node.js');\n  reactHotLoader.register(nodeIdSeed, 'nodeIdSeed', 'src/tree/model/node.js');\n  reactHotLoader.register(Node, 'Node', 'src/tree/model/node.js');\n  reactHotLoader.register(_default, 'default', 'src/tree/model/node.js');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/tree/model/node.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_util","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","reInitChecked","node","siblings","childNodes","all","none","i","j","length","sibling","checked","indeterminate","setChecked","getPropertyFromData","prop","props","store","data","config","nodeIdSeed","Node","options","id","text","expanded","parent","visible","name","hasOwnProperty","level","loaded","loading","Error","registerNode","isLeaf","isLeafByUser","lazy","setData","defaultExpandAll","expand","defaultExpandedKeys","key","indexOf","autoExpandParent","currentNodeKey","currentNode","_initDefaultCheckedNode","updateLeafState","Array","isArray","markNodeData","children","insertChild","child","index","assign","push","splice","insertBefore","ref","insertAfter","removeChild","deregisterNode","removeChildByData","targetNode","forEach","callback","expandParent","_this","done","shouldLoadData","loadData","doCreateChildren","array","_this2","defaultProps","arguments","undefined","item","collapse","load","deep","_this3","handleDescendants","checkStrictly","getChildren","updateChildren","_this4","newData","oldData","map","newDataMap","newNodes","NODE_KEY","_ref","_this5","resolve","call","__reactstandin__regenerateByEval","code","eval","get","nodeKey","_default","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar reInitChecked = function reInitChecked(node) {\n  var siblings = node.childNodes;\n\n  var all = true;\n  var none = true;\n\n  for (var i = 0, j = siblings.length; i < j; i++) {\n    var sibling = siblings[i];\n    if (sibling.checked !== true || sibling.indeterminate) {\n      all = false;\n    }\n    if (sibling.checked !== false || sibling.indeterminate) {\n      none = false;\n    }\n  }\n\n  if (all) {\n    node.setChecked(true);\n  } else if (!all && !none) {\n    node.setChecked('half');\n  } else if (none) {\n    node.setChecked(false);\n  }\n};\n\nvar getPropertyFromData = function getPropertyFromData(node, prop) {\n  var props = node.store.props;\n  var data = node.data || {};\n  var config = props[prop];\n\n  if (typeof config === 'function') {\n    return config(data, node);\n  } else if (typeof config === 'string') {\n    return data[config];\n  } else if (typeof config === 'undefined') {\n    return '';\n  }\n};\n\nvar nodeIdSeed = 0;\n\nvar Node = function () {\n  function Node(options) {\n    (0, _classCallCheck3.default)(this, Node);\n\n    this.id = nodeIdSeed++;\n    this.text = null;\n    this.checked = false;\n    this.indeterminate = false;\n    this.data = null;\n    this.expanded = false;\n    this.parent = null;\n    this.visible = true;\n\n    for (var name in options) {\n      if (options.hasOwnProperty(name)) {\n        this[name] = options[name];\n      }\n    }\n\n    // internal\n    this.level = 0;\n    this.loaded = false;\n    this.childNodes = [];\n    this.loading = false;\n\n    if (this.parent) {\n      this.level = this.parent.level + 1;\n    }\n\n    var store = this.store;\n    if (!store) {\n      throw new Error('[Node]store is required!');\n    }\n    store.registerNode(this);\n\n    var props = store.props;\n    if (props && typeof props.isLeaf !== 'undefined') {\n      var isLeaf = getPropertyFromData(this, 'isLeaf');\n      if (typeof isLeaf === 'boolean') {\n        this.isLeafByUser = isLeaf;\n      }\n    }\n\n    if (store.lazy !== true && this.data) {\n      this.setData(this.data);\n\n      if (store.defaultExpandAll) {\n        this.expanded = true;\n      }\n    } else if (this.level > 0 && store.lazy && store.defaultExpandAll) {\n      this.expand();\n    }\n\n    if (!this.data) return;\n    var defaultExpandedKeys = store.defaultExpandedKeys;\n    var key = store.key;\n    if (key && defaultExpandedKeys && defaultExpandedKeys.indexOf(this.key) !== -1) {\n      this.expand(null, store.autoExpandParent);\n    }\n\n    if (key && store.currentNodeKey && this.key === store.currentNodeKey) {\n      store.currentNode = this;\n    }\n\n    if (store.lazy) {\n      store._initDefaultCheckedNode(this);\n    }\n\n    this.updateLeafState();\n  }\n\n  (0, _createClass3.default)(Node, [{\n    key: 'setData',\n    value: function setData(data) {\n      if (!Array.isArray(data)) {\n        (0, _util.markNodeData)(this, data);\n      }\n\n      this.data = data;\n      this.childNodes = [];\n\n      var children = void 0;\n      if (this.level === 0 && this.data instanceof Array) {\n        children = this.data;\n      } else {\n        children = getPropertyFromData(this, 'children') || [];\n      }\n\n      for (var i = 0, j = children.length; i < j; i++) {\n        this.insertChild({ data: children[i] });\n      }\n    }\n  }, {\n    key: 'insertChild',\n    value: function insertChild(child, index) {\n      if (!child) throw new Error('insertChild error: child is required.');\n\n      if (!(child instanceof Node)) {\n        Object.assign(child, {\n          parent: this,\n          store: this.store\n        });\n        child = new Node(child);\n      }\n\n      child.level = this.level + 1;\n\n      if (typeof index === 'undefined' || index < 0) {\n        this.childNodes.push(child);\n      } else {\n        this.childNodes.splice(index, 0, child);\n      }\n\n      this.updateLeafState();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(child, ref) {\n      var index = void 0;\n      if (ref) {\n        index = this.childNodes.indexOf(ref);\n      }\n      this.insertChild(child, index);\n    }\n  }, {\n    key: 'insertAfter',\n    value: function insertAfter(child, ref) {\n      var index = void 0;\n      if (ref) {\n        index = this.childNodes.indexOf(ref);\n        if (index !== -1) index += 1;\n      }\n      this.insertChild(child, index);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      var index = this.childNodes.indexOf(child);\n\n      if (index > -1) {\n        this.store && this.store.deregisterNode(child);\n        child.parent = null;\n        this.childNodes.splice(index, 1);\n      }\n\n      this.updateLeafState();\n    }\n  }, {\n    key: 'removeChildByData',\n    value: function removeChildByData(data) {\n      var targetNode = null;\n      this.childNodes.forEach(function (node) {\n        if (node.data === data) {\n          targetNode = node;\n        }\n      });\n\n      if (targetNode) {\n        this.removeChild(targetNode);\n      }\n    }\n  }, {\n    key: 'expand',\n    value: function expand(callback, expandParent) {\n      var _this = this;\n\n      var done = function done() {\n        if (expandParent) {\n          var parent = _this.parent;\n          while (parent.level > 0) {\n            parent.expanded = true;\n            parent = parent.parent;\n          }\n        }\n        _this.expanded = true;\n        if (callback) callback();\n      };\n\n      if (this.shouldLoadData()) {\n        this.loadData(function (data) {\n          if (data instanceof Array) {\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    }\n  }, {\n    key: 'doCreateChildren',\n    value: function doCreateChildren(array) {\n      var _this2 = this;\n\n      var defaultProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      array.forEach(function (item) {\n        _this2.insertChild(Object.assign({ data: item }, defaultProps));\n      });\n    }\n  }, {\n    key: 'collapse',\n    value: function collapse() {\n      this.expanded = false;\n    }\n  }, {\n    key: 'shouldLoadData',\n    value: function shouldLoadData() {\n      return this.store.lazy === true && this.store.load && !this.loaded;\n    }\n  }, {\n    key: 'updateLeafState',\n    value: function updateLeafState() {\n      if (this.store.lazy === true && this.loaded !== true && typeof this.isLeafByUser !== 'undefined') {\n        this.isLeaf = this.isLeafByUser;\n        return;\n      }\n      var childNodes = this.childNodes;\n      if (!this.store.lazy || this.store.lazy === true && this.loaded === true) {\n        this.isLeaf = !childNodes || childNodes.length === 0;\n        return;\n      }\n      this.isLeaf = false;\n    }\n  }, {\n    key: 'setChecked',\n    value: function setChecked(value, deep) {\n      var _this3 = this;\n\n      this.indeterminate = value === 'half';\n      this.checked = value === true;\n\n      var handleDescendants = function handleDescendants() {\n        if (deep) {\n          var childNodes = _this3.childNodes;\n          for (var i = 0, j = childNodes.length; i < j; i++) {\n            var child = childNodes[i];\n            child.setChecked(value !== false, deep);\n          }\n        }\n      };\n\n      if (!this.store.checkStrictly && this.shouldLoadData()) {\n        // Only work on lazy load data.\n        this.loadData(function () {\n          handleDescendants();\n        }, {\n          checked: value !== false\n        });\n      } else {\n        handleDescendants();\n      }\n\n      var parent = this.parent;\n      if (!parent || parent.level === 0) return;\n\n      if (!this.store.checkStrictly) {\n        reInitChecked(parent);\n      }\n    }\n  }, {\n    key: 'getChildren',\n    value: function getChildren() {\n      // this is data\n      var data = this.data;\n      if (!data) return null;\n\n      var props = this.store.props;\n      var children = 'children';\n      if (props) {\n        children = props.children || 'children';\n      }\n\n      if (data[children] === undefined) {\n        data[children] = null;\n      }\n\n      return data[children];\n    }\n  }, {\n    key: 'updateChildren',\n    value: function updateChildren() {\n      var _this4 = this;\n\n      var newData = this.getChildren() || [];\n      var oldData = this.childNodes.map(function (node) {\n        return node.data;\n      });\n\n      var newDataMap = {};\n      var newNodes = [];\n\n      newData.forEach(function (item, index) {\n        if (item[_util.NODE_KEY]) {\n          newDataMap[item[_util.NODE_KEY]] = { index: index, data: item };\n        } else {\n          newNodes.push({ index: index, data: item });\n        }\n      });\n\n      oldData.forEach(function (item) {\n        if (!newDataMap[item[_util.NODE_KEY]]) _this4.removeChildByData(item);\n      });\n\n      newNodes.forEach(function (_ref) {\n        var index = _ref.index,\n            data = _ref.data;\n\n        _this4.insertChild({ data: data }, index);\n      });\n\n      this.updateLeafState();\n    }\n  }, {\n    key: 'loadData',\n    value: function loadData(callback) {\n      var _this5 = this;\n\n      var defaultProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.store.lazy === true && this.store.load && !this.loaded && !this.loading) {\n        this.loading = true;\n\n        var resolve = function resolve(children) {\n          _this5.loaded = true;\n          _this5.loading = false;\n          _this5.childNodes = [];\n\n          _this5.doCreateChildren(children, defaultProps);\n\n          _this5.updateLeafState();\n          if (callback) {\n            callback.call(_this5, children);\n          }\n        };\n\n        this.store.load(this, resolve);\n      } else {\n        if (callback) {\n          callback.call(this);\n        }\n      }\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }, {\n    key: 'label',\n    get: function get() {\n      return getPropertyFromData(this, 'label');\n    }\n  }, {\n    key: 'icon',\n    get: function get() {\n      return getPropertyFromData(this, 'icon');\n    }\n  }, {\n    key: 'key',\n    get: function get() {\n      var nodeKey = this.store.key;\n      if (this.data) return this.data[nodeKey];\n      return null;\n    }\n  }]);\n  return Node;\n}();\n\nvar _default = Node;\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(reInitChecked, 'reInitChecked', 'src/tree/model/node.js');\n  reactHotLoader.register(getPropertyFromData, 'getPropertyFromData', 'src/tree/model/node.js');\n  reactHotLoader.register(nodeIdSeed, 'nodeIdSeed', 'src/tree/model/node.js');\n  reactHotLoader.register(Node, 'Node', 'src/tree/model/node.js');\n  reactHotLoader.register(_default, 'default', 'src/tree/model/node.js');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}