{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _libs = require('../../libs');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar Menu = function (_Component) {\n  (0, _inherits3.default)(Menu, _Component);\n\n  function Menu(props) {\n    (0, _classCallCheck3.default)(this, Menu);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, props));\n\n    _this.instanceType = 'Menu';\n    _this.state = {\n      activeIndex: props.defaultActive,\n      openedMenus: props.defaultOpeneds ? props.defaultOpeneds.slice(0) : [],\n      menuItems: {},\n      submenus: {}\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Menu, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        component: this\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.openActiveItemMenus();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      if (props.defaultActive != this.props.defaultActive || props.defaultActive != this.state.activeIndex) {\n        this.defaultActiveChanged(props.defaultActive);\n      }\n\n      if (props.defaultOpeneds != this.props.defaultOpeneds) {\n        this.defaultOpenedsChanged(props.defaultOpeneds);\n      }\n    }\n  }, {\n    key: 'openMenu',\n    value: function openMenu(index, indexPath) {\n      var openedMenus = this.state.openedMenus;\n      if (openedMenus.indexOf(index) !== -1) return; // 将不在该菜单路径下的其余菜单收起\n\n      if (this.props.uniqueOpened) {\n        openedMenus = openedMenus.filter(function (index) {\n          return indexPath.indexOf(index) !== -1;\n        });\n      }\n\n      openedMenus.push(index);\n      this.setState({\n        openedMenus: openedMenus\n      });\n    }\n  }, {\n    key: 'closeMenu',\n    value: function closeMenu(index) {\n      var openedMenus = this.state.openedMenus;\n      openedMenus.splice(openedMenus.indexOf(index), 1);\n      this.setState({\n        openedMenus: openedMenus\n      });\n    }\n  }, {\n    key: 'handleSubmenuClick',\n    value: function handleSubmenuClick(index, indexPath) {\n      var isOpened = this.state.openedMenus.indexOf(index) !== -1;\n\n      if (isOpened) {\n        this.closeMenu(index);\n\n        if (this.props.onClose) {\n          this.props.onClose(index, indexPath);\n        }\n      } else {\n        this.openMenu(index, indexPath);\n\n        if (this.props.onOpen) {\n          this.props.onOpen(index, indexPath);\n        }\n      }\n    }\n  }, {\n    key: 'handleSelect',\n    value: function handleSelect(index, indexPath, instance) {\n      var _this2 = this;\n\n      var _state = this.state,\n          activeIndex = _state.activeIndex,\n          openedMenus = _state.openedMenus,\n          submenus = _state.submenus;\n      activeIndex = index;\n\n      if (this.props.onSelect) {\n        this.props.onSelect(index, indexPath, instance);\n      }\n\n      if (this.props.mode === 'horizontal') {\n        for (var key in submenus) {\n          submenus[key].onItemSelect(index, indexPath);\n        }\n\n        openedMenus = [];\n      }\n\n      this.setState({\n        activeIndex: activeIndex,\n        openedMenus: openedMenus\n      }, function () {\n        if (_this2.props.mode === 'vertical') {\n          _this2.openActiveItemMenus();\n        }\n      });\n    }\n  }, {\n    key: 'openActiveItemMenus',\n    value: function openActiveItemMenus() {\n      var _this3 = this;\n\n      var _state2 = this.state,\n          activeIndex = _state2.activeIndex,\n          menuItems = _state2.menuItems,\n          submenus = _state2.submenus;\n      if (!menuItems[activeIndex]) return;\n\n      if (activeIndex && this.props.mode === 'vertical') {\n        var indexPath = menuItems[activeIndex].indexPath(); // 展开该菜单项的路径上所有子菜单\n\n        indexPath.forEach(function (index) {\n          var submenu = submenus[index];\n          submenu && _this3.openMenu(index, submenu.indexPath());\n        });\n      }\n    }\n  }, {\n    key: 'defaultActiveChanged',\n    value: function defaultActiveChanged(value) {\n      var _this4 = this;\n\n      var menuItems = this.state.menuItems;\n      this.setState({\n        activeIndex: value\n      }, function () {\n        if (!menuItems[value]) return;\n        var menuItem = menuItems[value];\n        var indexPath = menuItem.indexPath();\n\n        _this4.handleSelect(value, indexPath, menuItem);\n      });\n    }\n  }, {\n    key: 'defaultOpenedsChanged',\n    value: function defaultOpenedsChanged(value) {\n      this.setState({\n        openedMenus: value\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement('ul', {\n        style: this.style(),\n        className: this.className(\"el-menu\", {\n          'el-menu--horizontal': this.props.mode === 'horizontal',\n          'el-menu--dark': this.props.theme === 'dark'\n        })\n      }, this.props.children);\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Menu;\n}(_libs.Component);\n\nvar _default = Menu;\nexports.default = _default;\nMenu.childContextTypes = {\n  component: _libs.PropTypes.any\n};\nMenu.propTypes = {\n  mode: _libs.PropTypes.string,\n  defaultActive: _libs.PropTypes.string,\n  defaultOpeneds: _libs.PropTypes.arrayOf(_libs.PropTypes.any),\n  theme: _libs.PropTypes.string,\n  uniqueOpened: _libs.PropTypes.bool,\n  menuTrigger: _libs.PropTypes.string,\n  onSelect: _libs.PropTypes.func,\n  onOpen: _libs.PropTypes.func,\n  onClose: _libs.PropTypes.func\n};\nMenu.defaultProps = {\n  mode: 'vertical',\n  theme: 'light',\n  menuTrigger: 'hover'\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Menu, 'Menu', 'src/menu/Menu.jsx');\n  reactHotLoader.register(_default, 'default', 'src/menu/Menu.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/menu/Menu.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_libs","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","Menu","_Component","props","_this","__proto__","getPrototypeOf","call","instanceType","state","activeIndex","defaultActive","openedMenus","defaultOpeneds","slice","menuItems","submenus","key","getChildContext","component","componentDidMount","openActiveItemMenus","componentWillReceiveProps","defaultActiveChanged","defaultOpenedsChanged","openMenu","index","indexPath","indexOf","uniqueOpened","filter","push","setState","closeMenu","splice","handleSubmenuClick","isOpened","onClose","onOpen","handleSelect","instance","_this2","_state","onSelect","mode","onItemSelect","_this3","_state2","forEach","submenu","_this4","menuItem","render","createElement","style","className","theme","children","__reactstandin__regenerateByEval","code","eval","Component","_default","childContextTypes","PropTypes","any","propTypes","string","arrayOf","bool","menuTrigger","func","defaultProps","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _libs = require('../../libs');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar Menu = function (_Component) {\n  (0, _inherits3.default)(Menu, _Component);\n\n  function Menu(props) {\n    (0, _classCallCheck3.default)(this, Menu);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Menu.__proto__ || Object.getPrototypeOf(Menu)).call(this, props));\n\n    _this.instanceType = 'Menu';\n\n    _this.state = {\n      activeIndex: props.defaultActive,\n      openedMenus: props.defaultOpeneds ? props.defaultOpeneds.slice(0) : [],\n      menuItems: {},\n      submenus: {}\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Menu, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        component: this\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.openActiveItemMenus();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      if (props.defaultActive != this.props.defaultActive || props.defaultActive != this.state.activeIndex) {\n        this.defaultActiveChanged(props.defaultActive);\n      }\n\n      if (props.defaultOpeneds != this.props.defaultOpeneds) {\n        this.defaultOpenedsChanged(props.defaultOpeneds);\n      }\n    }\n  }, {\n    key: 'openMenu',\n    value: function openMenu(index, indexPath) {\n      var openedMenus = this.state.openedMenus;\n\n\n      if (openedMenus.indexOf(index) !== -1) return;\n      // 将不在该菜单路径下的其余菜单收起\n      if (this.props.uniqueOpened) {\n        openedMenus = openedMenus.filter(function (index) {\n          return indexPath.indexOf(index) !== -1;\n        });\n      }\n\n      openedMenus.push(index);\n\n      this.setState({ openedMenus: openedMenus });\n    }\n  }, {\n    key: 'closeMenu',\n    value: function closeMenu(index) {\n      var openedMenus = this.state.openedMenus;\n\n\n      openedMenus.splice(openedMenus.indexOf(index), 1);\n\n      this.setState({ openedMenus: openedMenus });\n    }\n  }, {\n    key: 'handleSubmenuClick',\n    value: function handleSubmenuClick(index, indexPath) {\n      var isOpened = this.state.openedMenus.indexOf(index) !== -1;\n\n      if (isOpened) {\n        this.closeMenu(index);\n\n        if (this.props.onClose) {\n          this.props.onClose(index, indexPath);\n        }\n      } else {\n        this.openMenu(index, indexPath);\n\n        if (this.props.onOpen) {\n          this.props.onOpen(index, indexPath);\n        }\n      }\n    }\n  }, {\n    key: 'handleSelect',\n    value: function handleSelect(index, indexPath, instance) {\n      var _this2 = this;\n\n      var _state = this.state,\n          activeIndex = _state.activeIndex,\n          openedMenus = _state.openedMenus,\n          submenus = _state.submenus;\n\n\n      activeIndex = index;\n\n      if (this.props.onSelect) {\n        this.props.onSelect(index, indexPath, instance);\n      }\n\n      if (this.props.mode === 'horizontal') {\n        for (var key in submenus) {\n          submenus[key].onItemSelect(index, indexPath);\n        }\n\n        openedMenus = [];\n      }\n\n      this.setState({ activeIndex: activeIndex, openedMenus: openedMenus }, function () {\n        if (_this2.props.mode === 'vertical') {\n          _this2.openActiveItemMenus();\n        }\n      });\n    }\n  }, {\n    key: 'openActiveItemMenus',\n    value: function openActiveItemMenus() {\n      var _this3 = this;\n\n      var _state2 = this.state,\n          activeIndex = _state2.activeIndex,\n          menuItems = _state2.menuItems,\n          submenus = _state2.submenus;\n\n\n      if (!menuItems[activeIndex]) return;\n      if (activeIndex && this.props.mode === 'vertical') {\n        var indexPath = menuItems[activeIndex].indexPath();\n        // 展开该菜单项的路径上所有子菜单\n        indexPath.forEach(function (index) {\n          var submenu = submenus[index];\n\n          submenu && _this3.openMenu(index, submenu.indexPath());\n        });\n      }\n    }\n  }, {\n    key: 'defaultActiveChanged',\n    value: function defaultActiveChanged(value) {\n      var _this4 = this;\n\n      var menuItems = this.state.menuItems;\n\n\n      this.setState({ activeIndex: value }, function () {\n        if (!menuItems[value]) return;\n\n        var menuItem = menuItems[value];\n        var indexPath = menuItem.indexPath();\n\n        _this4.handleSelect(value, indexPath, menuItem);\n      });\n    }\n  }, {\n    key: 'defaultOpenedsChanged',\n    value: function defaultOpenedsChanged(value) {\n      this.setState({\n        openedMenus: value\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'ul',\n        {\n          style: this.style(),\n          className: this.className(\"el-menu\", {\n            'el-menu--horizontal': this.props.mode === 'horizontal',\n            'el-menu--dark': this.props.theme === 'dark'\n          })\n        },\n        this.props.children\n      );\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Menu;\n}(_libs.Component);\n\nvar _default = Menu;\nexports.default = _default;\n\n\nMenu.childContextTypes = {\n  component: _libs.PropTypes.any\n};\n\nMenu.propTypes = {\n  mode: _libs.PropTypes.string,\n  defaultActive: _libs.PropTypes.string,\n  defaultOpeneds: _libs.PropTypes.arrayOf(_libs.PropTypes.any),\n  theme: _libs.PropTypes.string,\n  uniqueOpened: _libs.PropTypes.bool,\n  menuTrigger: _libs.PropTypes.string,\n  onSelect: _libs.PropTypes.func,\n  onOpen: _libs.PropTypes.func,\n  onClose: _libs.PropTypes.func\n};\n\nMenu.defaultProps = {\n  mode: 'vertical',\n  theme: 'light',\n  menuTrigger: 'hover'\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Menu, 'Menu', 'src/menu/Menu.jsx');\n  reactHotLoader.register(_default, 'default', 'src/menu/Menu.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}