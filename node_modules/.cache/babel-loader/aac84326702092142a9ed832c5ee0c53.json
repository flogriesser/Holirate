{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactClickOutside = require('react-click-outside');\n\nvar _reactClickOutside2 = _interopRequireDefault(_reactClickOutside);\n\nvar _throttleDebounce = require('throttle-debounce');\n\nvar _popper = require('popper.js');\n\nvar _popper2 = _interopRequireDefault(_popper);\n\nvar _style = require('../../libs/utils/style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _libs = require('../../libs');\n\nvar _resizeEvent = require('../../libs/utils/resize-event');\n\nvar _scrollbar = require('../scrollbar');\n\nvar _tag = require('../tag');\n\nvar _tag2 = _interopRequireDefault(_tag);\n\nvar _input = require('../input');\n\nvar _input2 = _interopRequireDefault(_input);\n\nvar _locale = require('../locale');\n\nvar _locale2 = _interopRequireDefault(_locale);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\n_style2.default.reset('\\n  .el-select-dropdown {\\n    position: absolute !important;\\n  }\\n');\n\nvar sizeMap = {\n  'large': 42,\n  'small': 30,\n  'mini': 22\n};\n\nvar Select = function (_Component) {\n  (0, _inherits3.default)(Select, _Component);\n\n  function Select(props) {\n    (0, _classCallCheck3.default)(this, Select);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Select.__proto__ || Object.getPrototypeOf(Select)).call(this, props));\n\n    _this.state = {\n      options: [],\n      isSelect: true,\n      inputLength: 20,\n      inputWidth: 0,\n      inputHovering: false,\n      filteredOptionsCount: 0,\n      optionsCount: 0,\n      hoverIndex: -1,\n      bottomOverflowBeforeHidden: 0,\n      cachedPlaceHolder: props.placeholder || _locale2.default.t('el.select.placeholder'),\n      currentPlaceholder: props.placeholder || _locale2.default.t('el.select.placeholder'),\n      selectedLabel: '',\n      selectedInit: false,\n      visible: false,\n      selected: undefined,\n      value: props.value,\n      valueChangeBySelected: false,\n      voidRemoteQuery: false,\n      query: ''\n    };\n\n    if (props.multiple) {\n      _this.state.selectedInit = true;\n      _this.state.selected = [];\n    }\n\n    if (props.remote) {\n      _this.state.voidRemoteQuery = true;\n    }\n\n    _this.debouncedOnInputChange = (0, _throttleDebounce.debounce)(_this.debounce(), function () {\n      _this.onInputChange();\n    });\n    _this.resetInputWidth = _this._resetInputWidth.bind(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(Select, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        component: this\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.reference = _reactDom2.default.findDOMNode(this.refs.reference);\n      this.popper = _reactDom2.default.findDOMNode(this.refs.popper);\n      this.handleValueChange();\n      (0, _resizeEvent.addResizeListener)(this.refs.root, this.resetInputWidth);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      var _this2 = this;\n\n      if (props.placeholder != this.props.placeholder) {\n        this.setState({\n          currentPlaceholder: props.placeholder\n        });\n      }\n\n      if (props.value != this.props.value) {\n        this.setState({\n          value: props.value\n        }, function () {\n          _this2.handleValueChange();\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(props, state) {\n      if (state.value != this.state.value) {\n        this.onValueChange(state.value);\n      }\n\n      if (state.visible != this.state.visible) {\n        if (this.props.onVisibleChange) {\n          this.props.onVisibleChange(state.visible);\n        }\n\n        this.onVisibleChange(state.visible);\n      }\n\n      if (state.query != this.state.query) {\n        this.onQueryChange(state.query);\n      }\n\n      if (Array.isArray(state.selected)) {\n        if (state.selected.length != this.state.selected.length) {\n          this.onSelectedChange(state.selected);\n        }\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.state.inputWidth = this.reference.getBoundingClientRect().width;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      (0, _resizeEvent.removeResizeListener)(this.refs.root, this.resetInputWidth);\n    }\n  }, {\n    key: 'debounce',\n    value: function debounce() {\n      return this.props.remote ? 300 : 0;\n    }\n  }, {\n    key: 'handleClickOutside',\n    value: function handleClickOutside() {\n      if (this.state.visible) {\n        this.setState({\n          visible: false\n        });\n      }\n    }\n  }, {\n    key: 'handleValueChange',\n    value: function handleValueChange() {\n      var _this3 = this;\n\n      var multiple = this.props.multiple;\n      var _state = this.state,\n          value = _state.value,\n          options = _state.options;\n\n      if (multiple && Array.isArray(value)) {\n        this.setState({\n          selected: options.reduce(function (prev, curr) {\n            return value.indexOf(curr.props.value) > -1 ? prev.concat(curr) : prev;\n          }, [])\n        }, function () {\n          _this3.onSelectedChange(_this3.state.selected, false);\n        });\n      } else {\n        var _selected = options.filter(function (option) {\n          return option.props.value === value;\n        })[0];\n\n        if (_selected) {\n          this.state.selectedLabel = _selected.props.label || _selected.props.value;\n        }\n      }\n    }\n  }, {\n    key: 'onVisibleChange',\n    value: function onVisibleChange(visible) {\n      var _props = this.props,\n          multiple = _props.multiple,\n          filterable = _props.filterable;\n      var _state2 = this.state,\n          query = _state2.query,\n          dropdownUl = _state2.dropdownUl,\n          selected = _state2.selected,\n          selectedLabel = _state2.selectedLabel,\n          bottomOverflowBeforeHidden = _state2.bottomOverflowBeforeHidden;\n\n      if (!visible) {\n        this.reference.querySelector('input').blur();\n\n        if (this.refs.root.querySelector('.el-input__icon')) {\n          var elements = this.refs.root.querySelector('.el-input__icon');\n\n          for (var i = 0; i < elements.length; i++) {\n            elements[i].classList.remove('is-reverse');\n          }\n        }\n\n        if (this.refs.input) {\n          this.refs.input.blur();\n        }\n\n        this.resetHoverIndex();\n\n        if (!multiple) {\n          if (dropdownUl && selected) {\n            var element = _reactDom2.default.findDOMNode(selected);\n\n            bottomOverflowBeforeHidden = element.getBoundingClientRect().bottom - this.popper.getBoundingClientRect().bottom;\n          }\n\n          if (selected && selected.props) {\n            if (selected.props.value) {\n              selectedLabel = selected.currentLabel();\n            }\n          } else if (filterable) {\n            selectedLabel = '';\n          }\n\n          this.setState({\n            bottomOverflowBeforeHidden: bottomOverflowBeforeHidden,\n            selectedLabel: selectedLabel\n          });\n        }\n      } else {\n        var icon = this.refs.root.querySelector('.el-input__icon');\n\n        if (icon && !icon.classList.contains('el-icon-circle-close')) {\n          var _elements = this.refs.root.querySelector('.el-input__icon');\n\n          for (var _i = 0; _i < _elements.length; _i++) {\n            _elements[_i].classList.add('is-reverse');\n          }\n        }\n\n        if (this.popperJS) {\n          this.popperJS.update();\n        }\n\n        if (filterable) {\n          query = selectedLabel;\n\n          if (multiple) {\n            this.refs.input.focus();\n          } else {\n            this.refs.reference.focus();\n          }\n        }\n\n        if (!dropdownUl) {\n          var dropdownChildNodes = this.popper.childNodes;\n          dropdownUl = [].filter.call(dropdownChildNodes, function (item) {\n            return item.tagName === 'UL';\n          })[0];\n        }\n\n        if (!multiple && dropdownUl) {\n          if (bottomOverflowBeforeHidden > 0) {\n            dropdownUl.scrollTop += bottomOverflowBeforeHidden;\n          }\n        }\n\n        this.setState({\n          query: query || '',\n          dropdownUl: dropdownUl\n        });\n      }\n    }\n  }, {\n    key: 'onValueChange',\n    value: function onValueChange(val) {\n      var _this4 = this;\n\n      var multiple = this.props.multiple;\n      var _state3 = this.state,\n          options = _state3.options,\n          valueChangeBySelected = _state3.valueChangeBySelected,\n          selectedInit = _state3.selectedInit,\n          selected = _state3.selected,\n          selectedLabel = _state3.selectedLabel,\n          currentPlaceholder = _state3.currentPlaceholder,\n          cachedPlaceHolder = _state3.cachedPlaceHolder;\n\n      if (valueChangeBySelected) {\n        return this.setState({\n          valueChangeBySelected: false\n        });\n      }\n\n      if (multiple && Array.isArray(val)) {\n        this.resetInputHeight();\n        selectedInit = true;\n        selected = [];\n        currentPlaceholder = cachedPlaceHolder;\n        val.forEach(function (item) {\n          var option = options.filter(function (option) {\n            return option.props.value === item;\n          })[0];\n\n          if (option) {\n            _this4.addOptionToValue(option);\n          }\n        });\n        this.forceUpdate();\n      }\n\n      if (!multiple) {\n        var option = options.filter(function (option) {\n          return option.props.value === val;\n        })[0];\n\n        if (option) {\n          this.addOptionToValue(option);\n          this.setState({\n            selectedInit: selectedInit,\n            currentPlaceholder: currentPlaceholder\n          });\n        } else {\n          selected = {};\n          selectedLabel = '';\n          this.setState({\n            selectedInit: selectedInit,\n            selected: selected,\n            currentPlaceholder: currentPlaceholder,\n            selectedLabel: selectedLabel\n          }, function () {\n            _this4.resetHoverIndex();\n          });\n        }\n      }\n    }\n  }, {\n    key: 'onSelectedChange',\n    value: function onSelectedChange(val) {\n      var _this5 = this;\n\n      var bubble = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var form = this.context.form;\n      var _props2 = this.props,\n          multiple = _props2.multiple,\n          filterable = _props2.filterable,\n          onChange = _props2.onChange;\n      var _state4 = this.state,\n          query = _state4.query,\n          hoverIndex = _state4.hoverIndex,\n          inputLength = _state4.inputLength,\n          selectedInit = _state4.selectedInit,\n          currentPlaceholder = _state4.currentPlaceholder,\n          cachedPlaceHolder = _state4.cachedPlaceHolder,\n          valueChangeBySelected = _state4.valueChangeBySelected;\n\n      if (multiple) {\n        if (val.length > 0) {\n          currentPlaceholder = '';\n        } else {\n          currentPlaceholder = cachedPlaceHolder;\n        }\n\n        this.setState({\n          currentPlaceholder: currentPlaceholder\n        }, function () {\n          _this5.resetInputHeight();\n        });\n        valueChangeBySelected = true;\n\n        if (bubble) {\n          onChange && onChange(val.map(function (item) {\n            return item.props.value;\n          }), val);\n          form && form.onFieldChange();\n        }\n\n        if (filterable) {\n          query = '';\n          hoverIndex = -1;\n          inputLength = 20;\n          this.refs.input.focus();\n        }\n\n        this.setState({\n          valueChangeBySelected: valueChangeBySelected,\n          query: query,\n          hoverIndex: hoverIndex,\n          inputLength: inputLength\n        }, function () {\n          if (_this5.refs.input) {\n            _this5.refs.input.value = '';\n          }\n        });\n      } else {\n        if (selectedInit) {\n          return this.setState({\n            selectedInit: false\n          });\n        }\n\n        if (bubble) {\n          onChange && onChange(val.props.value, val);\n          form && form.onFieldChange();\n        }\n      }\n    }\n  }, {\n    key: 'onQueryChange',\n    value: function onQueryChange(query) {\n      var _props3 = this.props,\n          multiple = _props3.multiple,\n          filterable = _props3.filterable,\n          remote = _props3.remote,\n          remoteMethod = _props3.remoteMethod,\n          filterMethod = _props3.filterMethod;\n      var _state5 = this.state,\n          voidRemoteQuery = _state5.voidRemoteQuery,\n          hoverIndex = _state5.hoverIndex,\n          options = _state5.options,\n          optionsCount = _state5.optionsCount;\n\n      if (this.popperJS) {\n        this.popperJS.update();\n      }\n\n      if (multiple && filterable) {\n        this.resetInputHeight();\n      }\n\n      if (remote && typeof remoteMethod === 'function') {\n        hoverIndex = -1;\n        voidRemoteQuery = query === '';\n        remoteMethod(query);\n        options.forEach(function (option) {\n          option.resetIndex();\n        });\n      } else if (typeof filterMethod === 'function') {\n        filterMethod(query);\n      } else {\n        this.setState({\n          filteredOptionsCount: optionsCount\n        }, function () {\n          options.forEach(function (option) {\n            option.queryChange(query);\n          });\n        });\n      }\n\n      this.setState({\n        hoverIndex: hoverIndex,\n        voidRemoteQuery: voidRemoteQuery\n      });\n    }\n  }, {\n    key: 'onEnter',\n    value: function onEnter() {\n      this.popperJS = new _popper2.default(this.reference, this.popper, {\n        modifiers: {\n          computeStyle: {\n            gpuAcceleration: false\n          }\n        }\n      });\n    }\n  }, {\n    key: 'onAfterLeave',\n    value: function onAfterLeave() {\n      this.popperJS.destroy();\n    }\n  }, {\n    key: 'iconClass',\n    value: function iconClass() {\n      return this.showCloseIcon() ? 'circle-close' : this.props.remote && this.props.filterable ? '' : 'caret-top ' + (this.state.visible ? 'is-reverse' : '');\n    }\n  }, {\n    key: 'showCloseIcon',\n    value: function showCloseIcon() {\n      var criteria = this.props.clearable && this.state.inputHovering && !this.props.multiple && this.state.options.indexOf(this.state.selected) > -1;\n      if (!this.refs.root) return false;\n      var icon = this.refs.root.querySelector('.el-input__icon');\n\n      if (icon) {\n        if (criteria) {\n          icon.addEventListener('click', this.deleteSelected.bind(this));\n          icon.classList.add('is-show-close');\n        } else {\n          icon.removeEventListener('click', this.deleteSelected.bind(this));\n          icon.classList.remove('is-show-close');\n        }\n      }\n\n      return criteria;\n    }\n  }, {\n    key: 'emptyText',\n    value: function emptyText() {\n      var _props4 = this.props,\n          loading = _props4.loading,\n          filterable = _props4.filterable;\n      var _state6 = this.state,\n          voidRemoteQuery = _state6.voidRemoteQuery,\n          options = _state6.options,\n          filteredOptionsCount = _state6.filteredOptionsCount;\n\n      if (loading) {\n        return _locale2.default.t('el.select.loading');\n      } else {\n        if (voidRemoteQuery) {\n          this.state.voidRemoteQuery = false;\n          return false;\n        }\n\n        if (filterable && filteredOptionsCount === 0) {\n          return _locale2.default.t('el.select.noMatch');\n        }\n\n        if (options.length === 0) {\n          return _locale2.default.t('el.select.noData');\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'handleClose',\n    value: function handleClose() {\n      this.setState({\n        visible: false\n      });\n    }\n  }, {\n    key: 'toggleLastOptionHitState',\n    value: function toggleLastOptionHitState(hit) {\n      var selected = this.state.selected;\n      if (!Array.isArray(selected)) return;\n      var option = selected[selected.length - 1];\n      if (!option) return;\n\n      if (hit === true || hit === false) {\n        return option.hitState = hit;\n      }\n\n      option.hitState = !option.hitState;\n      return option.hitState;\n    }\n  }, {\n    key: 'deletePrevTag',\n    value: function deletePrevTag(e) {\n      if (e.target.value.length <= 0 && !this.toggleLastOptionHitState()) {\n        var _selected2 = this.state.selected;\n\n        _selected2.pop();\n\n        this.setState({\n          selected: _selected2\n        });\n      }\n    }\n  }, {\n    key: 'addOptionToValue',\n    value: function addOptionToValue(option, init) {\n      var _props5 = this.props,\n          multiple = _props5.multiple,\n          remote = _props5.remote;\n      var _state7 = this.state,\n          selected = _state7.selected,\n          selectedLabel = _state7.selectedLabel,\n          hoverIndex = _state7.hoverIndex,\n          value = _state7.value;\n\n      if (multiple) {\n        if (selected.indexOf(option) === -1 && (remote ? value.indexOf(option.props.value) === -1 : true)) {\n          this.selectedInit = !!init;\n          selected.push(option);\n          this.resetHoverIndex();\n        }\n      } else {\n        this.selectedInit = !!init;\n        selected = option;\n        selectedLabel = option.currentLabel();\n        hoverIndex = option.index;\n        this.setState({\n          selected: selected,\n          selectedLabel: selectedLabel,\n          hoverIndex: hoverIndex\n        });\n      }\n    }\n  }, {\n    key: 'managePlaceholder',\n    value: function managePlaceholder() {\n      var _state8 = this.state,\n          currentPlaceholder = _state8.currentPlaceholder,\n          cachedPlaceHolder = _state8.cachedPlaceHolder;\n\n      if (currentPlaceholder !== '') {\n        currentPlaceholder = this.refs.input.value ? '' : cachedPlaceHolder;\n      }\n\n      this.setState({\n        currentPlaceholder: currentPlaceholder\n      });\n    }\n  }, {\n    key: 'resetInputState',\n    value: function resetInputState(e) {\n      if (e.keyCode !== 8) {\n        this.toggleLastOptionHitState(false);\n      }\n\n      this.setState({\n        inputLength: this.refs.input.value.length * 15 + 20\n      });\n    }\n  }, {\n    key: '_resetInputWidth',\n    value: function _resetInputWidth() {\n      this.setState({\n        inputWidth: this.reference.getBoundingClientRect().width\n      });\n    }\n  }, {\n    key: 'resetInputHeight',\n    value: function resetInputHeight() {\n      var inputChildNodes = this.reference.childNodes;\n      var input = [].filter.call(inputChildNodes, function (item) {\n        return item.tagName === 'INPUT';\n      })[0];\n      input.style.height = Math.max(this.refs.tags.clientHeight + 6, sizeMap[this.props.size] || 36) + 'px';\n\n      if (this.popperJS) {\n        this.popperJS.update();\n      }\n    }\n  }, {\n    key: 'resetHoverIndex',\n    value: function resetHoverIndex() {\n      var _this6 = this;\n\n      var multiple = this.props.multiple;\n      var _state9 = this.state,\n          hoverIndex = _state9.hoverIndex,\n          options = _state9.options,\n          selected = _state9.selected;\n      setTimeout(function () {\n        if (!multiple) {\n          hoverIndex = options.indexOf(selected);\n        } else {\n          if (selected.length > 0) {\n            hoverIndex = Math.min.apply(null, selected.map(function (item) {\n              return options.indexOf(item);\n            }));\n          } else {\n            hoverIndex = -1;\n          }\n        }\n\n        _this6.setState({\n          hoverIndex: hoverIndex\n        });\n      }, 300);\n    }\n  }, {\n    key: 'toggleMenu',\n    value: function toggleMenu() {\n      var _props6 = this.props,\n          filterable = _props6.filterable,\n          disabled = _props6.disabled;\n      var _state10 = this.state,\n          query = _state10.query,\n          visible = _state10.visible;\n\n      if (filterable && query === '' && visible) {\n        return;\n      }\n\n      if (!disabled) {\n        this.setState({\n          visible: !visible\n        });\n      }\n    }\n  }, {\n    key: 'navigateOptions',\n    value: function navigateOptions(direction) {\n      var _this7 = this;\n\n      var _state11 = this.state,\n          visible = _state11.visible,\n          hoverIndex = _state11.hoverIndex,\n          options = _state11.options;\n\n      if (!visible) {\n        return this.setState({\n          visible: true\n        });\n      }\n\n      var skip = void 0;\n\n      if (options.length != options.filter(function (item) {\n        return item.props.disabled === true;\n      }).length) {\n        if (direction === 'next') {\n          hoverIndex++;\n\n          if (hoverIndex === options.length) {\n            hoverIndex = 0;\n          }\n\n          if (options[hoverIndex].props.disabled === true || options[hoverIndex].props.groupDisabled === true || !options[hoverIndex].state.visible) {\n            skip = 'next';\n          }\n        }\n\n        if (direction === 'prev') {\n          hoverIndex--;\n\n          if (hoverIndex < 0) {\n            hoverIndex = options.length - 1;\n          }\n\n          if (options[hoverIndex].props.disabled === true || options[hoverIndex].props.groupDisabled === true || !options[hoverIndex].state.visible) {\n            skip = 'prev';\n          }\n        }\n      }\n\n      this.setState({\n        hoverIndex: hoverIndex,\n        options: options\n      }, function () {\n        if (skip) {\n          _this7.navigateOptions(skip);\n        }\n\n        _this7.resetScrollTop();\n      });\n    }\n  }, {\n    key: 'resetScrollTop',\n    value: function resetScrollTop() {\n      var element = _reactDom2.default.findDOMNode(this.state.options[this.state.hoverIndex]);\n\n      var bottomOverflowDistance = element.getBoundingClientRect().bottom - this.popper.getBoundingClientRect().bottom;\n      var topOverflowDistance = element.getBoundingClientRect().top - this.popper.getBoundingClientRect().top;\n\n      if (this.state.dropdownUl) {\n        if (bottomOverflowDistance > 0) {\n          this.state.dropdownUl.scrollTop += bottomOverflowDistance;\n        }\n\n        if (topOverflowDistance < 0) {\n          this.state.dropdownUl.scrollTop += topOverflowDistance;\n        }\n      }\n    }\n  }, {\n    key: 'selectOption',\n    value: function selectOption() {\n      var _state12 = this.state,\n          hoverIndex = _state12.hoverIndex,\n          options = _state12.options;\n\n      if (options[hoverIndex]) {\n        this.onOptionClick(options[hoverIndex]);\n      }\n    }\n  }, {\n    key: 'deleteSelected',\n    value: function deleteSelected(e) {\n      e.stopPropagation();\n\n      if (this.state.selectedLabel != '') {\n        this.setState({\n          selected: {},\n          selectedLabel: '',\n          visible: false\n        });\n        this.context.form && this.context.form.onFieldChange();\n\n        if (this.props.onChange) {\n          this.props.onChange('');\n        }\n\n        if (this.props.onClear) {\n          this.props.onClear();\n        }\n      }\n    }\n  }, {\n    key: 'deleteTag',\n    value: function deleteTag(tag) {\n      var _this8 = this;\n\n      var index = this.state.selected.indexOf(tag);\n\n      if (index > -1 && !this.props.disabled) {\n        var _selected3 = this.state.selected.slice(0);\n\n        _selected3.splice(index, 1);\n\n        this.setState({\n          selected: _selected3\n        }, function () {\n          if (_this8.props.onRemoveTag) {\n            _this8.props.onRemoveTag(tag.props.value);\n          }\n        });\n      }\n    }\n  }, {\n    key: 'handleIconClick',\n    value: function handleIconClick(event) {\n      if (this.iconClass().indexOf('circle-close') > -1) {\n        this.deleteSelected(event);\n      } else {\n        this.toggleMenu();\n      }\n    }\n  }, {\n    key: 'onInputChange',\n    value: function onInputChange() {\n      if (this.props.filterable && this.state.selectedLabel !== this.state.value) {\n        this.setState({\n          query: this.state.selectedLabel\n        });\n      }\n    }\n  }, {\n    key: 'onOptionCreate',\n    value: function onOptionCreate(option) {\n      this.state.options.push(option);\n      this.state.optionsCount++;\n      this.state.filteredOptionsCount++;\n      this.forceUpdate();\n      this.handleValueChange();\n    }\n  }, {\n    key: 'onOptionDestroy',\n    value: function onOptionDestroy(option) {\n      this.state.optionsCount--;\n      this.state.filteredOptionsCount--;\n      var index = this.state.options.indexOf(option);\n\n      if (index > -1) {\n        this.state.options.splice(index, 1);\n      }\n\n      this.state.options.forEach(function (el) {\n        if (el != option) {\n          el.resetIndex();\n        }\n      });\n      this.forceUpdate();\n      this.handleValueChange();\n    }\n  }, {\n    key: 'onOptionClick',\n    value: function onOptionClick(option) {\n      var _this9 = this;\n\n      var multiple = this.props.multiple;\n      var _state13 = this.state,\n          visible = _state13.visible,\n          selected = _state13.selected,\n          selectedLabel = _state13.selectedLabel;\n\n      if (!multiple) {\n        selected = option;\n        selectedLabel = option.currentLabel();\n        visible = false;\n      } else {\n        var optionIndex = -1;\n        selected = selected.slice(0);\n        selected.forEach(function (item, index) {\n          if (item === option || item.props.value === option.props.value) {\n            optionIndex = index;\n          }\n        });\n\n        if (optionIndex > -1) {\n          selected.splice(optionIndex, 1);\n        } else {\n          selected.push(option);\n        }\n      }\n\n      this.setState({\n        selected: selected,\n        selectedLabel: selectedLabel\n      }, function () {\n        if (!multiple) {\n          _this9.onSelectedChange(_this9.state.selected);\n        }\n\n        _this9.setState({\n          visible: visible\n        });\n      });\n    }\n  }, {\n    key: 'onMouseDown',\n    value: function onMouseDown(event) {\n      event.preventDefault();\n\n      if (this.refs.input) {\n        this.refs.input.focus();\n      }\n\n      this.toggleMenu();\n    }\n  }, {\n    key: 'onMouseEnter',\n    value: function onMouseEnter() {\n      this.setState({\n        inputHovering: true\n      });\n    }\n  }, {\n    key: 'onMouseLeave',\n    value: function onMouseLeave() {\n      this.setState({\n        inputHovering: false\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this10 = this;\n\n      var _props7 = this.props,\n          multiple = _props7.multiple,\n          size = _props7.size,\n          disabled = _props7.disabled,\n          filterable = _props7.filterable,\n          loading = _props7.loading;\n      var _state14 = this.state,\n          selected = _state14.selected,\n          inputWidth = _state14.inputWidth,\n          inputLength = _state14.inputLength,\n          query = _state14.query,\n          selectedLabel = _state14.selectedLabel,\n          visible = _state14.visible,\n          options = _state14.options,\n          filteredOptionsCount = _state14.filteredOptionsCount,\n          currentPlaceholder = _state14.currentPlaceholder;\n      return _react2.default.createElement('div', {\n        ref: 'root',\n        style: this.style(),\n        className: this.className('el-select')\n      }, multiple && _react2.default.createElement('div', {\n        ref: 'tags',\n        className: 'el-select__tags',\n        onClick: this.toggleMenu.bind(this),\n        style: {\n          maxWidth: inputWidth - 32\n        }\n      }, selected.map(function (el) {\n        return _react2.default.createElement(_tag2.default, {\n          type: 'primary',\n          key: el.props.value,\n          hit: el.hitState,\n          closable: !disabled,\n          closeTransition: true,\n          onClose: _this10.deleteTag.bind(_this10, el)\n        }, _react2.default.createElement('span', {\n          className: 'el-select__tags-text'\n        }, el.currentLabel()));\n      }), filterable && _react2.default.createElement('input', {\n        ref: 'input',\n        type: 'text',\n        className: this.classNames('el-select__input', size && 'is-' + size),\n        style: {\n          width: inputLength,\n          maxWidth: inputWidth - 42\n        },\n        disabled: disabled,\n        defaultValue: query,\n        onKeyUp: this.managePlaceholder.bind(this),\n        onKeyDown: function onKeyDown(e) {\n          _this10.resetInputState(e);\n\n          switch (e.keyCode) {\n            case 27:\n              _this10.setState({\n                visible: false\n              });\n\n              e.preventDefault();\n              break;\n\n            case 8:\n              _this10.deletePrevTag(e);\n\n              break;\n\n            case 13:\n              _this10.selectOption();\n\n              e.preventDefault();\n              break;\n\n            case 38:\n              _this10.navigateOptions('prev');\n\n              e.preventDefault();\n              break;\n\n            case 40:\n              _this10.navigateOptions('next');\n\n              e.preventDefault();\n              break;\n\n            default:\n              break;\n          }\n        },\n        onChange: function onChange(e) {\n          clearTimeout(_this10.timeout);\n          _this10.timeout = setTimeout(function () {\n            _this10.setState({\n              query: _this10.state.value\n            });\n          }, _this10.debounce());\n          _this10.state.value = e.target.value;\n        }\n      })), _react2.default.createElement(_input2.default, {\n        ref: 'reference',\n        value: selectedLabel,\n        type: 'text',\n        placeholder: currentPlaceholder,\n        name: 'name',\n        size: size,\n        disabled: disabled,\n        readOnly: !filterable || multiple,\n        icon: this.iconClass() || undefined,\n        onChange: function onChange(value) {\n          return _this10.setState({\n            selectedLabel: value\n          });\n        },\n        onIconClick: this.handleIconClick.bind(this),\n        onMouseDown: this.onMouseDown.bind(this),\n        onMouseEnter: this.onMouseEnter.bind(this),\n        onMouseLeave: this.onMouseLeave.bind(this),\n        onKeyUp: this.debouncedOnInputChange.bind(this),\n        onKeyDown: function onKeyDown(e) {\n          switch (e.keyCode) {\n            case 9:\n            case 27:\n              _this10.setState({\n                visible: false\n              });\n\n              e.preventDefault();\n              break;\n\n            case 13:\n              _this10.selectOption();\n\n              e.preventDefault();\n              break;\n\n            case 38:\n              _this10.navigateOptions('prev');\n\n              e.preventDefault();\n              break;\n\n            case 40:\n              _this10.navigateOptions('next');\n\n              e.preventDefault();\n              break;\n\n            default:\n              break;\n          }\n        }\n      }), _react2.default.createElement(_libs.Transition, {\n        name: 'el-zoom-in-top',\n        onEnter: this.onEnter.bind(this),\n        onAfterLeave: this.onAfterLeave.bind(this)\n      }, _react2.default.createElement(_libs.View, {\n        show: visible && this.emptyText() !== false\n      }, _react2.default.createElement('div', {\n        ref: 'popper',\n        className: this.classNames('el-select-dropdown', {\n          'is-multiple': multiple\n        }),\n        style: {\n          minWidth: inputWidth\n        }\n      }, _react2.default.createElement(_libs.View, {\n        show: options.length > 0 && filteredOptionsCount > 0 && !loading\n      }, _react2.default.createElement(_scrollbar.Scrollbar, {\n        viewComponent: 'ul',\n        wrapClass: 'el-select-dropdown__wrap',\n        viewClass: 'el-select-dropdown__list'\n      }, this.props.children)), this.emptyText() && _react2.default.createElement('p', {\n        className: 'el-select-dropdown__empty'\n      }, this.emptyText())))));\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Select;\n}(_libs.Component);\n\nSelect.childContextTypes = {\n  component: _libs.PropTypes.any\n};\nSelect.contextTypes = {\n  form: _libs.PropTypes.any\n};\nSelect.propTypes = {\n  value: _libs.PropTypes.any,\n  size: _libs.PropTypes.string,\n  disabled: _libs.PropTypes.bool,\n  clearable: _libs.PropTypes.bool,\n  filterable: _libs.PropTypes.bool,\n  loading: _libs.PropTypes.bool,\n  remote: _libs.PropTypes.bool,\n  remoteMethod: _libs.PropTypes.func,\n  filterMethod: _libs.PropTypes.func,\n  multiple: _libs.PropTypes.bool,\n  placeholder: _libs.PropTypes.string,\n  onChange: _libs.PropTypes.func,\n  onVisibleChange: _libs.PropTypes.func,\n  onRemoveTag: _libs.PropTypes.func,\n  onClear: _libs.PropTypes.func\n};\n\nvar _default = (0, _reactClickOutside2.default)(Select);\n\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(sizeMap, 'sizeMap', 'src/select/Select.jsx');\n  reactHotLoader.register(Select, 'Select', 'src/select/Select.jsx');\n  reactHotLoader.register(_default, 'default', 'src/select/Select.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/select/Select.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_reactDom","_reactDom2","_reactClickOutside","_reactClickOutside2","_throttleDebounce","_popper","_popper2","_style","_style2","_libs","_resizeEvent","_scrollbar","_tag","_tag2","_input","_input2","_locale","_locale2","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","reset","sizeMap","Select","_Component","props","_this","__proto__","getPrototypeOf","call","state","options","isSelect","inputLength","inputWidth","inputHovering","filteredOptionsCount","optionsCount","hoverIndex","bottomOverflowBeforeHidden","cachedPlaceHolder","placeholder","t","currentPlaceholder","selectedLabel","selectedInit","visible","selected","undefined","valueChangeBySelected","voidRemoteQuery","query","multiple","remote","debouncedOnInputChange","debounce","onInputChange","resetInputWidth","_resetInputWidth","bind","key","getChildContext","component","componentDidMount","reference","findDOMNode","refs","popper","handleValueChange","addResizeListener","root","componentWillReceiveProps","_this2","setState","componentWillUpdate","onValueChange","onVisibleChange","onQueryChange","Array","isArray","length","onSelectedChange","componentDidUpdate","getBoundingClientRect","width","componentWillUnmount","removeResizeListener","handleClickOutside","_this3","_state","reduce","prev","curr","indexOf","concat","_selected","filter","option","label","_props","filterable","_state2","dropdownUl","querySelector","blur","elements","i","classList","remove","input","resetHoverIndex","element","bottom","currentLabel","icon","contains","_elements","_i","add","popperJS","update","focus","dropdownChildNodes","childNodes","item","tagName","scrollTop","val","_this4","_state3","resetInputHeight","forEach","addOptionToValue","forceUpdate","_this5","bubble","arguments","form","context","_props2","onChange","_state4","map","onFieldChange","_props3","remoteMethod","filterMethod","_state5","resetIndex","queryChange","onEnter","modifiers","computeStyle","gpuAcceleration","onAfterLeave","destroy","iconClass","showCloseIcon","criteria","clearable","addEventListener","deleteSelected","removeEventListener","emptyText","_props4","loading","_state6","handleClose","toggleLastOptionHitState","hit","hitState","deletePrevTag","e","target","_selected2","pop","init","_props5","_state7","push","index","managePlaceholder","_state8","resetInputState","keyCode","inputChildNodes","style","height","Math","max","tags","clientHeight","size","_this6","_state9","setTimeout","min","apply","toggleMenu","_props6","disabled","_state10","navigateOptions","direction","_this7","_state11","skip","groupDisabled","resetScrollTop","bottomOverflowDistance","topOverflowDistance","top","selectOption","_state12","onOptionClick","stopPropagation","onClear","deleteTag","tag","_this8","_selected3","slice","splice","onRemoveTag","handleIconClick","event","onOptionCreate","onOptionDestroy","el","_this9","_state13","optionIndex","onMouseDown","preventDefault","onMouseEnter","onMouseLeave","render","_this10","_props7","_state14","createElement","ref","className","onClick","maxWidth","type","closable","closeTransition","onClose","classNames","defaultValue","onKeyUp","onKeyDown","clearTimeout","timeout","name","readOnly","onIconClick","Transition","View","show","minWidth","Scrollbar","viewComponent","wrapClass","viewClass","children","__reactstandin__regenerateByEval","code","eval","Component","childContextTypes","PropTypes","any","contextTypes","propTypes","string","bool","func","_default","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactClickOutside = require('react-click-outside');\n\nvar _reactClickOutside2 = _interopRequireDefault(_reactClickOutside);\n\nvar _throttleDebounce = require('throttle-debounce');\n\nvar _popper = require('popper.js');\n\nvar _popper2 = _interopRequireDefault(_popper);\n\nvar _style = require('../../libs/utils/style');\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _libs = require('../../libs');\n\nvar _resizeEvent = require('../../libs/utils/resize-event');\n\nvar _scrollbar = require('../scrollbar');\n\nvar _tag = require('../tag');\n\nvar _tag2 = _interopRequireDefault(_tag);\n\nvar _input = require('../input');\n\nvar _input2 = _interopRequireDefault(_input);\n\nvar _locale = require('../locale');\n\nvar _locale2 = _interopRequireDefault(_locale);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\n_style2.default.reset('\\n  .el-select-dropdown {\\n    position: absolute !important;\\n  }\\n');\n\nvar sizeMap = {\n  'large': 42,\n  'small': 30,\n  'mini': 22\n};\n\nvar Select = function (_Component) {\n  (0, _inherits3.default)(Select, _Component);\n\n  function Select(props) {\n    (0, _classCallCheck3.default)(this, Select);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Select.__proto__ || Object.getPrototypeOf(Select)).call(this, props));\n\n    _this.state = {\n      options: [],\n      isSelect: true,\n      inputLength: 20,\n      inputWidth: 0,\n      inputHovering: false,\n      filteredOptionsCount: 0,\n      optionsCount: 0,\n      hoverIndex: -1,\n      bottomOverflowBeforeHidden: 0,\n      cachedPlaceHolder: props.placeholder || _locale2.default.t('el.select.placeholder'),\n      currentPlaceholder: props.placeholder || _locale2.default.t('el.select.placeholder'),\n      selectedLabel: '',\n      selectedInit: false,\n      visible: false,\n      selected: undefined,\n      value: props.value,\n      valueChangeBySelected: false,\n      voidRemoteQuery: false,\n      query: ''\n    };\n\n    if (props.multiple) {\n      _this.state.selectedInit = true;\n      _this.state.selected = [];\n    }\n\n    if (props.remote) {\n      _this.state.voidRemoteQuery = true;\n    }\n\n    _this.debouncedOnInputChange = (0, _throttleDebounce.debounce)(_this.debounce(), function () {\n      _this.onInputChange();\n    });\n\n    _this.resetInputWidth = _this._resetInputWidth.bind(_this);\n    return _this;\n  }\n\n  (0, _createClass3.default)(Select, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        component: this\n      };\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.reference = _reactDom2.default.findDOMNode(this.refs.reference);\n      this.popper = _reactDom2.default.findDOMNode(this.refs.popper);\n\n      this.handleValueChange();\n      (0, _resizeEvent.addResizeListener)(this.refs.root, this.resetInputWidth);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(props) {\n      var _this2 = this;\n\n      if (props.placeholder != this.props.placeholder) {\n        this.setState({\n          currentPlaceholder: props.placeholder\n        });\n      }\n\n      if (props.value != this.props.value) {\n        this.setState({\n          value: props.value\n        }, function () {\n          _this2.handleValueChange();\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUpdate',\n    value: function componentWillUpdate(props, state) {\n      if (state.value != this.state.value) {\n        this.onValueChange(state.value);\n      }\n\n      if (state.visible != this.state.visible) {\n        if (this.props.onVisibleChange) {\n          this.props.onVisibleChange(state.visible);\n        }\n\n        this.onVisibleChange(state.visible);\n      }\n\n      if (state.query != this.state.query) {\n        this.onQueryChange(state.query);\n      }\n\n      if (Array.isArray(state.selected)) {\n        if (state.selected.length != this.state.selected.length) {\n          this.onSelectedChange(state.selected);\n        }\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.state.inputWidth = this.reference.getBoundingClientRect().width;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      (0, _resizeEvent.removeResizeListener)(this.refs.root, this.resetInputWidth);\n    }\n  }, {\n    key: 'debounce',\n    value: function debounce() {\n      return this.props.remote ? 300 : 0;\n    }\n  }, {\n    key: 'handleClickOutside',\n    value: function handleClickOutside() {\n      if (this.state.visible) {\n        this.setState({ visible: false });\n      }\n    }\n  }, {\n    key: 'handleValueChange',\n    value: function handleValueChange() {\n      var _this3 = this;\n\n      var multiple = this.props.multiple;\n      var _state = this.state,\n          value = _state.value,\n          options = _state.options;\n\n\n      if (multiple && Array.isArray(value)) {\n        this.setState({\n          selected: options.reduce(function (prev, curr) {\n            return value.indexOf(curr.props.value) > -1 ? prev.concat(curr) : prev;\n          }, [])\n        }, function () {\n          _this3.onSelectedChange(_this3.state.selected, false);\n        });\n      } else {\n        var _selected = options.filter(function (option) {\n          return option.props.value === value;\n        })[0];\n\n        if (_selected) {\n          this.state.selectedLabel = _selected.props.label || _selected.props.value;\n        }\n      }\n    }\n  }, {\n    key: 'onVisibleChange',\n    value: function onVisibleChange(visible) {\n      var _props = this.props,\n          multiple = _props.multiple,\n          filterable = _props.filterable;\n      var _state2 = this.state,\n          query = _state2.query,\n          dropdownUl = _state2.dropdownUl,\n          selected = _state2.selected,\n          selectedLabel = _state2.selectedLabel,\n          bottomOverflowBeforeHidden = _state2.bottomOverflowBeforeHidden;\n\n\n      if (!visible) {\n        this.reference.querySelector('input').blur();\n\n        if (this.refs.root.querySelector('.el-input__icon')) {\n          var elements = this.refs.root.querySelector('.el-input__icon');\n\n          for (var i = 0; i < elements.length; i++) {\n            elements[i].classList.remove('is-reverse');\n          }\n        }\n\n        if (this.refs.input) {\n          this.refs.input.blur();\n        }\n\n        this.resetHoverIndex();\n\n        if (!multiple) {\n          if (dropdownUl && selected) {\n            var element = _reactDom2.default.findDOMNode(selected);\n            bottomOverflowBeforeHidden = element.getBoundingClientRect().bottom - this.popper.getBoundingClientRect().bottom;\n          }\n\n          if (selected && selected.props) {\n            if (selected.props.value) {\n              selectedLabel = selected.currentLabel();\n            }\n          } else if (filterable) {\n            selectedLabel = '';\n          }\n\n          this.setState({ bottomOverflowBeforeHidden: bottomOverflowBeforeHidden, selectedLabel: selectedLabel });\n        }\n      } else {\n        var icon = this.refs.root.querySelector('.el-input__icon');\n\n        if (icon && !icon.classList.contains('el-icon-circle-close')) {\n          var _elements = this.refs.root.querySelector('.el-input__icon');\n\n          for (var _i = 0; _i < _elements.length; _i++) {\n            _elements[_i].classList.add('is-reverse');\n          }\n        }\n\n        if (this.popperJS) {\n          this.popperJS.update();\n        }\n\n        if (filterable) {\n          query = selectedLabel;\n\n          if (multiple) {\n            this.refs.input.focus();\n          } else {\n            this.refs.reference.focus();\n          }\n        }\n\n        if (!dropdownUl) {\n          var dropdownChildNodes = this.popper.childNodes;\n          dropdownUl = [].filter.call(dropdownChildNodes, function (item) {\n            return item.tagName === 'UL';\n          })[0];\n        }\n\n        if (!multiple && dropdownUl) {\n          if (bottomOverflowBeforeHidden > 0) {\n            dropdownUl.scrollTop += bottomOverflowBeforeHidden;\n          }\n        }\n\n        this.setState({ query: query || '', dropdownUl: dropdownUl });\n      }\n    }\n  }, {\n    key: 'onValueChange',\n    value: function onValueChange(val) {\n      var _this4 = this;\n\n      var multiple = this.props.multiple;\n      var _state3 = this.state,\n          options = _state3.options,\n          valueChangeBySelected = _state3.valueChangeBySelected,\n          selectedInit = _state3.selectedInit,\n          selected = _state3.selected,\n          selectedLabel = _state3.selectedLabel,\n          currentPlaceholder = _state3.currentPlaceholder,\n          cachedPlaceHolder = _state3.cachedPlaceHolder;\n\n\n      if (valueChangeBySelected) {\n        return this.setState({\n          valueChangeBySelected: false\n        });\n      }\n\n      if (multiple && Array.isArray(val)) {\n        this.resetInputHeight();\n\n        selectedInit = true;\n        selected = [];\n        currentPlaceholder = cachedPlaceHolder;\n\n        val.forEach(function (item) {\n          var option = options.filter(function (option) {\n            return option.props.value === item;\n          })[0];\n          if (option) {\n            _this4.addOptionToValue(option);\n          }\n        });\n\n        this.forceUpdate();\n      }\n\n      if (!multiple) {\n        var option = options.filter(function (option) {\n          return option.props.value === val;\n        })[0];\n\n        if (option) {\n          this.addOptionToValue(option);\n          this.setState({ selectedInit: selectedInit, currentPlaceholder: currentPlaceholder });\n        } else {\n          selected = {};\n          selectedLabel = '';\n          this.setState({ selectedInit: selectedInit, selected: selected, currentPlaceholder: currentPlaceholder, selectedLabel: selectedLabel }, function () {\n            _this4.resetHoverIndex();\n          });\n        }\n      }\n    }\n  }, {\n    key: 'onSelectedChange',\n    value: function onSelectedChange(val) {\n      var _this5 = this;\n\n      var bubble = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var form = this.context.form;\n      var _props2 = this.props,\n          multiple = _props2.multiple,\n          filterable = _props2.filterable,\n          onChange = _props2.onChange;\n      var _state4 = this.state,\n          query = _state4.query,\n          hoverIndex = _state4.hoverIndex,\n          inputLength = _state4.inputLength,\n          selectedInit = _state4.selectedInit,\n          currentPlaceholder = _state4.currentPlaceholder,\n          cachedPlaceHolder = _state4.cachedPlaceHolder,\n          valueChangeBySelected = _state4.valueChangeBySelected;\n\n\n      if (multiple) {\n        if (val.length > 0) {\n          currentPlaceholder = '';\n        } else {\n          currentPlaceholder = cachedPlaceHolder;\n        }\n\n        this.setState({ currentPlaceholder: currentPlaceholder }, function () {\n          _this5.resetInputHeight();\n        });\n\n        valueChangeBySelected = true;\n\n        if (bubble) {\n          onChange && onChange(val.map(function (item) {\n            return item.props.value;\n          }), val);\n          form && form.onFieldChange();\n        }\n\n        if (filterable) {\n          query = '';\n          hoverIndex = -1;\n          inputLength = 20;\n\n          this.refs.input.focus();\n        }\n\n        this.setState({ valueChangeBySelected: valueChangeBySelected, query: query, hoverIndex: hoverIndex, inputLength: inputLength }, function () {\n          if (_this5.refs.input) {\n            _this5.refs.input.value = '';\n          }\n        });\n      } else {\n        if (selectedInit) {\n          return this.setState({\n            selectedInit: false\n          });\n        }\n\n        if (bubble) {\n          onChange && onChange(val.props.value, val);\n          form && form.onFieldChange();\n        }\n      }\n    }\n  }, {\n    key: 'onQueryChange',\n    value: function onQueryChange(query) {\n      var _props3 = this.props,\n          multiple = _props3.multiple,\n          filterable = _props3.filterable,\n          remote = _props3.remote,\n          remoteMethod = _props3.remoteMethod,\n          filterMethod = _props3.filterMethod;\n      var _state5 = this.state,\n          voidRemoteQuery = _state5.voidRemoteQuery,\n          hoverIndex = _state5.hoverIndex,\n          options = _state5.options,\n          optionsCount = _state5.optionsCount;\n\n\n      if (this.popperJS) {\n        this.popperJS.update();\n      }\n\n      if (multiple && filterable) {\n        this.resetInputHeight();\n      }\n\n      if (remote && typeof remoteMethod === 'function') {\n        hoverIndex = -1;\n        voidRemoteQuery = query === '';\n\n        remoteMethod(query);\n\n        options.forEach(function (option) {\n          option.resetIndex();\n        });\n      } else if (typeof filterMethod === 'function') {\n        filterMethod(query);\n      } else {\n        this.setState({\n          filteredOptionsCount: optionsCount\n        }, function () {\n          options.forEach(function (option) {\n            option.queryChange(query);\n          });\n        });\n      }\n\n      this.setState({ hoverIndex: hoverIndex, voidRemoteQuery: voidRemoteQuery });\n    }\n  }, {\n    key: 'onEnter',\n    value: function onEnter() {\n      this.popperJS = new _popper2.default(this.reference, this.popper, {\n        modifiers: {\n          computeStyle: {\n            gpuAcceleration: false\n          }\n        }\n      });\n    }\n  }, {\n    key: 'onAfterLeave',\n    value: function onAfterLeave() {\n      this.popperJS.destroy();\n    }\n  }, {\n    key: 'iconClass',\n    value: function iconClass() {\n      return this.showCloseIcon() ? 'circle-close' : this.props.remote && this.props.filterable ? '' : 'caret-top ' + (this.state.visible ? 'is-reverse' : '');\n    }\n  }, {\n    key: 'showCloseIcon',\n    value: function showCloseIcon() {\n      var criteria = this.props.clearable && this.state.inputHovering && !this.props.multiple && this.state.options.indexOf(this.state.selected) > -1;\n\n      if (!this.refs.root) return false;\n\n      var icon = this.refs.root.querySelector('.el-input__icon');\n\n      if (icon) {\n        if (criteria) {\n          icon.addEventListener('click', this.deleteSelected.bind(this));\n          icon.classList.add('is-show-close');\n        } else {\n          icon.removeEventListener('click', this.deleteSelected.bind(this));\n          icon.classList.remove('is-show-close');\n        }\n      }\n\n      return criteria;\n    }\n  }, {\n    key: 'emptyText',\n    value: function emptyText() {\n      var _props4 = this.props,\n          loading = _props4.loading,\n          filterable = _props4.filterable;\n      var _state6 = this.state,\n          voidRemoteQuery = _state6.voidRemoteQuery,\n          options = _state6.options,\n          filteredOptionsCount = _state6.filteredOptionsCount;\n\n\n      if (loading) {\n        return _locale2.default.t('el.select.loading');\n      } else {\n        if (voidRemoteQuery) {\n          this.state.voidRemoteQuery = false;\n\n          return false;\n        }\n\n        if (filterable && filteredOptionsCount === 0) {\n          return _locale2.default.t('el.select.noMatch');\n        }\n\n        if (options.length === 0) {\n          return _locale2.default.t('el.select.noData');\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: 'handleClose',\n    value: function handleClose() {\n      this.setState({ visible: false });\n    }\n  }, {\n    key: 'toggleLastOptionHitState',\n    value: function toggleLastOptionHitState(hit) {\n      var selected = this.state.selected;\n\n\n      if (!Array.isArray(selected)) return;\n\n      var option = selected[selected.length - 1];\n\n      if (!option) return;\n\n      if (hit === true || hit === false) {\n        return option.hitState = hit;\n      }\n\n      option.hitState = !option.hitState;\n\n      return option.hitState;\n    }\n  }, {\n    key: 'deletePrevTag',\n    value: function deletePrevTag(e) {\n      if (e.target.value.length <= 0 && !this.toggleLastOptionHitState()) {\n        var _selected2 = this.state.selected;\n\n\n        _selected2.pop();\n\n        this.setState({ selected: _selected2 });\n      }\n    }\n  }, {\n    key: 'addOptionToValue',\n    value: function addOptionToValue(option, init) {\n      var _props5 = this.props,\n          multiple = _props5.multiple,\n          remote = _props5.remote;\n      var _state7 = this.state,\n          selected = _state7.selected,\n          selectedLabel = _state7.selectedLabel,\n          hoverIndex = _state7.hoverIndex,\n          value = _state7.value;\n\n\n      if (multiple) {\n        if (selected.indexOf(option) === -1 && (remote ? value.indexOf(option.props.value) === -1 : true)) {\n          this.selectedInit = !!init;\n\n          selected.push(option);\n\n          this.resetHoverIndex();\n        }\n      } else {\n        this.selectedInit = !!init;\n\n        selected = option;\n        selectedLabel = option.currentLabel();\n        hoverIndex = option.index;\n\n        this.setState({ selected: selected, selectedLabel: selectedLabel, hoverIndex: hoverIndex });\n      }\n    }\n  }, {\n    key: 'managePlaceholder',\n    value: function managePlaceholder() {\n      var _state8 = this.state,\n          currentPlaceholder = _state8.currentPlaceholder,\n          cachedPlaceHolder = _state8.cachedPlaceHolder;\n\n\n      if (currentPlaceholder !== '') {\n        currentPlaceholder = this.refs.input.value ? '' : cachedPlaceHolder;\n      }\n\n      this.setState({ currentPlaceholder: currentPlaceholder });\n    }\n  }, {\n    key: 'resetInputState',\n    value: function resetInputState(e) {\n      if (e.keyCode !== 8) {\n        this.toggleLastOptionHitState(false);\n      }\n\n      this.setState({\n        inputLength: this.refs.input.value.length * 15 + 20\n      });\n    }\n  }, {\n    key: '_resetInputWidth',\n    value: function _resetInputWidth() {\n      this.setState({\n        inputWidth: this.reference.getBoundingClientRect().width\n      });\n    }\n  }, {\n    key: 'resetInputHeight',\n    value: function resetInputHeight() {\n      var inputChildNodes = this.reference.childNodes;\n      var input = [].filter.call(inputChildNodes, function (item) {\n        return item.tagName === 'INPUT';\n      })[0];\n\n      input.style.height = Math.max(this.refs.tags.clientHeight + 6, sizeMap[this.props.size] || 36) + 'px';\n\n      if (this.popperJS) {\n        this.popperJS.update();\n      }\n    }\n  }, {\n    key: 'resetHoverIndex',\n    value: function resetHoverIndex() {\n      var _this6 = this;\n\n      var multiple = this.props.multiple;\n      var _state9 = this.state,\n          hoverIndex = _state9.hoverIndex,\n          options = _state9.options,\n          selected = _state9.selected;\n\n\n      setTimeout(function () {\n        if (!multiple) {\n          hoverIndex = options.indexOf(selected);\n        } else {\n          if (selected.length > 0) {\n            hoverIndex = Math.min.apply(null, selected.map(function (item) {\n              return options.indexOf(item);\n            }));\n          } else {\n            hoverIndex = -1;\n          }\n        }\n\n        _this6.setState({ hoverIndex: hoverIndex });\n      }, 300);\n    }\n  }, {\n    key: 'toggleMenu',\n    value: function toggleMenu() {\n      var _props6 = this.props,\n          filterable = _props6.filterable,\n          disabled = _props6.disabled;\n      var _state10 = this.state,\n          query = _state10.query,\n          visible = _state10.visible;\n\n\n      if (filterable && query === '' && visible) {\n        return;\n      }\n\n      if (!disabled) {\n        this.setState({\n          visible: !visible\n        });\n      }\n    }\n  }, {\n    key: 'navigateOptions',\n    value: function navigateOptions(direction) {\n      var _this7 = this;\n\n      var _state11 = this.state,\n          visible = _state11.visible,\n          hoverIndex = _state11.hoverIndex,\n          options = _state11.options;\n\n\n      if (!visible) {\n        return this.setState({\n          visible: true\n        });\n      }\n\n      var skip = void 0;\n\n      if (options.length != options.filter(function (item) {\n        return item.props.disabled === true;\n      }).length) {\n        if (direction === 'next') {\n          hoverIndex++;\n\n          if (hoverIndex === options.length) {\n            hoverIndex = 0;\n          }\n\n          if (options[hoverIndex].props.disabled === true || options[hoverIndex].props.groupDisabled === true || !options[hoverIndex].state.visible) {\n            skip = 'next';\n          }\n        }\n\n        if (direction === 'prev') {\n          hoverIndex--;\n\n          if (hoverIndex < 0) {\n            hoverIndex = options.length - 1;\n          }\n\n          if (options[hoverIndex].props.disabled === true || options[hoverIndex].props.groupDisabled === true || !options[hoverIndex].state.visible) {\n            skip = 'prev';\n          }\n        }\n      }\n\n      this.setState({ hoverIndex: hoverIndex, options: options }, function () {\n        if (skip) {\n          _this7.navigateOptions(skip);\n        }\n\n        _this7.resetScrollTop();\n      });\n    }\n  }, {\n    key: 'resetScrollTop',\n    value: function resetScrollTop() {\n      var element = _reactDom2.default.findDOMNode(this.state.options[this.state.hoverIndex]);\n      var bottomOverflowDistance = element.getBoundingClientRect().bottom - this.popper.getBoundingClientRect().bottom;\n      var topOverflowDistance = element.getBoundingClientRect().top - this.popper.getBoundingClientRect().top;\n\n      if (this.state.dropdownUl) {\n        if (bottomOverflowDistance > 0) {\n          this.state.dropdownUl.scrollTop += bottomOverflowDistance;\n        }\n        if (topOverflowDistance < 0) {\n          this.state.dropdownUl.scrollTop += topOverflowDistance;\n        }\n      }\n    }\n  }, {\n    key: 'selectOption',\n    value: function selectOption() {\n      var _state12 = this.state,\n          hoverIndex = _state12.hoverIndex,\n          options = _state12.options;\n\n\n      if (options[hoverIndex]) {\n        this.onOptionClick(options[hoverIndex]);\n      }\n    }\n  }, {\n    key: 'deleteSelected',\n    value: function deleteSelected(e) {\n      e.stopPropagation();\n\n      if (this.state.selectedLabel != '') {\n        this.setState({\n          selected: {},\n          selectedLabel: '',\n          visible: false\n        });\n\n        this.context.form && this.context.form.onFieldChange();\n\n        if (this.props.onChange) {\n          this.props.onChange('');\n        }\n\n        if (this.props.onClear) {\n          this.props.onClear();\n        }\n      }\n    }\n  }, {\n    key: 'deleteTag',\n    value: function deleteTag(tag) {\n      var _this8 = this;\n\n      var index = this.state.selected.indexOf(tag);\n\n      if (index > -1 && !this.props.disabled) {\n        var _selected3 = this.state.selected.slice(0);\n\n        _selected3.splice(index, 1);\n\n        this.setState({ selected: _selected3 }, function () {\n          if (_this8.props.onRemoveTag) {\n            _this8.props.onRemoveTag(tag.props.value);\n          }\n        });\n      }\n    }\n  }, {\n    key: 'handleIconClick',\n    value: function handleIconClick(event) {\n      if (this.iconClass().indexOf('circle-close') > -1) {\n        this.deleteSelected(event);\n      } else {\n        this.toggleMenu();\n      }\n    }\n  }, {\n    key: 'onInputChange',\n    value: function onInputChange() {\n      if (this.props.filterable && this.state.selectedLabel !== this.state.value) {\n        this.setState({\n          query: this.state.selectedLabel\n        });\n      }\n    }\n  }, {\n    key: 'onOptionCreate',\n    value: function onOptionCreate(option) {\n      this.state.options.push(option);\n      this.state.optionsCount++;\n      this.state.filteredOptionsCount++;\n\n      this.forceUpdate();\n      this.handleValueChange();\n    }\n  }, {\n    key: 'onOptionDestroy',\n    value: function onOptionDestroy(option) {\n      this.state.optionsCount--;\n      this.state.filteredOptionsCount--;\n\n      var index = this.state.options.indexOf(option);\n\n      if (index > -1) {\n        this.state.options.splice(index, 1);\n      }\n\n      this.state.options.forEach(function (el) {\n        if (el != option) {\n          el.resetIndex();\n        }\n      });\n\n      this.forceUpdate();\n      this.handleValueChange();\n    }\n  }, {\n    key: 'onOptionClick',\n    value: function onOptionClick(option) {\n      var _this9 = this;\n\n      var multiple = this.props.multiple;\n      var _state13 = this.state,\n          visible = _state13.visible,\n          selected = _state13.selected,\n          selectedLabel = _state13.selectedLabel;\n\n\n      if (!multiple) {\n        selected = option;\n        selectedLabel = option.currentLabel();\n        visible = false;\n      } else {\n        var optionIndex = -1;\n\n        selected = selected.slice(0);\n\n        selected.forEach(function (item, index) {\n          if (item === option || item.props.value === option.props.value) {\n            optionIndex = index;\n          }\n        });\n\n        if (optionIndex > -1) {\n          selected.splice(optionIndex, 1);\n        } else {\n          selected.push(option);\n        }\n      }\n\n      this.setState({ selected: selected, selectedLabel: selectedLabel }, function () {\n        if (!multiple) {\n          _this9.onSelectedChange(_this9.state.selected);\n        }\n\n        _this9.setState({ visible: visible });\n      });\n    }\n  }, {\n    key: 'onMouseDown',\n    value: function onMouseDown(event) {\n      event.preventDefault();\n\n      if (this.refs.input) {\n        this.refs.input.focus();\n      }\n\n      this.toggleMenu();\n    }\n  }, {\n    key: 'onMouseEnter',\n    value: function onMouseEnter() {\n      this.setState({\n        inputHovering: true\n      });\n    }\n  }, {\n    key: 'onMouseLeave',\n    value: function onMouseLeave() {\n      this.setState({\n        inputHovering: false\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this10 = this;\n\n      var _props7 = this.props,\n          multiple = _props7.multiple,\n          size = _props7.size,\n          disabled = _props7.disabled,\n          filterable = _props7.filterable,\n          loading = _props7.loading;\n      var _state14 = this.state,\n          selected = _state14.selected,\n          inputWidth = _state14.inputWidth,\n          inputLength = _state14.inputLength,\n          query = _state14.query,\n          selectedLabel = _state14.selectedLabel,\n          visible = _state14.visible,\n          options = _state14.options,\n          filteredOptionsCount = _state14.filteredOptionsCount,\n          currentPlaceholder = _state14.currentPlaceholder;\n\n\n      return _react2.default.createElement(\n        'div',\n        { ref: 'root', style: this.style(), className: this.className('el-select') },\n        multiple && _react2.default.createElement(\n          'div',\n          { ref: 'tags', className: 'el-select__tags', onClick: this.toggleMenu.bind(this), style: {\n              maxWidth: inputWidth - 32\n            } },\n          selected.map(function (el) {\n            return _react2.default.createElement(\n              _tag2.default,\n              {\n                type: 'primary',\n                key: el.props.value,\n                hit: el.hitState,\n                closable: !disabled,\n                closeTransition: true,\n                onClose: _this10.deleteTag.bind(_this10, el)\n              },\n              _react2.default.createElement(\n                'span',\n                { className: 'el-select__tags-text' },\n                el.currentLabel()\n              )\n            );\n          }),\n          filterable && _react2.default.createElement('input', {\n            ref: 'input',\n            type: 'text',\n            className: this.classNames('el-select__input', size && 'is-' + size),\n            style: { width: inputLength, maxWidth: inputWidth - 42 },\n            disabled: disabled,\n            defaultValue: query,\n            onKeyUp: this.managePlaceholder.bind(this),\n            onKeyDown: function onKeyDown(e) {\n              _this10.resetInputState(e);\n\n              switch (e.keyCode) {\n                case 27:\n                  _this10.setState({ visible: false });\n                  e.preventDefault();\n                  break;\n                case 8:\n                  _this10.deletePrevTag(e);\n                  break;\n                case 13:\n                  _this10.selectOption();\n                  e.preventDefault();\n                  break;\n                case 38:\n                  _this10.navigateOptions('prev');\n                  e.preventDefault();\n                  break;\n                case 40:\n                  _this10.navigateOptions('next');\n                  e.preventDefault();\n                  break;\n                default:\n                  break;\n              }\n            },\n            onChange: function onChange(e) {\n              clearTimeout(_this10.timeout);\n\n              _this10.timeout = setTimeout(function () {\n                _this10.setState({\n                  query: _this10.state.value\n                });\n              }, _this10.debounce());\n\n              _this10.state.value = e.target.value;\n            }\n          })\n        ),\n        _react2.default.createElement(_input2.default, {\n          ref: 'reference',\n          value: selectedLabel,\n          type: 'text',\n          placeholder: currentPlaceholder,\n          name: 'name',\n          size: size,\n          disabled: disabled,\n          readOnly: !filterable || multiple,\n          icon: this.iconClass() || undefined,\n          onChange: function onChange(value) {\n            return _this10.setState({ selectedLabel: value });\n          },\n          onIconClick: this.handleIconClick.bind(this),\n          onMouseDown: this.onMouseDown.bind(this),\n          onMouseEnter: this.onMouseEnter.bind(this),\n          onMouseLeave: this.onMouseLeave.bind(this),\n          onKeyUp: this.debouncedOnInputChange.bind(this),\n          onKeyDown: function onKeyDown(e) {\n            switch (e.keyCode) {\n              case 9:\n              case 27:\n                _this10.setState({ visible: false });\n                e.preventDefault();\n                break;\n              case 13:\n                _this10.selectOption();\n                e.preventDefault();\n                break;\n              case 38:\n                _this10.navigateOptions('prev');\n                e.preventDefault();\n                break;\n              case 40:\n                _this10.navigateOptions('next');\n                e.preventDefault();\n                break;\n              default:\n                break;\n            }\n          }\n        }),\n        _react2.default.createElement(\n          _libs.Transition,\n          { name: 'el-zoom-in-top', onEnter: this.onEnter.bind(this), onAfterLeave: this.onAfterLeave.bind(this) },\n          _react2.default.createElement(\n            _libs.View,\n            { show: visible && this.emptyText() !== false },\n            _react2.default.createElement(\n              'div',\n              {\n                ref: 'popper',\n                className: this.classNames('el-select-dropdown', { 'is-multiple': multiple }),\n                style: { minWidth: inputWidth }\n              },\n              _react2.default.createElement(\n                _libs.View,\n                { show: options.length > 0 && filteredOptionsCount > 0 && !loading },\n                _react2.default.createElement(\n                  _scrollbar.Scrollbar,\n                  {\n                    viewComponent: 'ul',\n                    wrapClass: 'el-select-dropdown__wrap',\n                    viewClass: 'el-select-dropdown__list'\n                  },\n                  this.props.children\n                )\n              ),\n              this.emptyText() && _react2.default.createElement(\n                'p',\n                { className: 'el-select-dropdown__empty' },\n                this.emptyText()\n              )\n            )\n          )\n        )\n      );\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Select;\n}(_libs.Component);\n\nSelect.childContextTypes = {\n  component: _libs.PropTypes.any\n};\n\nSelect.contextTypes = {\n  form: _libs.PropTypes.any\n};\n\nSelect.propTypes = {\n  value: _libs.PropTypes.any,\n  size: _libs.PropTypes.string,\n  disabled: _libs.PropTypes.bool,\n  clearable: _libs.PropTypes.bool,\n  filterable: _libs.PropTypes.bool,\n  loading: _libs.PropTypes.bool,\n  remote: _libs.PropTypes.bool,\n  remoteMethod: _libs.PropTypes.func,\n  filterMethod: _libs.PropTypes.func,\n  multiple: _libs.PropTypes.bool,\n  placeholder: _libs.PropTypes.string,\n  onChange: _libs.PropTypes.func,\n  onVisibleChange: _libs.PropTypes.func,\n  onRemoveTag: _libs.PropTypes.func,\n  onClear: _libs.PropTypes.func\n};\n\nvar _default = (0, _reactClickOutside2.default)(Select);\n\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(sizeMap, 'sizeMap', 'src/select/Select.jsx');\n  reactHotLoader.register(Select, 'Select', 'src/select/Select.jsx');\n  reactHotLoader.register(_default, 'default', 'src/select/Select.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}