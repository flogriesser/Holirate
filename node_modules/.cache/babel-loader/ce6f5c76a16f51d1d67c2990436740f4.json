{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _libs = require('../../libs');\n\nvar _utils = require('../table/utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar Dialog = function (_Component) {\n  (0, _inherits3.default)(Dialog, _Component);\n\n  function Dialog(props) {\n    (0, _classCallCheck3.default)(this, Dialog);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).call(this, props));\n\n    _this.wrap = _react2.default.createRef();\n    _this.state = {\n      bodyOverflow: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Dialog, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var bodyOverflow = this.state.bodyOverflow;\n      var _props = this.props,\n          lockScroll = _props.lockScroll,\n          modal = _props.modal;\n\n      if (this.willOpen(this.props, nextProps)) {\n        (0, _utils.cleanScrollBar)();\n\n        if (lockScroll && document.body && document.body.style) {\n          if (!bodyOverflow) {\n            this.setState({\n              bodyOverflow: document.body.style.overflow\n            });\n          }\n\n          document.body.style.overflow = 'hidden';\n        }\n      }\n\n      if (this.willClose(this.props, nextProps) && lockScroll) {\n        if (modal && bodyOverflow !== 'hidden' && document.body && document.body.style) {\n          document.body.style.overflow = bodyOverflow;\n        }\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.willOpen(prevProps, this.props)) {\n        this.wrap.current.focus();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var lockScroll = this.props.lockScroll;\n\n      if (lockScroll && document.body && document.body.style) {\n        document.body.style.removeProperty('overflow');\n      }\n    }\n  }, {\n    key: 'onKeyDown',\n    value: function onKeyDown(e) {\n      var closeOnPressEscape = this.props.closeOnPressEscape;\n\n      if (closeOnPressEscape && e.keyCode === 27) {\n        this.close(e);\n      }\n    }\n  }, {\n    key: 'handleWrapperClick',\n    value: function handleWrapperClick(e) {\n      var closeOnClickModal = this.props.closeOnClickModal;\n\n      if (e.target instanceof HTMLDivElement) {\n        if (closeOnClickModal && e.target === e.currentTarget) {\n          this.close(e);\n        }\n      }\n    }\n  }, {\n    key: 'close',\n    value: function close(e) {\n      this.props.onCancel(e);\n    }\n  }, {\n    key: 'willOpen',\n    value: function willOpen(prevProps, nextProps) {\n      return !prevProps.visible && nextProps.visible;\n    }\n  }, {\n    key: 'willClose',\n    value: function willClose(prevProps, nextProps) {\n      return prevProps.visible && !nextProps.visible;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          visible = _props2.visible,\n          title = _props2.title,\n          size = _props2.size,\n          top = _props2.top,\n          modal = _props2.modal,\n          customClass = _props2.customClass,\n          showClose = _props2.showClose,\n          children = _props2.children;\n      return _react2.default.createElement('div', null, _react2.default.createElement(_libs.Transition, {\n        name: 'dialog-fade'\n      }, _react2.default.createElement(_libs.View, {\n        show: visible\n      }, _react2.default.createElement('div', {\n        ref: this.wrap,\n        style: {\n          zIndex: 1013\n        },\n        className: this.classNames('el-dialog__wrapper'),\n        onClick: function onClick(e) {\n          return _this2.handleWrapperClick(e);\n        },\n        onKeyDown: function onKeyDown(e) {\n          return _this2.onKeyDown(e);\n        }\n      }, _react2.default.createElement('div', {\n        ref: 'dialog',\n        style: this.style(size === 'full' ? {} : {\n          'top': top\n        }),\n        className: this.className(\"el-dialog\", 'el-dialog--' + size, customClass)\n      }, _react2.default.createElement('div', {\n        className: 'el-dialog__header'\n      }, _react2.default.createElement('span', {\n        className: 'el-dialog__title'\n      }, title), showClose && _react2.default.createElement('button', {\n        type: 'button',\n        className: 'el-dialog__headerbtn',\n        onClick: function onClick(e) {\n          return _this2.close(e);\n        }\n      }, _react2.default.createElement('i', {\n        className: 'el-dialog__close el-icon el-icon-close'\n      }))), children)))), modal && _react2.default.createElement(_libs.View, {\n        show: visible\n      }, _react2.default.createElement('div', {\n        className: 'v-modal',\n        style: {\n          zIndex: 1012\n        }\n      })));\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Dialog;\n}(_libs.Component);\n\nDialog.defaultProps = {\n  visible: false,\n  title: '',\n  size: 'small',\n  top: '15%',\n  modal: true,\n  lockScroll: true,\n  closeOnClickModal: true,\n  closeOnPressEscape: true,\n  showClose: true\n};\nvar _default = Dialog;\nexports.default = _default;\nDialog.propTypes = {\n  // 控制对话框是否可见\n  visible: _libs.PropTypes.bool.isRequired,\n  // 标题\n  title: _libs.PropTypes.string,\n  // 大小 (tiny/small/large/full)\n  size: _libs.PropTypes.string,\n  // top 值（仅在 size 不为 full 时有效）\n  top: _libs.PropTypes.string,\n  // 控制遮罩层展示\n  modal: _libs.PropTypes.bool,\n  // Dialog 的自定义类名\n  customClass: _libs.PropTypes.string,\n  // 是否在 Dialog 出现时将 body 滚动锁定\n  lockScroll: _libs.PropTypes.bool,\n  // 是否可以通过点击 modal 关闭 Dialog\n  closeOnClickModal: _libs.PropTypes.bool,\n  // 是否可以通过按下 ESC 关闭 Dialog\n  closeOnPressEscape: _libs.PropTypes.bool,\n  // 点击遮罩层或右上角叉或取消按钮的回调\n  onCancel: _libs.PropTypes.func.isRequired,\n  showClose: _libs.PropTypes.bool\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Dialog, 'Dialog', 'src/dialog/Dialog.jsx');\n  reactHotLoader.register(_default, 'default', 'src/dialog/Dialog.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/dialog/Dialog.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_libs","_utils","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","Dialog","_Component","props","_this","__proto__","getPrototypeOf","call","wrap","createRef","state","bodyOverflow","key","componentWillReceiveProps","nextProps","_props","lockScroll","modal","willOpen","cleanScrollBar","document","body","style","setState","overflow","willClose","componentDidUpdate","prevProps","current","focus","componentWillUnmount","removeProperty","onKeyDown","e","closeOnPressEscape","keyCode","close","handleWrapperClick","closeOnClickModal","target","HTMLDivElement","currentTarget","onCancel","visible","render","_this2","_props2","title","size","top","customClass","showClose","children","createElement","Transition","name","View","show","ref","zIndex","className","classNames","onClick","type","__reactstandin__regenerateByEval","code","eval","Component","defaultProps","_default","propTypes","PropTypes","bool","isRequired","string","func","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _libs = require('../../libs');\n\nvar _utils = require('../table/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar Dialog = function (_Component) {\n  (0, _inherits3.default)(Dialog, _Component);\n\n  function Dialog(props) {\n    (0, _classCallCheck3.default)(this, Dialog);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (Dialog.__proto__ || Object.getPrototypeOf(Dialog)).call(this, props));\n\n    _this.wrap = _react2.default.createRef();\n    _this.state = {\n      bodyOverflow: ''\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(Dialog, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var bodyOverflow = this.state.bodyOverflow;\n      var _props = this.props,\n          lockScroll = _props.lockScroll,\n          modal = _props.modal;\n\n      if (this.willOpen(this.props, nextProps)) {\n        (0, _utils.cleanScrollBar)();\n        if (lockScroll && document.body && document.body.style) {\n          if (!bodyOverflow) {\n            this.setState({\n              bodyOverflow: document.body.style.overflow\n            });\n          }\n          document.body.style.overflow = 'hidden';\n        }\n      }\n\n      if (this.willClose(this.props, nextProps) && lockScroll) {\n        if (modal && bodyOverflow !== 'hidden' && document.body && document.body.style) {\n          document.body.style.overflow = bodyOverflow;\n        }\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.willOpen(prevProps, this.props)) {\n        this.wrap.current.focus();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var lockScroll = this.props.lockScroll;\n\n      if (lockScroll && document.body && document.body.style) {\n        document.body.style.removeProperty('overflow');\n      }\n    }\n  }, {\n    key: 'onKeyDown',\n    value: function onKeyDown(e) {\n      var closeOnPressEscape = this.props.closeOnPressEscape;\n\n      if (closeOnPressEscape && e.keyCode === 27) {\n        this.close(e);\n      }\n    }\n  }, {\n    key: 'handleWrapperClick',\n    value: function handleWrapperClick(e) {\n      var closeOnClickModal = this.props.closeOnClickModal;\n\n      if (e.target instanceof HTMLDivElement) {\n        if (closeOnClickModal && e.target === e.currentTarget) {\n          this.close(e);\n        }\n      }\n    }\n  }, {\n    key: 'close',\n    value: function close(e) {\n      this.props.onCancel(e);\n    }\n  }, {\n    key: 'willOpen',\n    value: function willOpen(prevProps, nextProps) {\n      return !prevProps.visible && nextProps.visible;\n    }\n  }, {\n    key: 'willClose',\n    value: function willClose(prevProps, nextProps) {\n      return prevProps.visible && !nextProps.visible;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          visible = _props2.visible,\n          title = _props2.title,\n          size = _props2.size,\n          top = _props2.top,\n          modal = _props2.modal,\n          customClass = _props2.customClass,\n          showClose = _props2.showClose,\n          children = _props2.children;\n\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement(\n          _libs.Transition,\n          { name: 'dialog-fade' },\n          _react2.default.createElement(\n            _libs.View,\n            { show: visible },\n            _react2.default.createElement(\n              'div',\n              {\n                ref: this.wrap,\n                style: { zIndex: 1013 },\n                className: this.classNames('el-dialog__wrapper'),\n                onClick: function onClick(e) {\n                  return _this2.handleWrapperClick(e);\n                },\n                onKeyDown: function onKeyDown(e) {\n                  return _this2.onKeyDown(e);\n                }\n              },\n              _react2.default.createElement(\n                'div',\n                {\n                  ref: 'dialog',\n                  style: this.style(size === 'full' ? {} : { 'top': top }),\n                  className: this.className(\"el-dialog\", 'el-dialog--' + size, customClass)\n                },\n                _react2.default.createElement(\n                  'div',\n                  { className: 'el-dialog__header' },\n                  _react2.default.createElement(\n                    'span',\n                    { className: 'el-dialog__title' },\n                    title\n                  ),\n                  showClose && _react2.default.createElement(\n                    'button',\n                    { type: 'button', className: 'el-dialog__headerbtn', onClick: function onClick(e) {\n                        return _this2.close(e);\n                      } },\n                    _react2.default.createElement('i', { className: 'el-dialog__close el-icon el-icon-close' })\n                  )\n                ),\n                children\n              )\n            )\n          )\n        ),\n        modal && _react2.default.createElement(\n          _libs.View,\n          { show: visible },\n          _react2.default.createElement('div', { className: 'v-modal', style: { zIndex: 1012 } })\n        )\n      );\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return Dialog;\n}(_libs.Component);\n\nDialog.defaultProps = {\n  visible: false,\n  title: '',\n  size: 'small',\n  top: '15%',\n  modal: true,\n  lockScroll: true,\n  closeOnClickModal: true,\n  closeOnPressEscape: true,\n  showClose: true\n};\nvar _default = Dialog;\nexports.default = _default;\n\n\nDialog.propTypes = {\n  // 控制对话框是否可见\n  visible: _libs.PropTypes.bool.isRequired,\n  // 标题\n  title: _libs.PropTypes.string,\n  // 大小 (tiny/small/large/full)\n  size: _libs.PropTypes.string,\n  // top 值（仅在 size 不为 full 时有效）\n  top: _libs.PropTypes.string,\n  // 控制遮罩层展示\n  modal: _libs.PropTypes.bool,\n  // Dialog 的自定义类名\n  customClass: _libs.PropTypes.string,\n  // 是否在 Dialog 出现时将 body 滚动锁定\n  lockScroll: _libs.PropTypes.bool,\n  // 是否可以通过点击 modal 关闭 Dialog\n  closeOnClickModal: _libs.PropTypes.bool,\n  // 是否可以通过按下 ESC 关闭 Dialog\n  closeOnPressEscape: _libs.PropTypes.bool,\n  // 点击遮罩层或右上角叉或取消按钮的回调\n  onCancel: _libs.PropTypes.func.isRequired,\n  showClose: _libs.PropTypes.bool\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(Dialog, 'Dialog', 'src/dialog/Dialog.jsx');\n  reactHotLoader.register(_default, 'default', 'src/dialog/Dialog.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}