{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar OrsUtil = function () {\n  function OrsUtil() {\n    _classCallCheck(this, OrsUtil);\n  }\n\n  _createClass(OrsUtil, [{\n    key: 'clone',\n    value: function clone(obj) {\n      var newObj = {};\n\n      for (var prop in obj) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (obj.hasOwnProperty(prop)) {\n          newObj[prop] = obj[prop];\n        }\n      }\n\n      return newObj;\n    }\n  }, {\n    key: 'copyProperties',\n    value: function copyProperties(args, argsInto) {\n      if (!args) return argsInto;\n\n      for (var prop in args) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (args.hasOwnProperty(prop) && args[prop] !== undefined) {\n          argsInto[prop] = args[prop];\n        }\n      }\n\n      return argsInto;\n    }\n  }, {\n    key: 'extractError',\n    value: function extractError(res, url) {\n      var msg = void 0;\n\n      if (res && res.body) {\n        msg = res.body;\n        if (msg.message) msg = msg.message;\n      } else {\n        msg = res;\n      }\n\n      return new Error(msg + ' - for url ' + url);\n    }\n  }, {\n    key: 'isArray',\n    value: function isArray(value) {\n      var stringValue = Object.prototype.toString.call(value);\n      return stringValue.toLowerCase() === '[object array]';\n    }\n  }, {\n    key: 'isObject',\n    value: function isObject(value) {\n      var stringValue = Object.prototype.toString.call(value);\n      return stringValue.toLowerCase() === '[object object]';\n    }\n  }, {\n    key: 'isString',\n    value: function isString(value) {\n      return typeof value === 'string';\n    }\n  }, {\n    key: 'prepareMeta',\n    value: function prepareMeta(args) {\n      return {\n        host: args[_constants2.default.propNames.host],\n        api_version: args[_constants2.default.propNames.apiVersion],\n        profile: args[_constants2.default.propNames.profile],\n        format: args[_constants2.default.propNames.format],\n        service: args[_constants2.default.propNames.service],\n        api_key: args[_constants2.default.propNames.apiKey],\n        mime_type: args[_constants2.default.propNames.mimeType]\n      };\n    }\n  }, {\n    key: 'prepareRequest',\n    value: function prepareRequest(args) {\n      delete args[_constants2.default.propNames.mimeType];\n      delete args[_constants2.default.propNames.host];\n      delete args[_constants2.default.propNames.apiVersion];\n      delete args[_constants2.default.propNames.service];\n      delete args[_constants2.default.propNames.apiKey];\n      delete args[_constants2.default.propNames.profile];\n      delete args[_constants2.default.propNames.format];\n      delete args[_constants2.default.propNames.timeout];\n      return _extends({}, args);\n    }\n    /**\n     * Prepare the request url based on url constituents\n     * @param {Objet} args\n     */\n\n  }, {\n    key: 'prepareUrl',\n    value: function prepareUrl(args) {\n      var url = ''; // make path\n\n      var urlPathParts = []; // If the service already defines the path\n      // to the request service we have to add\n      // only yhe profile and the format to the url\n      // eslint-disable-next-line prettier/prettier\n\n      if (args[_constants2.default.propNames.service] && args[_constants2.default.propNames.service].indexOf('http') === 0) {\n        url = args[_constants2.default.propNames.service];\n        urlPathParts = [args[_constants2.default.propNames.profile], args[_constants2.default.propNames.format]];\n      } else {\n        // if not, build the url from scratch\n        url = args[_constants2.default.propNames.host];\n        urlPathParts = [args[_constants2.default.propNames.apiVersion], args[_constants2.default.propNames.service], args[_constants2.default.propNames.profile], args[_constants2.default.propNames.format]];\n      }\n\n      var urlPath = '/';\n      var counter = 0;\n\n      for (var key in urlPathParts) {\n        if (urlPathParts[key]) {\n          if (counter > 0 && counter) {\n            urlPath += '/';\n          }\n\n          urlPath += urlPathParts[key];\n        }\n\n        counter++;\n      } // Remove double slashs from path\n\n\n      var cleanUrlPath = urlPath.replace(/\\/\\//g, '/');\n      url += cleanUrlPath; // The end of the url can not be a slash\n\n      if (url.slice(-1) === '/') {\n        url = url.slice(0, -1);\n      }\n\n      return url;\n    }\n    /**\n     * Set defaults for a request comparing and posibly overwritting instance args\n     * @param {Object} instanceArgs\n     * @param {Object} requestArgs\n     * @param {Boolean} setAPIVersion\n     */\n\n  }, {\n    key: 'setRequestDefaults',\n    value: function setRequestDefaults(instanceArgs, requestArgs) {\n      var setAPIVersion = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (requestArgs[_constants2.default.propNames.service]) {\n        // eslint-disable-next-line prettier/prettier\n        instanceArgs[_constants2.default.propNames.service] = requestArgs[_constants2.default.propNames.service];\n      }\n\n      if (requestArgs[_constants2.default.propNames.host]) {\n        // eslint-disable-next-line prettier/prettier\n        instanceArgs[_constants2.default.propNames.host] = requestArgs[_constants2.default.propNames.host];\n      }\n\n      if (!instanceArgs[_constants2.default.propNames.host]) {\n        instanceArgs[_constants2.default.propNames.host] = _constants2.default.defaultHost;\n      }\n\n      if (setAPIVersion === true) {\n        if (!requestArgs[_constants2.default.propNames.apiVersion]) {\n          requestArgs.api_version = _constants2.default.defaultAPIVersion;\n        }\n\n        if (!requestArgs[_constants2.default.propNames.apiVersion]) {\n          requestArgs.api_version = _constants2.default.defaultAPIVersion;\n        }\n      }\n    }\n  }]);\n\n  return OrsUtil;\n}();\n\nexports.default = OrsUtil;","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/openrouteservice-js/npm_distribution/OrsUtil.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_constants","require","_constants2","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","OrsUtil","clone","newObj","prop","copyProperties","args","argsInto","undefined","extractError","res","url","msg","body","message","Error","isArray","stringValue","toString","toLowerCase","isObject","isString","prepareMeta","host","propNames","api_version","apiVersion","profile","format","service","api_key","apiKey","mime_type","mimeType","prepareRequest","timeout","prepareUrl","urlPathParts","indexOf","urlPath","counter","cleanUrlPath","replace","slice","setRequestDefaults","instanceArgs","requestArgs","setAPIVersion","defaultHost","defaultAPIVersion"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OrsUtil = function () {\n  function OrsUtil() {\n    _classCallCheck(this, OrsUtil);\n  }\n\n  _createClass(OrsUtil, [{\n    key: 'clone',\n    value: function clone(obj) {\n      var newObj = {};\n      for (var prop in obj) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (obj.hasOwnProperty(prop)) {\n          newObj[prop] = obj[prop];\n        }\n      }\n      return newObj;\n    }\n  }, {\n    key: 'copyProperties',\n    value: function copyProperties(args, argsInto) {\n      if (!args) return argsInto;\n\n      for (var prop in args) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (args.hasOwnProperty(prop) && args[prop] !== undefined) {\n          argsInto[prop] = args[prop];\n        }\n      }\n      return argsInto;\n    }\n  }, {\n    key: 'extractError',\n    value: function extractError(res, url) {\n      var msg = void 0;\n\n      if (res && res.body) {\n        msg = res.body;\n        if (msg.message) msg = msg.message;\n      } else {\n        msg = res;\n      }\n\n      return new Error(msg + ' - for url ' + url);\n    }\n  }, {\n    key: 'isArray',\n    value: function isArray(value) {\n      var stringValue = Object.prototype.toString.call(value);\n      return stringValue.toLowerCase() === '[object array]';\n    }\n  }, {\n    key: 'isObject',\n    value: function isObject(value) {\n      var stringValue = Object.prototype.toString.call(value);\n      return stringValue.toLowerCase() === '[object object]';\n    }\n  }, {\n    key: 'isString',\n    value: function isString(value) {\n      return typeof value === 'string';\n    }\n  }, {\n    key: 'prepareMeta',\n    value: function prepareMeta(args) {\n      return {\n        host: args[_constants2.default.propNames.host],\n        api_version: args[_constants2.default.propNames.apiVersion],\n        profile: args[_constants2.default.propNames.profile],\n        format: args[_constants2.default.propNames.format],\n        service: args[_constants2.default.propNames.service],\n        api_key: args[_constants2.default.propNames.apiKey],\n        mime_type: args[_constants2.default.propNames.mimeType]\n      };\n    }\n  }, {\n    key: 'prepareRequest',\n    value: function prepareRequest(args) {\n      delete args[_constants2.default.propNames.mimeType];\n      delete args[_constants2.default.propNames.host];\n      delete args[_constants2.default.propNames.apiVersion];\n      delete args[_constants2.default.propNames.service];\n      delete args[_constants2.default.propNames.apiKey];\n      delete args[_constants2.default.propNames.profile];\n      delete args[_constants2.default.propNames.format];\n      delete args[_constants2.default.propNames.timeout];\n      return _extends({}, args);\n    }\n\n    /**\n     * Prepare the request url based on url constituents\n     * @param {Objet} args\n     */\n\n  }, {\n    key: 'prepareUrl',\n    value: function prepareUrl(args) {\n      var url = '';\n\n      // make path\n      var urlPathParts = [];\n\n      // If the service already defines the path\n      // to the request service we have to add\n      // only yhe profile and the format to the url\n      // eslint-disable-next-line prettier/prettier\n      if (args[_constants2.default.propNames.service] && args[_constants2.default.propNames.service].indexOf('http') === 0) {\n        url = args[_constants2.default.propNames.service];\n        urlPathParts = [args[_constants2.default.propNames.profile], args[_constants2.default.propNames.format]];\n      } else {\n        // if not, build the url from scratch\n        url = args[_constants2.default.propNames.host];\n        urlPathParts = [args[_constants2.default.propNames.apiVersion], args[_constants2.default.propNames.service], args[_constants2.default.propNames.profile], args[_constants2.default.propNames.format]];\n      }\n\n      var urlPath = '/';\n      var counter = 0;\n      for (var key in urlPathParts) {\n        if (urlPathParts[key]) {\n          if (counter > 0 && counter) {\n            urlPath += '/';\n          }\n          urlPath += urlPathParts[key];\n        }\n        counter++;\n      }\n\n      // Remove double slashs from path\n      var cleanUrlPath = urlPath.replace(/\\/\\//g, '/');\n      url += cleanUrlPath;\n\n      // The end of the url can not be a slash\n      if (url.slice(-1) === '/') {\n        url = url.slice(0, -1);\n      }\n      return url;\n    }\n\n    /**\n     * Set defaults for a request comparing and posibly overwritting instance args\n     * @param {Object} instanceArgs\n     * @param {Object} requestArgs\n     * @param {Boolean} setAPIVersion\n     */\n\n  }, {\n    key: 'setRequestDefaults',\n    value: function setRequestDefaults(instanceArgs, requestArgs) {\n      var setAPIVersion = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (requestArgs[_constants2.default.propNames.service]) {\n        // eslint-disable-next-line prettier/prettier\n        instanceArgs[_constants2.default.propNames.service] = requestArgs[_constants2.default.propNames.service];\n      }\n      if (requestArgs[_constants2.default.propNames.host]) {\n        // eslint-disable-next-line prettier/prettier\n        instanceArgs[_constants2.default.propNames.host] = requestArgs[_constants2.default.propNames.host];\n      }\n      if (!instanceArgs[_constants2.default.propNames.host]) {\n        instanceArgs[_constants2.default.propNames.host] = _constants2.default.defaultHost;\n      }\n      if (setAPIVersion === true) {\n        if (!requestArgs[_constants2.default.propNames.apiVersion]) {\n          requestArgs.api_version = _constants2.default.defaultAPIVersion;\n        }\n        if (!requestArgs[_constants2.default.propNames.apiVersion]) {\n          requestArgs.api_version = _constants2.default.defaultAPIVersion;\n        }\n      }\n    }\n  }]);\n\n  return OrsUtil;\n}();\n\nexports.default = OrsUtil;"]},"metadata":{},"sourceType":"script"}