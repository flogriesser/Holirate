{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nexports.PopperMixin = PopperMixin;\nexports.PopperReactMixin = PopperReactMixin;\n\nvar _popper = require('popper.js');\n\nvar _popper2 = _interopRequireDefault(_popper);\n\nvar _assert = require('./assert');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar mixinPrototype = {\n  //---------- start: public methods\n\n  /**\n   * @param {HTMLElement} popupElement - The reference element used to position the popper.\n   * @param {HTMLElement} refElement - The HTML element used as popper, or a configuration used to generate the popper.\n   * @param {object} popperOptions, PopperJS options\n   */\n  createPopper: function createPopper(popupElement, refElement, popperOptions) {\n    var _this = this;\n\n    (0, _assert.require_condition)(popupElement && refElement);\n    var _popper_config = this._popper_config,\n        visibleArrow = _popper_config.visibleArrow,\n        placement = _popper_config.placement,\n        zIndex = _popper_config.zIndex,\n        offset = _popper_config.offset,\n        width = _popper_config.width,\n        others = (0, _objectWithoutProperties3.default)(_popper_config, ['visibleArrow', 'placement', 'zIndex', 'offset', 'width']);\n    popperOptions = (0, _extends3.default)({}, popperOptions, others);\n\n    if (!/^(top|bottom|left|right)(-start|-end)?$/g.test(placement)) {\n      return;\n    }\n\n    var popper = popupElement;\n    var reference = refElement;\n    if (!popper || !reference) return;\n    if (visibleArrow) this._appendArrow(popper);\n\n    if (this._poperJS) {\n      this._poperJS.destroy();\n    } // these options are perserved only for smooth the migiration from eleme/element\n\n\n    if (!popperOptions.placement) {\n      popperOptions.placement = placement;\n    }\n\n    if (!popperOptions.offset) {\n      popperOptions.offset = offset;\n    }\n\n    popperOptions.onCreate = function () {\n      _this._resetTransformOrigin();\n\n      _this._popper_state.isCreated = true;\n      _this._poperJS.popper.style.zIndex = zIndex;\n      _this._poperJS.popper.style.width = width !== null ? width + 'px' : reference.getBoundingClientRect().width + 'px';\n    };\n\n    this._poperJS = new _popper2.default(reference, popper, popperOptions);\n  },\n  destroyPopper: function destroyPopper() {\n    if (this._poperJS && this._popper_state.isCreated) {\n      this._poperJS.destroy();\n\n      this._poperJS = null;\n      this._popper_state = {};\n      this._popper_config = {};\n    }\n  },\n  updatePopper: function updatePopper() {\n    if (!this._poperJS && this._popper_state.isCreated) return;\n\n    this._poperJS.update();\n  },\n  //---------- end: public methods\n  _resetTransformOrigin: function _resetTransformOrigin() {\n    var placementMap = {\n      top: 'bottom',\n      bottom: 'top',\n      left: 'right',\n      right: 'left'\n    };\n\n    var placement = this._poperJS.popper.getAttribute('x-placement').split('-')[0];\n\n    var origin = placementMap[placement];\n    this._poperJS.popper.style.transformOrigin = ['top', 'bottom'].indexOf(placement) > -1 ? 'center ' + origin : origin + ' center';\n  },\n  _appendArrow: function _appendArrow(element) {\n    if (this._popper_state.appended) {\n      return;\n    }\n\n    this._popper_state.appended = true;\n    var arrow = document.createElement('div');\n    arrow.setAttribute('x-arrow', '');\n    arrow.className = 'popper__arrow';\n    element.appendChild(arrow);\n  }\n};\n/**\n * @param {args} @see PopperMixin\n * @param {object} config\n    * @param {String} [placement=button] - Placement of the popper accepted values: top(-start, -end), right(-start, -end), bottom(-start, -right), left(-start, -end)\n    * @param {Number} [offset=0] - Amount of pixels the popper will be shifted (can be negative).\n    * @param {Number} [boundariesPadding=5]\n    * @param {Boolean} [visibleArrow=false] Visibility of the arrow, no style.\n*/\n\nfunction PopperMixin(config) {\n  this._popper_config = Object.assign({}, {\n    width: null,\n    zIndex: 1050,\n    offset: 0,\n    placement: 'bottom',\n    boundariesPadding: 5,\n    visibleArrow: false\n  }, config);\n  this._popper_state = {};\n}\n\nPopperMixin.prototype = mixinPrototype;\nvar PopperReactMixinMethods = {\n  hookReactLifeCycle: function hookReactLifeCycle(getPopperRootDom, getRefDom) {\n    var componentDidMount = this.componentDidMount;\n    var componentWillUnmount = this.componentWillUnmount;\n\n    this.componentDidMount = function () {\n      var root = getPopperRootDom();\n      var ref = getRefDom();\n      (0, _assert.require_condition)(root, 'method `getPopperRootDom()` require a HTMLElement instance when componentDidMount is called');\n      (0, _assert.require_condition)(ref, 'method `getRefDom()` require a HTMLElement instance when componentDidMount is called');\n      this.createPopper(root, ref);\n      this._animateRef = window.requestAnimationFrame(this.updatePopper.bind(this));\n\n      if (typeof componentDidMount === 'function') {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        componentDidMount.apply(this, args);\n      }\n    };\n\n    this.componentWillUnmount = function () {\n      window.cancelAnimationFrame(this._animateRef);\n      this.destroyPopper();\n\n      if (typeof componentWillUnmount === 'function') {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        componentWillUnmount.apply(this, args);\n      }\n    };\n  }\n};\n/**\n * this Mixin provide utility method to hook reactjs component lifecycle\n *\n * @param getPopperRootDom: ()=>HTMLElement, return your popper root HTMLElement when componentDidMount is called\n * @param getRefDom: ()=>HTMLElement, ref node, the node that popper aligns its pop-up to, see the popperjs doc for more information\n */\n\nfunction PopperReactMixin(getPopperRootDom, getRefDom, config) {\n  var _this2 = this;\n\n  (0, _assert.require_condition)(typeof getPopperRootDom === 'function', '`getPopperRootDom` func is required!');\n  (0, _assert.require_condition)(typeof getRefDom === 'function', '`getRefDom` func is required!');\n  PopperMixin.call(this, config);\n  Object.keys(mixinPrototype).forEach(function (k) {\n    return _this2[k] = mixinPrototype[k];\n  });\n  PopperReactMixinMethods.hookReactLifeCycle.call(this, getPopperRootDom, getRefDom);\n  return this;\n}\n\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(mixinPrototype, 'mixinPrototype', 'libs/utils/popper-mixins.js');\n  reactHotLoader.register(PopperMixin, 'PopperMixin', 'libs/utils/popper-mixins.js');\n  reactHotLoader.register(PopperReactMixinMethods, 'PopperReactMixinMethods', 'libs/utils/popper-mixins.js');\n  reactHotLoader.register(PopperReactMixin, 'PopperReactMixin', 'libs/utils/popper-mixins.js');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/libs/utils/popper-mixins.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_objectWithoutProperties2","_objectWithoutProperties3","PopperMixin","PopperReactMixin","_popper","_popper2","_assert","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","mixinPrototype","createPopper","popupElement","refElement","popperOptions","_this","require_condition","_popper_config","visibleArrow","placement","zIndex","offset","width","others","test","popper","reference","_appendArrow","_poperJS","destroy","onCreate","_resetTransformOrigin","_popper_state","isCreated","style","getBoundingClientRect","destroyPopper","updatePopper","update","placementMap","top","bottom","left","right","getAttribute","split","origin","transformOrigin","indexOf","element","appended","arrow","document","createElement","setAttribute","className","appendChild","config","assign","boundariesPadding","prototype","PopperReactMixinMethods","hookReactLifeCycle","getPopperRootDom","getRefDom","componentDidMount","componentWillUnmount","root","ref","_animateRef","window","requestAnimationFrame","bind","_len","arguments","length","args","Array","_key","apply","cancelAnimationFrame","_len2","_key2","_this2","call","keys","forEach","k","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nexports.PopperMixin = PopperMixin;\nexports.PopperReactMixin = PopperReactMixin;\n\nvar _popper = require('popper.js');\n\nvar _popper2 = _interopRequireDefault(_popper);\n\nvar _assert = require('./assert');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar mixinPrototype = {\n  //---------- start: public methods\n  /**\n   * @param {HTMLElement} popupElement - The reference element used to position the popper.\n   * @param {HTMLElement} refElement - The HTML element used as popper, or a configuration used to generate the popper.\n   * @param {object} popperOptions, PopperJS options\n   */\n  createPopper: function createPopper(popupElement, refElement, popperOptions) {\n    var _this = this;\n\n    (0, _assert.require_condition)(popupElement && refElement);\n\n    var _popper_config = this._popper_config,\n        visibleArrow = _popper_config.visibleArrow,\n        placement = _popper_config.placement,\n        zIndex = _popper_config.zIndex,\n        offset = _popper_config.offset,\n        width = _popper_config.width,\n        others = (0, _objectWithoutProperties3.default)(_popper_config, ['visibleArrow', 'placement', 'zIndex', 'offset', 'width']);\n\n    popperOptions = (0, _extends3.default)({}, popperOptions, others);\n\n    if (!/^(top|bottom|left|right)(-start|-end)?$/g.test(placement)) {\n      return;\n    }\n\n    var popper = popupElement;\n    var reference = refElement;\n\n    if (!popper || !reference) return;\n    if (visibleArrow) this._appendArrow(popper);\n    if (this._poperJS) {\n      this._poperJS.destroy();\n    }\n\n    // these options are perserved only for smooth the migiration from eleme/element\n    if (!popperOptions.placement) {\n      popperOptions.placement = placement;\n    }\n    if (!popperOptions.offset) {\n      popperOptions.offset = offset;\n    }\n\n    popperOptions.onCreate = function () {\n      _this._resetTransformOrigin();\n      _this._popper_state.isCreated = true;\n      _this._poperJS.popper.style.zIndex = zIndex;\n      _this._poperJS.popper.style.width = width !== null ? width + 'px' : reference.getBoundingClientRect().width + 'px';\n    };\n\n    this._poperJS = new _popper2.default(reference, popper, popperOptions);\n  },\n  destroyPopper: function destroyPopper() {\n    if (this._poperJS && this._popper_state.isCreated) {\n      this._poperJS.destroy();\n      this._poperJS = null;\n      this._popper_state = {};\n      this._popper_config = {};\n    }\n  },\n  updatePopper: function updatePopper() {\n    if (!this._poperJS && this._popper_state.isCreated) return;\n    this._poperJS.update();\n  },\n\n\n  //---------- end: public methods\n\n  _resetTransformOrigin: function _resetTransformOrigin() {\n    var placementMap = { top: 'bottom', bottom: 'top', left: 'right', right: 'left' };\n    var placement = this._poperJS.popper.getAttribute('x-placement').split('-')[0];\n    var origin = placementMap[placement];\n    this._poperJS.popper.style.transformOrigin = ['top', 'bottom'].indexOf(placement) > -1 ? 'center ' + origin : origin + ' center';\n  },\n  _appendArrow: function _appendArrow(element) {\n    if (this._popper_state.appended) {\n      return;\n    }\n    this._popper_state.appended = true;\n    var arrow = document.createElement('div');\n    arrow.setAttribute('x-arrow', '');\n    arrow.className = 'popper__arrow';\n    element.appendChild(arrow);\n  }\n};\n\n/**\n * @param {args} @see PopperMixin\n * @param {object} config\n    * @param {String} [placement=button] - Placement of the popper accepted values: top(-start, -end), right(-start, -end), bottom(-start, -right), left(-start, -end)\n    * @param {Number} [offset=0] - Amount of pixels the popper will be shifted (can be negative).\n    * @param {Number} [boundariesPadding=5]\n    * @param {Boolean} [visibleArrow=false] Visibility of the arrow, no style.\n*/\nfunction PopperMixin(config) {\n  this._popper_config = Object.assign({}, {\n    width: null,\n    zIndex: 1050,\n    offset: 0,\n    placement: 'bottom',\n    boundariesPadding: 5,\n    visibleArrow: false\n  }, config);\n  this._popper_state = {};\n}\nPopperMixin.prototype = mixinPrototype;\n\nvar PopperReactMixinMethods = {\n  hookReactLifeCycle: function hookReactLifeCycle(getPopperRootDom, getRefDom) {\n\n    var componentDidMount = this.componentDidMount;\n    var componentWillUnmount = this.componentWillUnmount;\n\n    this.componentDidMount = function () {\n      var root = getPopperRootDom();\n      var ref = getRefDom();\n      (0, _assert.require_condition)(root, 'method `getPopperRootDom()` require a HTMLElement instance when componentDidMount is called');\n      (0, _assert.require_condition)(ref, 'method `getRefDom()` require a HTMLElement instance when componentDidMount is called');\n\n      this.createPopper(root, ref);\n      this._animateRef = window.requestAnimationFrame(this.updatePopper.bind(this));\n\n      if (typeof componentDidMount === 'function') {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        componentDidMount.apply(this, args);\n      }\n    };\n\n    this.componentWillUnmount = function () {\n      window.cancelAnimationFrame(this._animateRef);\n      this.destroyPopper();\n\n      if (typeof componentWillUnmount === 'function') {\n        for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n\n        componentWillUnmount.apply(this, args);\n      }\n    };\n  }\n};\n\n/**\n * this Mixin provide utility method to hook reactjs component lifecycle\n *\n * @param getPopperRootDom: ()=>HTMLElement, return your popper root HTMLElement when componentDidMount is called\n * @param getRefDom: ()=>HTMLElement, ref node, the node that popper aligns its pop-up to, see the popperjs doc for more information\n */\nfunction PopperReactMixin(getPopperRootDom, getRefDom, config) {\n  var _this2 = this;\n\n  (0, _assert.require_condition)(typeof getPopperRootDom === 'function', '`getPopperRootDom` func is required!');\n  (0, _assert.require_condition)(typeof getRefDom === 'function', '`getRefDom` func is required!');\n\n  PopperMixin.call(this, config);\n  Object.keys(mixinPrototype).forEach(function (k) {\n    return _this2[k] = mixinPrototype[k];\n  });\n  PopperReactMixinMethods.hookReactLifeCycle.call(this, getPopperRootDom, getRefDom);\n\n  return this;\n}\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(mixinPrototype, 'mixinPrototype', 'libs/utils/popper-mixins.js');\n  reactHotLoader.register(PopperMixin, 'PopperMixin', 'libs/utils/popper-mixins.js');\n  reactHotLoader.register(PopperReactMixinMethods, 'PopperReactMixinMethods', 'libs/utils/popper-mixins.js');\n  reactHotLoader.register(PopperReactMixin, 'PopperReactMixin', 'libs/utils/popper-mixins.js');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}