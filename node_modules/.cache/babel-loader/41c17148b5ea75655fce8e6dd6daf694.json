{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _node = require('./node');\n\nvar _node2 = _interopRequireDefault(_node);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar TreeStore = function () {\n  function TreeStore(options) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, TreeStore);\n    this.currentNode = null;\n    this.currentNodeKey = null;\n\n    for (var option in options) {\n      if (options.hasOwnProperty(option)) {\n        this[option] = options[option];\n      }\n    }\n\n    this.nodesMap = {};\n    this.root = new _node2.default({\n      data: this.data,\n      store: this\n    });\n\n    if (this.lazy && this.load) {\n      var loadFn = this.load;\n      loadFn(this.root, function (data) {\n        _this.root.doCreateChildren(data);\n\n        _this._initDefaultCheckedNodes();\n      });\n    } else {\n      this._initDefaultCheckedNodes();\n    }\n  }\n\n  (0, _createClass3.default)(TreeStore, [{\n    key: 'filter',\n    value: function filter(value) {\n      var filterNodeMethod = this.filterNodeMethod;\n\n      var traverse = function traverse(node) {\n        var childNodes = node.root ? node.root.childNodes : node.childNodes;\n        childNodes.forEach(function (child) {\n          child.visible = filterNodeMethod.call(child, value, child.data, child);\n          traverse(child);\n        });\n\n        if (!node.visible && childNodes.length) {\n          var allHidden = true;\n          childNodes.forEach(function (child) {\n            if (child.visible) allHidden = false;\n          });\n\n          if (node.root) {\n            node.root.visible = allHidden === false;\n          } else {\n            node.visible = allHidden === false;\n          }\n        }\n\n        if (node.visible && !node.isLeaf) node.expand();\n      };\n\n      traverse(this);\n    }\n  }, {\n    key: 'setData',\n    value: function setData(newVal) {\n      var instanceChanged = newVal !== this.root.data;\n      this.root.setData(newVal);\n\n      if (instanceChanged) {\n        this._initDefaultCheckedNodes();\n      }\n    }\n  }, {\n    key: 'getNode',\n    value: function getNode(data) {\n      var key = (typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) !== 'object' ? data : (0, _util.getNodeKey)(this.key, data);\n      return this.nodesMap[key];\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(data, refData) {\n      var refNode = this.getNode(refData);\n      refNode.parent.insertBefore({\n        data: data\n      }, refNode);\n    }\n  }, {\n    key: 'insertAfter',\n    value: function insertAfter(data, refData) {\n      var refNode = this.getNode(refData);\n      refNode.parent.insertAfter({\n        data: data\n      }, refNode);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(data) {\n      var node = this.getNode(data);\n\n      if (node) {\n        node.parent.removeChild(node);\n      }\n    }\n  }, {\n    key: 'append',\n    value: function append(data, parentData) {\n      var parentNode = parentData ? this.getNode(parentData) : this.root;\n\n      if (parentNode) {\n        parentNode.insertChild({\n          data: data\n        });\n      }\n    }\n  }, {\n    key: '_initDefaultCheckedNodes',\n    value: function _initDefaultCheckedNodes() {\n      var _this2 = this;\n\n      var defaultCheckedKeys = this.defaultCheckedKeys || [];\n      var nodesMap = this.nodesMap;\n      defaultCheckedKeys.forEach(function (checkedKey) {\n        var node = nodesMap[checkedKey];\n\n        if (node) {\n          node.setChecked(true, !_this2.checkStrictly);\n        }\n      });\n    }\n  }, {\n    key: '_initDefaultCheckedNode',\n    value: function _initDefaultCheckedNode(node) {\n      var defaultCheckedKeys = this.defaultCheckedKeys || [];\n\n      if (defaultCheckedKeys.indexOf(node.key) !== -1) {\n        node.setChecked(true, !this.checkStrictly);\n      }\n    }\n  }, {\n    key: 'setDefaultCheckedKey',\n    value: function setDefaultCheckedKey(newVal) {\n      if (newVal !== this.defaultCheckedKeys) {\n        this.defaultCheckedKeys = newVal;\n\n        this._initDefaultCheckedNodes();\n      }\n    }\n  }, {\n    key: 'registerNode',\n    value: function registerNode(node) {\n      var key = this.key;\n      if (!key || !node || !node.data) return;\n      var nodeKey = node.key;\n      if (nodeKey !== undefined) this.nodesMap[node.key] = node;\n    }\n  }, {\n    key: 'deregisterNode',\n    value: function deregisterNode(node) {\n      var key = this.key;\n      if (!key || !node || !node.data) return;\n      delete this.nodesMap[node.key];\n    }\n  }, {\n    key: 'getCheckedNodes',\n    value: function getCheckedNodes() {\n      var leafOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var checkedNodes = [];\n\n      var traverse = function traverse(node) {\n        var childNodes = node.root ? node.root.childNodes : node.childNodes;\n        childNodes.forEach(function (child) {\n          if (!leafOnly && child.checked || leafOnly && child.isLeaf && child.checked) {\n            checkedNodes.push(child.data);\n          }\n\n          traverse(child);\n        });\n      };\n\n      traverse(this);\n      return checkedNodes;\n    }\n  }, {\n    key: 'getCheckedKeys',\n    value: function getCheckedKeys() {\n      var leafOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var key = this.key;\n\n      var allNodes = this._getAllNodes();\n\n      var keys = [];\n      allNodes.forEach(function (node) {\n        if (!leafOnly || leafOnly && node.isLeaf) {\n          if (node.checked) {\n            keys.push((node.data || {})[key]);\n          }\n        }\n      });\n      return keys;\n    }\n  }, {\n    key: '_getAllNodes',\n    value: function _getAllNodes() {\n      var allNodes = [];\n      var nodesMap = this.nodesMap;\n\n      for (var nodeKey in nodesMap) {\n        if (nodesMap.hasOwnProperty(nodeKey)) {\n          allNodes.push(nodesMap[nodeKey]);\n        }\n      }\n\n      return allNodes;\n    }\n  }, {\n    key: '_setCheckedKeys',\n    value: function _setCheckedKeys(key) {\n      var _this3 = this;\n\n      var leafOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var checkedKeys = arguments[2];\n\n      var allNodes = this._getAllNodes();\n\n      allNodes.sort(function (a, b) {\n        return b.level - a.level;\n      });\n      var keys = Object.keys(checkedKeys);\n      allNodes.forEach(function (node) {\n        var checked = keys.indexOf(node.data[key] + '') > -1;\n\n        if (!node.isLeaf) {\n          if (!_this3.checkStrictly) {\n            var childNodes = node.childNodes;\n            var all = true;\n            var none = true;\n\n            for (var i = 0, j = childNodes.length; i < j; i++) {\n              var child = childNodes[i];\n\n              if (child.checked !== true || child.indeterminate) {\n                all = false;\n              }\n\n              if (child.checked !== false || child.indeterminate) {\n                none = false;\n              }\n            }\n\n            if (all) {\n              node.setChecked(true, !_this3.checkStrictly);\n            } else if (!all && !none) {\n              checked = checked ? true : 'half';\n              node.setChecked(checked, !_this3.checkStrictly && checked === true);\n            } else if (none) {\n              node.setChecked(checked, !_this3.checkStrictly);\n            }\n          } else {\n            node.setChecked(checked, false);\n          }\n\n          if (leafOnly) {\n            node.setChecked(false, false);\n\n            var traverse = function traverse(node) {\n              var childNodes = node.childNodes;\n              childNodes.forEach(function (child) {\n                if (!child.isLeaf) {\n                  child.setChecked(false, false);\n                }\n\n                traverse(child);\n              });\n            };\n\n            traverse(node);\n          }\n        } else {\n          node.setChecked(checked, false);\n        }\n      });\n    }\n  }, {\n    key: 'setCheckedNodes',\n    value: function setCheckedNodes(array) {\n      var leafOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var key = this.key;\n      var checkedKeys = {};\n      array.forEach(function (item) {\n        checkedKeys[(item || {})[key]] = true;\n      });\n\n      this._setCheckedKeys(key, leafOnly, checkedKeys);\n    }\n  }, {\n    key: 'setCheckedKeys',\n    value: function setCheckedKeys(keys) {\n      var leafOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      this.defaultCheckedKeys = keys;\n      var key = this.key;\n      var checkedKeys = {};\n      keys.forEach(function (key) {\n        checkedKeys[key] = true;\n      });\n\n      this._setCheckedKeys(key, leafOnly, checkedKeys);\n    }\n  }, {\n    key: 'setDefaultExpandedKeys',\n    value: function setDefaultExpandedKeys(keys) {\n      var _this4 = this;\n\n      keys = keys || [];\n      this.defaultExpandedKeys = keys;\n      keys.forEach(function (key) {\n        var node = _this4.getNode(key);\n\n        if (node) node.expand(null, _this4.autoExpandParent);\n      });\n    }\n  }, {\n    key: 'setChecked',\n    value: function setChecked(data, checked, deep) {\n      var node = this.getNode(data);\n\n      if (node) {\n        node.setChecked(!!checked, deep);\n      }\n    }\n  }, {\n    key: 'getCurrentNode',\n    value: function getCurrentNode() {\n      return this.currentNode;\n    }\n  }, {\n    key: 'setCurrentNode',\n    value: function setCurrentNode(node) {\n      this.currentNode = node;\n    }\n  }, {\n    key: 'setCurrentNodeKey',\n    value: function setCurrentNodeKey(key) {\n      var node = this.getNode(key);\n\n      if (node) {\n        this.currentNode = node;\n      }\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return TreeStore;\n}();\n\nvar _default = TreeStore;\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TreeStore, 'TreeStore', 'src/tree/model/tree-store.js');\n  reactHotLoader.register(_default, 'default', 'src/tree/model/tree-store.js');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/tree/model/tree-store.js"],"names":["Object","defineProperty","exports","value","_typeof2","require","_typeof3","_interopRequireDefault","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_node","_node2","_util","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","TreeStore","options","_this","currentNode","currentNodeKey","option","hasOwnProperty","nodesMap","root","data","store","lazy","load","loadFn","doCreateChildren","_initDefaultCheckedNodes","key","filter","filterNodeMethod","traverse","node","childNodes","forEach","child","visible","call","length","allHidden","isLeaf","expand","setData","newVal","instanceChanged","getNode","getNodeKey","insertBefore","refData","refNode","parent","insertAfter","remove","removeChild","append","parentData","parentNode","insertChild","_this2","defaultCheckedKeys","checkedKey","setChecked","checkStrictly","_initDefaultCheckedNode","indexOf","setDefaultCheckedKey","registerNode","nodeKey","undefined","deregisterNode","getCheckedNodes","leafOnly","arguments","checkedNodes","checked","push","getCheckedKeys","allNodes","_getAllNodes","keys","_setCheckedKeys","_this3","checkedKeys","sort","a","b","level","all","none","i","j","indeterminate","setCheckedNodes","array","item","setCheckedKeys","setDefaultExpandedKeys","_this4","defaultExpandedKeys","autoExpandParent","deep","getCurrentNode","setCurrentNode","setCurrentNodeKey","__reactstandin__regenerateByEval","code","eval","_default","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof2 = require('babel-runtime/helpers/typeof');\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _node = require('./node');\n\nvar _node2 = _interopRequireDefault(_node);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar TreeStore = function () {\n  function TreeStore(options) {\n    var _this = this;\n\n    (0, _classCallCheck3.default)(this, TreeStore);\n\n    this.currentNode = null;\n    this.currentNodeKey = null;\n\n    for (var option in options) {\n      if (options.hasOwnProperty(option)) {\n        this[option] = options[option];\n      }\n    }\n\n    this.nodesMap = {};\n\n    this.root = new _node2.default({\n      data: this.data,\n      store: this\n    });\n\n    if (this.lazy && this.load) {\n      var loadFn = this.load;\n      loadFn(this.root, function (data) {\n        _this.root.doCreateChildren(data);\n        _this._initDefaultCheckedNodes();\n      });\n    } else {\n      this._initDefaultCheckedNodes();\n    }\n  }\n\n  (0, _createClass3.default)(TreeStore, [{\n    key: 'filter',\n    value: function filter(value) {\n      var filterNodeMethod = this.filterNodeMethod;\n      var traverse = function traverse(node) {\n        var childNodes = node.root ? node.root.childNodes : node.childNodes;\n\n        childNodes.forEach(function (child) {\n          child.visible = filterNodeMethod.call(child, value, child.data, child);\n\n          traverse(child);\n        });\n\n        if (!node.visible && childNodes.length) {\n          var allHidden = true;\n\n          childNodes.forEach(function (child) {\n            if (child.visible) allHidden = false;\n          });\n\n          if (node.root) {\n            node.root.visible = allHidden === false;\n          } else {\n            node.visible = allHidden === false;\n          }\n        }\n\n        if (node.visible && !node.isLeaf) node.expand();\n      };\n      traverse(this);\n    }\n  }, {\n    key: 'setData',\n    value: function setData(newVal) {\n      var instanceChanged = newVal !== this.root.data;\n      this.root.setData(newVal);\n      if (instanceChanged) {\n        this._initDefaultCheckedNodes();\n      }\n    }\n  }, {\n    key: 'getNode',\n    value: function getNode(data) {\n      var key = (typeof data === 'undefined' ? 'undefined' : (0, _typeof3.default)(data)) !== 'object' ? data : (0, _util.getNodeKey)(this.key, data);\n      return this.nodesMap[key];\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(data, refData) {\n      var refNode = this.getNode(refData);\n      refNode.parent.insertBefore({ data: data }, refNode);\n    }\n  }, {\n    key: 'insertAfter',\n    value: function insertAfter(data, refData) {\n      var refNode = this.getNode(refData);\n      refNode.parent.insertAfter({ data: data }, refNode);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(data) {\n      var node = this.getNode(data);\n      if (node) {\n        node.parent.removeChild(node);\n      }\n    }\n  }, {\n    key: 'append',\n    value: function append(data, parentData) {\n      var parentNode = parentData ? this.getNode(parentData) : this.root;\n\n      if (parentNode) {\n        parentNode.insertChild({ data: data });\n      }\n    }\n  }, {\n    key: '_initDefaultCheckedNodes',\n    value: function _initDefaultCheckedNodes() {\n      var _this2 = this;\n\n      var defaultCheckedKeys = this.defaultCheckedKeys || [];\n      var nodesMap = this.nodesMap;\n\n      defaultCheckedKeys.forEach(function (checkedKey) {\n        var node = nodesMap[checkedKey];\n\n        if (node) {\n          node.setChecked(true, !_this2.checkStrictly);\n        }\n      });\n    }\n  }, {\n    key: '_initDefaultCheckedNode',\n    value: function _initDefaultCheckedNode(node) {\n      var defaultCheckedKeys = this.defaultCheckedKeys || [];\n\n      if (defaultCheckedKeys.indexOf(node.key) !== -1) {\n        node.setChecked(true, !this.checkStrictly);\n      }\n    }\n  }, {\n    key: 'setDefaultCheckedKey',\n    value: function setDefaultCheckedKey(newVal) {\n      if (newVal !== this.defaultCheckedKeys) {\n        this.defaultCheckedKeys = newVal;\n        this._initDefaultCheckedNodes();\n      }\n    }\n  }, {\n    key: 'registerNode',\n    value: function registerNode(node) {\n      var key = this.key;\n      if (!key || !node || !node.data) return;\n\n      var nodeKey = node.key;\n      if (nodeKey !== undefined) this.nodesMap[node.key] = node;\n    }\n  }, {\n    key: 'deregisterNode',\n    value: function deregisterNode(node) {\n      var key = this.key;\n      if (!key || !node || !node.data) return;\n\n      delete this.nodesMap[node.key];\n    }\n  }, {\n    key: 'getCheckedNodes',\n    value: function getCheckedNodes() {\n      var leafOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var checkedNodes = [];\n      var traverse = function traverse(node) {\n        var childNodes = node.root ? node.root.childNodes : node.childNodes;\n\n        childNodes.forEach(function (child) {\n          if (!leafOnly && child.checked || leafOnly && child.isLeaf && child.checked) {\n            checkedNodes.push(child.data);\n          }\n\n          traverse(child);\n        });\n      };\n\n      traverse(this);\n\n      return checkedNodes;\n    }\n  }, {\n    key: 'getCheckedKeys',\n    value: function getCheckedKeys() {\n      var leafOnly = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      var key = this.key;\n      var allNodes = this._getAllNodes();\n      var keys = [];\n      allNodes.forEach(function (node) {\n        if (!leafOnly || leafOnly && node.isLeaf) {\n          if (node.checked) {\n            keys.push((node.data || {})[key]);\n          }\n        }\n      });\n      return keys;\n    }\n  }, {\n    key: '_getAllNodes',\n    value: function _getAllNodes() {\n      var allNodes = [];\n      var nodesMap = this.nodesMap;\n      for (var nodeKey in nodesMap) {\n        if (nodesMap.hasOwnProperty(nodeKey)) {\n          allNodes.push(nodesMap[nodeKey]);\n        }\n      }\n\n      return allNodes;\n    }\n  }, {\n    key: '_setCheckedKeys',\n    value: function _setCheckedKeys(key) {\n      var _this3 = this;\n\n      var leafOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var checkedKeys = arguments[2];\n\n      var allNodes = this._getAllNodes();\n      allNodes.sort(function (a, b) {\n        return b.level - a.level;\n      });\n\n      var keys = Object.keys(checkedKeys);\n      allNodes.forEach(function (node) {\n        var checked = keys.indexOf(node.data[key] + '') > -1;\n\n        if (!node.isLeaf) {\n          if (!_this3.checkStrictly) {\n            var childNodes = node.childNodes;\n\n            var all = true;\n            var none = true;\n\n            for (var i = 0, j = childNodes.length; i < j; i++) {\n              var child = childNodes[i];\n              if (child.checked !== true || child.indeterminate) {\n                all = false;\n              }\n              if (child.checked !== false || child.indeterminate) {\n                none = false;\n              }\n            }\n\n            if (all) {\n              node.setChecked(true, !_this3.checkStrictly);\n            } else if (!all && !none) {\n              checked = checked ? true : 'half';\n              node.setChecked(checked, !_this3.checkStrictly && checked === true);\n            } else if (none) {\n              node.setChecked(checked, !_this3.checkStrictly);\n            }\n          } else {\n            node.setChecked(checked, false);\n          }\n\n          if (leafOnly) {\n            node.setChecked(false, false);\n            var traverse = function traverse(node) {\n              var childNodes = node.childNodes;\n\n              childNodes.forEach(function (child) {\n                if (!child.isLeaf) {\n                  child.setChecked(false, false);\n                }\n                traverse(child);\n              });\n            };\n\n            traverse(node);\n          }\n        } else {\n          node.setChecked(checked, false);\n        }\n      });\n    }\n  }, {\n    key: 'setCheckedNodes',\n    value: function setCheckedNodes(array) {\n      var leafOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var key = this.key;\n      var checkedKeys = {};\n      array.forEach(function (item) {\n        checkedKeys[(item || {})[key]] = true;\n      });\n\n      this._setCheckedKeys(key, leafOnly, checkedKeys);\n    }\n  }, {\n    key: 'setCheckedKeys',\n    value: function setCheckedKeys(keys) {\n      var leafOnly = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      this.defaultCheckedKeys = keys;\n      var key = this.key;\n      var checkedKeys = {};\n      keys.forEach(function (key) {\n        checkedKeys[key] = true;\n      });\n\n      this._setCheckedKeys(key, leafOnly, checkedKeys);\n    }\n  }, {\n    key: 'setDefaultExpandedKeys',\n    value: function setDefaultExpandedKeys(keys) {\n      var _this4 = this;\n\n      keys = keys || [];\n      this.defaultExpandedKeys = keys;\n\n      keys.forEach(function (key) {\n        var node = _this4.getNode(key);\n        if (node) node.expand(null, _this4.autoExpandParent);\n      });\n    }\n  }, {\n    key: 'setChecked',\n    value: function setChecked(data, checked, deep) {\n      var node = this.getNode(data);\n\n      if (node) {\n        node.setChecked(!!checked, deep);\n      }\n    }\n  }, {\n    key: 'getCurrentNode',\n    value: function getCurrentNode() {\n      return this.currentNode;\n    }\n  }, {\n    key: 'setCurrentNode',\n    value: function setCurrentNode(node) {\n      this.currentNode = node;\n    }\n  }, {\n    key: 'setCurrentNodeKey',\n    value: function setCurrentNodeKey(key) {\n      var node = this.getNode(key);\n      if (node) {\n        this.currentNode = node;\n      }\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n  return TreeStore;\n}();\n\nvar _default = TreeStore;\nexports.default = _default;\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(TreeStore, 'TreeStore', 'src/tree/model/tree-store.js');\n  reactHotLoader.register(_default, 'default', 'src/tree/model/tree-store.js');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}