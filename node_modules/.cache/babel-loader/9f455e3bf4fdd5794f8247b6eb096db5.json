{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _OrsUtil = require('./OrsUtil');\n\nvar _OrsUtil2 = _interopRequireDefault(_OrsUtil);\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar orsUtil = new _OrsUtil2.default();\n\nvar OrsMatrix = function () {\n  function OrsMatrix(args) {\n    _classCallCheck(this, OrsMatrix);\n\n    this.meta = null;\n    this.args = {};\n\n    if (_constants2.default.propNames.apiKey in args) {\n      this.args[_constants2.default.propNames.apiKey] = args[_constants2.default.propNames.apiKey];\n    } else {\n      // eslint-disable-next-line no-console\n      console.log(_constants2.default.missingAPIKeyMsg);\n    }\n  }\n\n  _createClass(OrsMatrix, [{\n    key: 'calculate',\n    value: function calculate(reqArgs) {\n      // Get custom header and remove from args\n      this.customHeaders = [];\n\n      if (reqArgs.customHeaders) {\n        this.customHeaders = reqArgs.customHeaders;\n        delete reqArgs.customHeaders;\n      }\n\n      orsUtil.setRequestDefaults(this.args, reqArgs, true); // eslint-disable-next-line prettier/prettier\n\n      if (!this.args[_constants2.default.propNames.service] && !reqArgs[_constants2.default.propNames.service]) {\n        this.args[_constants2.default.propNames.service] = 'matrix';\n      }\n\n      orsUtil.copyProperties(reqArgs, this.args);\n      var that = this;\n      return new _bluebird2.default(function (resolve, reject) {\n        var timeout = 10000; // eslint-disable-next-line prettier/prettier\n\n        if (that.args[_constants2.default.propNames.apiVersion] === _constants2.default.defaultAPIVersion) {\n          if (that.meta == null) {\n            that.meta = orsUtil.prepareMeta(that.args);\n          }\n\n          that.httpArgs = orsUtil.prepareRequest(that.args);\n          var url = orsUtil.prepareUrl(that.meta);\n          var authorization = that.meta[_constants2.default.propNames.apiKey];\n\n          var orsRequest = _superagent2.default.post(url).send(that.httpArgs).set('Authorization', authorization).timeout(timeout);\n\n          for (var key in that.customHeaders) {\n            orsRequest.set(key, that.customHeaders[key]);\n          }\n\n          orsRequest.end(function (err, res) {\n            if (err || !res.ok) {\n              // eslint-disable-next-line no-console\n              console.error(err);\n              reject(err);\n            } else if (res) {\n              resolve(res.body || res.text);\n            }\n          });\n        } else {\n          // eslint-disable-next-line no-console\n          console.error(_constants2.default.useAPIV2Msg);\n        }\n      });\n    }\n  }]);\n\n  return OrsMatrix;\n}();\n\nexports.default = OrsMatrix;","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/openrouteservice-js/npm_distribution/OrsMatrix.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_superagent","require","_superagent2","_interopRequireDefault","_bluebird","_bluebird2","_OrsUtil","_OrsUtil2","_constants","_constants2","obj","__esModule","default","_classCallCheck","instance","TypeError","orsUtil","OrsMatrix","args","meta","propNames","apiKey","console","log","missingAPIKeyMsg","calculate","reqArgs","customHeaders","setRequestDefaults","service","copyProperties","that","resolve","reject","timeout","apiVersion","defaultAPIVersion","prepareMeta","httpArgs","prepareRequest","url","prepareUrl","authorization","orsRequest","post","send","set","end","err","res","ok","error","body","text","useAPIV2Msg"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _superagent = require('superagent');\n\nvar _superagent2 = _interopRequireDefault(_superagent);\n\nvar _bluebird = require('bluebird');\n\nvar _bluebird2 = _interopRequireDefault(_bluebird);\n\nvar _OrsUtil = require('./OrsUtil');\n\nvar _OrsUtil2 = _interopRequireDefault(_OrsUtil);\n\nvar _constants = require('./constants');\n\nvar _constants2 = _interopRequireDefault(_constants);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar orsUtil = new _OrsUtil2.default();\n\nvar OrsMatrix = function () {\n  function OrsMatrix(args) {\n    _classCallCheck(this, OrsMatrix);\n\n    this.meta = null;\n    this.args = {};\n    if (_constants2.default.propNames.apiKey in args) {\n      this.args[_constants2.default.propNames.apiKey] = args[_constants2.default.propNames.apiKey];\n    } else {\n      // eslint-disable-next-line no-console\n      console.log(_constants2.default.missingAPIKeyMsg);\n    }\n  }\n\n  _createClass(OrsMatrix, [{\n    key: 'calculate',\n    value: function calculate(reqArgs) {\n      // Get custom header and remove from args\n      this.customHeaders = [];\n      if (reqArgs.customHeaders) {\n        this.customHeaders = reqArgs.customHeaders;\n        delete reqArgs.customHeaders;\n      }\n      orsUtil.setRequestDefaults(this.args, reqArgs, true);\n      // eslint-disable-next-line prettier/prettier\n      if (!this.args[_constants2.default.propNames.service] && !reqArgs[_constants2.default.propNames.service]) {\n        this.args[_constants2.default.propNames.service] = 'matrix';\n      }\n\n      orsUtil.copyProperties(reqArgs, this.args);\n      var that = this;\n\n      return new _bluebird2.default(function (resolve, reject) {\n        var timeout = 10000;\n\n        // eslint-disable-next-line prettier/prettier\n        if (that.args[_constants2.default.propNames.apiVersion] === _constants2.default.defaultAPIVersion) {\n          if (that.meta == null) {\n            that.meta = orsUtil.prepareMeta(that.args);\n          }\n          that.httpArgs = orsUtil.prepareRequest(that.args);\n\n          var url = orsUtil.prepareUrl(that.meta);\n          var authorization = that.meta[_constants2.default.propNames.apiKey];\n\n          var orsRequest = _superagent2.default.post(url).send(that.httpArgs).set('Authorization', authorization).timeout(timeout);\n\n          for (var key in that.customHeaders) {\n            orsRequest.set(key, that.customHeaders[key]);\n          }\n          orsRequest.end(function (err, res) {\n            if (err || !res.ok) {\n              // eslint-disable-next-line no-console\n              console.error(err);\n              reject(err);\n            } else if (res) {\n              resolve(res.body || res.text);\n            }\n          });\n        } else {\n          // eslint-disable-next-line no-console\n          console.error(_constants2.default.useAPIV2Msg);\n        }\n      });\n    }\n  }]);\n\n  return OrsMatrix;\n}();\n\nexports.default = OrsMatrix;"]},"metadata":{},"sourceType":"script"}