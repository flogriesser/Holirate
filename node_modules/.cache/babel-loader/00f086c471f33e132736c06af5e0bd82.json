{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _libs = require('../../libs');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar CarouselItem = function (_Component) {\n  (0, _inherits3.default)(CarouselItem, _Component);\n\n  function CarouselItem(props) {\n    (0, _classCallCheck3.default)(this, CarouselItem);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (CarouselItem.__proto__ || Object.getPrototypeOf(CarouselItem)).call(this, props));\n\n    _this.state = {\n      hover: false,\n      translate: 0,\n      scale: 1,\n      active: false,\n      ready: false,\n      inStage: false,\n      animating: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(CarouselItem, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.parent().addItem(this);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.parent().removeItem(this);\n    }\n  }, {\n    key: 'processIndex',\n    value: function processIndex(index, activeIndex, length) {\n      if (activeIndex === 0 && index === length - 1) {\n        return -1;\n      } else if (activeIndex === length - 1 && index === 0) {\n        return length;\n      } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\n        return length + 1;\n      } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\n        return -2;\n      }\n\n      return index;\n    }\n  }, {\n    key: 'calculateTranslate',\n    value: function calculateTranslate(index, activeIndex, parentWidth) {\n      var denominator = this.isFlat ? 3 : 4;\n\n      if (this.state.inStage) {\n        return parentWidth * ((2 - this.CARD_SCALE) * (index - activeIndex) + 1) / denominator;\n      } else if (index < activeIndex) {\n        return -(1 + this.CARD_SCALE) * parentWidth / denominator;\n      } else {\n        return (denominator - 1 + this.CARD_SCALE) * parentWidth / denominator;\n      }\n    }\n  }, {\n    key: 'translateItem',\n    value: function translateItem(index, activeIndex, oldIndex) {\n      var parent = _reactDom2.default.findDOMNode(this.parent());\n\n      var parentWidth = parent.offsetWidth;\n      var length = this.parent().state.items.length;\n\n      if (!this.parent().iscard && oldIndex !== undefined) {\n        this.state.animating = index === activeIndex || index === oldIndex;\n      }\n\n      if (index !== activeIndex && length > 2) {\n        index = this.processIndex(index, activeIndex, length);\n      }\n\n      if (this.parent().iscard) {\n        this.state.inStage = Math.round(Math.abs(index - activeIndex)) <= 1;\n        this.state.active = index === activeIndex;\n        this.state.translate = this.calculateTranslate(index, activeIndex, parentWidth);\n        this.state.scale = this.state.active ? 1 : this.CARD_SCALE;\n      } else {\n        this.state.active = index === activeIndex;\n        this.state.translate = parentWidth * (index - activeIndex);\n      }\n\n      this.state.ready = true;\n      this.forceUpdate();\n    }\n  }, {\n    key: 'handleItemClick',\n    value: function handleItemClick() {\n      if (this.parent().iscard) {\n        var index = this.parent().state.items.indexOf(this);\n        this.parent().setActiveItem(index);\n      }\n    }\n  }, {\n    key: 'parent',\n    value: function parent() {\n      return this.context.component;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          hover = _state.hover,\n          translate = _state.translate,\n          scale = _state.scale,\n          active = _state.active,\n          ready = _state.ready,\n          inStage = _state.inStage,\n          animating = _state.animating;\n      return _react2.default.createElement(_libs.View, {\n        show: ready\n      }, _react2.default.createElement('div', {\n        className: this.className('el-carousel__item', {\n          'is-active': active,\n          'el-carousel__item--card': this.parent().iscard,\n          'is-in-stage': inStage,\n          'is-hover': hover,\n          'is-animating': animating\n        }),\n        onClick: this.handleItemClick.bind(this),\n        style: {\n          msTransform: 'translateX(' + translate + 'px) scale(' + scale + ')',\n          WebkitTransform: 'translateX(' + translate + 'px) scale(' + scale + ')',\n          transform: 'translateX(' + translate + 'px) scale(' + scale + ')'\n        }\n      }, this.parent().iscard && _react2.default.createElement(_libs.View, {\n        show: !active\n      }, _react2.default.createElement('div', {\n        className: 'el-carousel__mask'\n      })), this.props.children));\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }, {\n    key: 'isFlat',\n    get: function get() {\n      return this.parent().props.type === 'flatcard';\n    }\n  }, {\n    key: 'CARD_SCALE',\n    get: function get() {\n      return this.isFlat ? 1 : 0.83;\n    }\n  }, {\n    key: 'calculateWidth',\n    get: function get() {\n      if (this.isFlat) {\n        return parseInt(100 / 3) + '%';\n      }\n    }\n  }]);\n  return CarouselItem;\n}(_libs.Component);\n\nvar _default = CarouselItem;\nexports.default = _default;\nCarouselItem.contextTypes = {\n  component: _libs.PropTypes.any\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(CarouselItem, 'CarouselItem', 'src/carousel/CarouselItem.jsx');\n  reactHotLoader.register(_default, 'default', 'src/carousel/CarouselItem.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"sources":["/home/flo/Projects/react/Holirate/node_modules/element-react/dist/npm/es5/src/carousel/CarouselItem.js"],"names":["Object","defineProperty","exports","value","_classCallCheck2","require","_classCallCheck3","_interopRequireDefault","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_react","_react2","_reactDom","_reactDom2","_libs","obj","__esModule","default","enterModule","reactHotLoaderGlobal","module","CarouselItem","_Component","props","_this","__proto__","getPrototypeOf","call","state","hover","translate","scale","active","ready","inStage","animating","key","componentWillMount","parent","addItem","componentWillUnmount","removeItem","processIndex","index","activeIndex","length","calculateTranslate","parentWidth","denominator","isFlat","CARD_SCALE","translateItem","oldIndex","findDOMNode","offsetWidth","items","iscard","undefined","Math","round","abs","forceUpdate","handleItemClick","indexOf","setActiveItem","context","component","render","_state","createElement","View","show","className","onClick","bind","style","msTransform","WebkitTransform","transform","children","__reactstandin__regenerateByEval","code","eval","get","type","parseInt","Component","_default","contextTypes","PropTypes","any","reactHotLoader","register","leaveModule"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _libs = require('../../libs');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n(function () {\n  var enterModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).enterModule;\n  enterModule && enterModule(module);\n})();\n\nvar CarouselItem = function (_Component) {\n  (0, _inherits3.default)(CarouselItem, _Component);\n\n  function CarouselItem(props) {\n    (0, _classCallCheck3.default)(this, CarouselItem);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (CarouselItem.__proto__ || Object.getPrototypeOf(CarouselItem)).call(this, props));\n\n    _this.state = {\n      hover: false,\n      translate: 0,\n      scale: 1,\n      active: false,\n      ready: false,\n      inStage: false,\n      animating: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(CarouselItem, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.parent().addItem(this);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.parent().removeItem(this);\n    }\n  }, {\n    key: 'processIndex',\n    value: function processIndex(index, activeIndex, length) {\n      if (activeIndex === 0 && index === length - 1) {\n        return -1;\n      } else if (activeIndex === length - 1 && index === 0) {\n        return length;\n      } else if (index < activeIndex - 1 && activeIndex - index >= length / 2) {\n        return length + 1;\n      } else if (index > activeIndex + 1 && index - activeIndex >= length / 2) {\n        return -2;\n      }\n\n      return index;\n    }\n  }, {\n    key: 'calculateTranslate',\n    value: function calculateTranslate(index, activeIndex, parentWidth) {\n      var denominator = this.isFlat ? 3 : 4;\n      if (this.state.inStage) {\n        return parentWidth * ((2 - this.CARD_SCALE) * (index - activeIndex) + 1) / denominator;\n      } else if (index < activeIndex) {\n        return -(1 + this.CARD_SCALE) * parentWidth / denominator;\n      } else {\n        return (denominator - 1 + this.CARD_SCALE) * parentWidth / denominator;\n      }\n    }\n  }, {\n    key: 'translateItem',\n    value: function translateItem(index, activeIndex, oldIndex) {\n      var parent = _reactDom2.default.findDOMNode(this.parent());\n      var parentWidth = parent.offsetWidth;\n      var length = this.parent().state.items.length;\n\n      if (!this.parent().iscard && oldIndex !== undefined) {\n        this.state.animating = index === activeIndex || index === oldIndex;\n      }\n\n      if (index !== activeIndex && length > 2) {\n        index = this.processIndex(index, activeIndex, length);\n      }\n\n      if (this.parent().iscard) {\n        this.state.inStage = Math.round(Math.abs(index - activeIndex)) <= 1;\n        this.state.active = index === activeIndex;\n        this.state.translate = this.calculateTranslate(index, activeIndex, parentWidth);\n        this.state.scale = this.state.active ? 1 : this.CARD_SCALE;\n      } else {\n        this.state.active = index === activeIndex;\n        this.state.translate = parentWidth * (index - activeIndex);\n      }\n\n      this.state.ready = true;\n\n      this.forceUpdate();\n    }\n  }, {\n    key: 'handleItemClick',\n    value: function handleItemClick() {\n      if (this.parent().iscard) {\n        var index = this.parent().state.items.indexOf(this);\n        this.parent().setActiveItem(index);\n      }\n    }\n  }, {\n    key: 'parent',\n    value: function parent() {\n      return this.context.component;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state = this.state,\n          hover = _state.hover,\n          translate = _state.translate,\n          scale = _state.scale,\n          active = _state.active,\n          ready = _state.ready,\n          inStage = _state.inStage,\n          animating = _state.animating;\n\n\n      return _react2.default.createElement(\n        _libs.View,\n        { show: ready },\n        _react2.default.createElement(\n          'div',\n          {\n            className: this.className('el-carousel__item', {\n              'is-active': active,\n              'el-carousel__item--card': this.parent().iscard,\n              'is-in-stage': inStage,\n              'is-hover': hover,\n              'is-animating': animating\n            }),\n            onClick: this.handleItemClick.bind(this),\n            style: {\n              msTransform: 'translateX(' + translate + 'px) scale(' + scale + ')',\n              WebkitTransform: 'translateX(' + translate + 'px) scale(' + scale + ')',\n              transform: 'translateX(' + translate + 'px) scale(' + scale + ')'\n            } },\n          this.parent().iscard && _react2.default.createElement(\n            _libs.View,\n            { show: !active },\n            _react2.default.createElement('div', { className: 'el-carousel__mask' })\n          ),\n          this.props.children\n        )\n      );\n    }\n  }, {\n    key: '__reactstandin__regenerateByEval',\n    // @ts-ignore\n    value: function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }, {\n    key: 'isFlat',\n    get: function get() {\n      return this.parent().props.type === 'flatcard';\n    }\n  }, {\n    key: 'CARD_SCALE',\n    get: function get() {\n      return this.isFlat ? 1 : 0.83;\n    }\n  }, {\n    key: 'calculateWidth',\n    get: function get() {\n      if (this.isFlat) {\n        return parseInt(100 / 3) + '%';\n      }\n    }\n  }]);\n  return CarouselItem;\n}(_libs.Component);\n\nvar _default = CarouselItem;\nexports.default = _default;\n\n\nCarouselItem.contextTypes = {\n  component: _libs.PropTypes.any\n};\n;\n\n(function () {\n  var reactHotLoader = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).default;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(CarouselItem, 'CarouselItem', 'src/carousel/CarouselItem.jsx');\n  reactHotLoader.register(_default, 'default', 'src/carousel/CarouselItem.jsx');\n})();\n\n;\n\n(function () {\n  var leaveModule = (typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal : require('react-hot-loader')).leaveModule;\n  leaveModule && leaveModule(module);\n})();"]},"metadata":{},"sourceType":"script"}