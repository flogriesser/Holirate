{"/home/amon/apps/openrouteservice-js/spec/run.js":{"path":"/home/amon/apps/openrouteservice-js/spec/run.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":33}},"1":{"start":{"line":5,"column":16},"end":{"line":5,"column":48}},"2":{"start":{"line":7,"column":39},"end":{"line":7,"column":93}},"3":{"start":{"line":9,"column":0},"end":{"line":13,"column":1}},"4":{"start":{"line":10,"column":2},"end":{"line":10,"column":27}},"5":{"start":{"line":22,"column":13},"end":{"line":22,"column":31}},"6":{"start":{"line":24,"column":0},"end":{"line":37,"column":1}},"7":{"start":{"line":25,"column":16},"end":{"line":25,"column":39}},"8":{"start":{"line":28,"column":2},"end":{"line":28,"column":48}},"9":{"start":{"line":31,"column":2},"end":{"line":31,"column":43}},"10":{"start":{"line":32,"column":2},"end":{"line":32,"column":20}},"11":{"start":{"line":35,"column":2},"end":{"line":35,"column":145}},"12":{"start":{"line":36,"column":2},"end":{"line":36,"column":18}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":7,"column":9},"end":{"line":7,"column":31}},"loc":{"start":{"line":7,"column":37},"end":{"line":7,"column":95}},"line":7}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":92}},"type":"cond-expr","locations":[{"start":{"line":7,"column":70},"end":{"line":7,"column":73}},{"start":{"line":7,"column":76},"end":{"line":7,"column":92}}],"line":7},"1":{"loc":{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},"type":"binary-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":49}},{"start":{"line":7,"column":53},"end":{"line":7,"column":67}}],"line":7},"2":{"loc":{"start":{"line":24,"column":0},"end":{"line":37,"column":1}},"type":"if","locations":[{"start":{"line":24,"column":0},"end":{"line":37,"column":1}},{"start":{"line":24,"column":0},"end":{"line":37,"column":1}}],"line":24},"3":{"loc":{"start":{"line":24,"column":4},"end":{"line":24,"column":62}},"type":"binary-expr","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":10}},{"start":{"line":24,"column":14},"end":{"line":24,"column":46}},{"start":{"line":24,"column":50},"end":{"line":24,"column":62}}],"line":24}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0},"f":{"0":1},"b":{"0":[0,1],"1":[1,1],"2":[1,0],"3":[1,1,1]},"inputSourceMap":{"version":3,"sources":["run.js"],"names":["require","ex","ORSKEY","process","env","jasmine","Jasmine","loadConfigFile","DEFAULT_TIMEOUT_INTERVAL","execute","console","log","exit"],"mappings":";;AASA;;;;;;AAEA,IAAI;AACFA,UAAQ,eAAR;AACD,CAFD,CAEE,OAAOC,EAAP,EAAW;AACX;AACD,C,CAfD;AACA;;AAEA;AACA;;AAEA;AACA;;AAUA,IAAIC,SAASC,QAAQC,GAAR,CAAYF,MAAzB;;AAEA,IAAIA,UAAUA,WAAW,qBAArB,IAA8CA,UAAU,EAA5D,EAAgE;AAC9D,MAAIG,UAAU,IAAIC,iBAAJ,EAAd;;AAEA;AACAD,UAAQE,cAAR,CAAuB,qBAAvB;;AAEA;AACAF,UAAQG,wBAAR,GAAmC,KAAnC;AACAH,UAAQI,OAAR;AACD,CATD,MASO;AACL;AACAC,UAAQC,GAAR,CACE,mBADF,EAEE,4GAFF;AAIAR,UAAQS,IAAR,CAAa,CAAb;AACD","file":"run.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["// How to use Jasmine with es6\n// https://www.classandobjects.com/test_using_jasmine_react_es6_webpack/\n\n// Jasmine tutorial:\n// https://www.freecodecamp.org/news/jasmine-unit-testing-tutorial-4e757c2cbf42/\n\n// Setup Istanbul with Jasmine:\n// https://bryce.fisher-fleig.org/setting-up-istanbul-with-jasmine/\n\nimport Jasmine from 'jasmine'\n\ntry {\n  require('./test-env.js')\n} catch (ex) {\n  // Silence is gold!\n}\n\nvar ORSKEY = process.env.ORSKEY\n\nif (ORSKEY && ORSKEY !== 'put-an-ors-key-here' && ORSKEY != '') {\n  let jasmine = new Jasmine()\n\n  // Modify this line to point to your jasmine.json\n  jasmine.loadConfigFile('./spec/jasmine.json')\n\n  // Some tests take longer than the default 5000ms of Jasmine\n  jasmine.DEFAULT_TIMEOUT_INTERVAL = 30000\n  jasmine.execute()\n} else {\n  // eslint-disable-next-line no-console\n  console.log(\n    '\\x1b[33m%s\\x1b[0m',\n    'A valid ORSKEY was not set via spec/test-env.js file nor via environment variable. The tests were aborted.'\n  )\n  process.exit(1)\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"35ccca538ad99975677358ac8f22dc3bcee0a88b","contentHash":"8c13ab23c97f0ede31f4d56e04236c47ff2b3d60d09e227beca8c78cfbc927db"},"/home/amon/apps/openrouteservice-js/spec/test-env.js":{"path":"/home/amon/apps/openrouteservice-js/spec/test-env.js","statementMap":{"0":{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},"1":{"start":{"line":6,"column":2},"end":{"line":6,"column":82}}},"fnMap":{},"branchMap":{"0":{"loc":{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},"type":"if","locations":[{"start":{"line":5,"column":0},"end":{"line":7,"column":1}},{"start":{"line":5,"column":0},"end":{"line":7,"column":1}}],"line":5}},"s":{"0":1,"1":1},"f":{},"b":{"0":[1,0]},"inputSourceMap":{"version":3,"sources":["test-env.js"],"names":["process","env","ORSKEY"],"mappings":";;AAAA;AACA;AACA,IAAI,CAACA,QAAQC,GAAR,CAAYC,MAAjB,EAAyB;AACvBF,UAAQC,GAAR,CAAYC,MAAZ,GACE,0DADF;AAED","file":"test-env.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["// Define the ORSKEY for local tests.\n// The same variable is defined in travis-ci to run automated tests\nif (!process.env.ORSKEY) {\n  process.env.ORSKEY =\n    '5b3ce3597851110001cf62484c2b303725d843b5b765b5e83e8e3c30'\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c50a46629cdfb322e6a9fe9b6b2b5dd99d8328d3","contentHash":"d89a941d82ce303f844e79851d40fd1531a4a30e4c261f6f4d48c4bccf19e48e"},"/home/amon/apps/openrouteservice-js/spec/OrsDirectionsSpec.js":{"path":"/home/amon/apps/openrouteservice-js/spec/OrsDirectionsSpec.js","statementMap":{"0":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"1":{"start":{"line":5,"column":22},"end":{"line":5,"column":60}},"2":{"start":{"line":7,"column":16},"end":{"line":7,"column":42}},"3":{"start":{"line":9,"column":17},"end":{"line":9,"column":50}},"4":{"start":{"line":11,"column":17},"end":{"line":11,"column":44}},"5":{"start":{"line":13,"column":18},"end":{"line":13,"column":52}},"6":{"start":{"line":15,"column":39},"end":{"line":15,"column":93}},"7":{"start":{"line":17,"column":0},"end":{"line":28,"column":3}},"8":{"start":{"line":18,"column":2},"end":{"line":27,"column":5}},"9":{"start":{"line":19,"column":4},"end":{"line":26,"column":5}},"10":{"start":{"line":20,"column":6},"end":{"line":22,"column":66}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":40}},"12":{"start":{"line":23,"column":6},"end":{"line":23,"column":13}},"13":{"start":{"line":25,"column":6},"end":{"line":25,"column":55}},"14":{"start":{"line":31,"column":20},"end":{"line":31,"column":80}},"15":{"start":{"line":33,"column":0},"end":{"line":115,"column":3}},"16":{"start":{"line":34,"column":2},"end":{"line":50,"column":5}},"17":{"start":{"line":35,"column":4},"end":{"line":35,"column":32}},"18":{"start":{"line":36,"column":4},"end":{"line":36,"column":85}},"19":{"start":{"line":37,"column":4},"end":{"line":37,"column":85}},"20":{"start":{"line":39,"column":4},"end":{"line":49,"column":7}},"21":{"start":{"line":43,"column":6},"end":{"line":43,"column":52}},"22":{"start":{"line":44,"column":6},"end":{"line":44,"column":68}},"23":{"start":{"line":45,"column":6},"end":{"line":45,"column":65}},"24":{"start":{"line":46,"column":6},"end":{"line":46,"column":13}},"25":{"start":{"line":48,"column":6},"end":{"line":48,"column":29}},"26":{"start":{"line":52,"column":2},"end":{"line":72,"column":5}},"27":{"start":{"line":53,"column":41},"end":{"line":57,"column":6}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":102}},"29":{"start":{"line":59,"column":4},"end":{"line":59,"column":102}},"30":{"start":{"line":61,"column":4},"end":{"line":71,"column":7}},"31":{"start":{"line":65,"column":6},"end":{"line":65,"column":52}},"32":{"start":{"line":66,"column":6},"end":{"line":66,"column":68}},"33":{"start":{"line":67,"column":6},"end":{"line":67,"column":65}},"34":{"start":{"line":68,"column":6},"end":{"line":68,"column":13}},"35":{"start":{"line":70,"column":6},"end":{"line":70,"column":29}},"36":{"start":{"line":74,"column":2},"end":{"line":84,"column":5}},"37":{"start":{"line":75,"column":4},"end":{"line":75,"column":26}},"38":{"start":{"line":76,"column":4},"end":{"line":83,"column":5}},"39":{"start":{"line":77,"column":6},"end":{"line":77,"column":61}},"40":{"start":{"line":78,"column":6},"end":{"line":78,"column":13}},"41":{"start":{"line":81,"column":6},"end":{"line":81,"column":38}},"42":{"start":{"line":82,"column":6},"end":{"line":82,"column":84}},"43":{"start":{"line":86,"column":2},"end":{"line":114,"column":5}},"44":{"start":{"line":87,"column":4},"end":{"line":87,"column":32}},"45":{"start":{"line":88,"column":4},"end":{"line":88,"column":85}},"46":{"start":{"line":89,"column":4},"end":{"line":89,"column":85}},"47":{"start":{"line":91,"column":4},"end":{"line":113,"column":7}},"48":{"start":{"line":96,"column":24},"end":{"line":96,"column":55}},"49":{"start":{"line":97,"column":28},"end":{"line":97,"column":59}},"50":{"start":{"line":99,"column":6},"end":{"line":110,"column":9}},"51":{"start":{"line":105,"column":8},"end":{"line":105,"column":78}},"52":{"start":{"line":106,"column":8},"end":{"line":106,"column":79}},"53":{"start":{"line":107,"column":8},"end":{"line":107,"column":15}},"54":{"start":{"line":109,"column":8},"end":{"line":109,"column":31}},"55":{"start":{"line":112,"column":6},"end":{"line":112,"column":29}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":31}},"loc":{"start":{"line":15,"column":37},"end":{"line":15,"column":95}},"line":15},"1":{"name":"(anonymous_1)","decl":{"start":{"line":17,"column":39},"end":{"line":17,"column":40}},"loc":{"start":{"line":17,"column":51},"end":{"line":28,"column":1}},"line":17},"2":{"name":"(anonymous_2)","decl":{"start":{"line":18,"column":40},"end":{"line":18,"column":41}},"loc":{"start":{"line":18,"column":56},"end":{"line":27,"column":3}},"line":18},"3":{"name":"(anonymous_3)","decl":{"start":{"line":20,"column":13},"end":{"line":20,"column":14}},"loc":{"start":{"line":20,"column":25},"end":{"line":22,"column":7}},"line":20},"4":{"name":"(anonymous_4)","decl":{"start":{"line":33,"column":25},"end":{"line":33,"column":26}},"loc":{"start":{"line":33,"column":37},"end":{"line":115,"column":1}},"line":33},"5":{"name":"(anonymous_5)","decl":{"start":{"line":34,"column":20},"end":{"line":34,"column":21}},"loc":{"start":{"line":34,"column":36},"end":{"line":50,"column":3}},"line":34},"6":{"name":"(anonymous_6)","decl":{"start":{"line":42,"column":12},"end":{"line":42,"column":13}},"loc":{"start":{"line":42,"column":28},"end":{"line":47,"column":5}},"line":42},"7":{"name":"(anonymous_7)","decl":{"start":{"line":47,"column":13},"end":{"line":47,"column":14}},"loc":{"start":{"line":47,"column":28},"end":{"line":49,"column":5}},"line":47},"8":{"name":"(anonymous_8)","decl":{"start":{"line":52,"column":49},"end":{"line":52,"column":50}},"loc":{"start":{"line":52,"column":65},"end":{"line":72,"column":3}},"line":52},"9":{"name":"(anonymous_9)","decl":{"start":{"line":64,"column":12},"end":{"line":64,"column":13}},"loc":{"start":{"line":64,"column":28},"end":{"line":69,"column":5}},"line":64},"10":{"name":"(anonymous_10)","decl":{"start":{"line":69,"column":13},"end":{"line":69,"column":14}},"loc":{"start":{"line":69,"column":28},"end":{"line":71,"column":5}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":74,"column":30},"end":{"line":74,"column":31}},"loc":{"start":{"line":74,"column":46},"end":{"line":84,"column":3}},"line":74},"12":{"name":"(anonymous_12)","decl":{"start":{"line":86,"column":37},"end":{"line":86,"column":38}},"loc":{"start":{"line":86,"column":53},"end":{"line":114,"column":3}},"line":86},"13":{"name":"(anonymous_13)","decl":{"start":{"line":95,"column":12},"end":{"line":95,"column":13}},"loc":{"start":{"line":95,"column":28},"end":{"line":111,"column":5}},"line":95},"14":{"name":"(anonymous_14)","decl":{"start":{"line":104,"column":14},"end":{"line":104,"column":15}},"loc":{"start":{"line":104,"column":31},"end":{"line":108,"column":7}},"line":104},"15":{"name":"(anonymous_15)","decl":{"start":{"line":108,"column":15},"end":{"line":108,"column":16}},"loc":{"start":{"line":108,"column":30},"end":{"line":110,"column":7}},"line":108},"16":{"name":"(anonymous_16)","decl":{"start":{"line":111,"column":13},"end":{"line":111,"column":14}},"loc":{"start":{"line":111,"column":28},"end":{"line":113,"column":5}},"line":111}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":46},"end":{"line":15,"column":92}},"type":"cond-expr","locations":[{"start":{"line":15,"column":70},"end":{"line":15,"column":73}},{"start":{"line":15,"column":76},"end":{"line":15,"column":92}}],"line":15},"1":{"loc":{"start":{"line":15,"column":46},"end":{"line":15,"column":67}},"type":"binary-expr","locations":[{"start":{"line":15,"column":46},"end":{"line":15,"column":49}},{"start":{"line":15,"column":53},"end":{"line":15,"column":67}}],"line":15}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":0,"36":1,"37":1,"38":1,"39":1,"40":1,"41":0,"42":0,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":0,"55":0},"f":{"0":3,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0},"b":{"0":[3,0],"1":[3,3]},"inputSourceMap":{"version":3,"sources":["OrsDirectionsSpec.js"],"names":["describe","it","done","expect","OrsDirections","toThrow","Error","Constants","missingAPIKeyMsg","error","fail","orsDirections","api_key","process","env","ORSKEY","clearPoints","addWaypoint","OrsInput","coord","calculate","profile","format","then","json","routes","length","toBeGreaterThan","summary","distance","toBeLessThan","catch","err","message","customHostAndServiceDirections","host","defaultHost","service","clear","args","coordinates","toBeUndefined","console","log","preference","fastestTime","duration","fastestDistance","avoidables","json2"],"mappings":"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","file":"OrsDirectionsSpec.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["/* eslint-disable no-undef */\nimport OrsDirections from '../src/OrsDirections'\nimport OrsInput from '../src/OrsInput'\nimport Constants from '../src/constants'\n\ndescribe('No api key Directions Test', function() {\n  it('Instantiate with no key results', function(done) {\n    try {\n      expect(function() {\n        new OrsDirections({})\n      }).toThrow(new Error(Constants.missingAPIKeyMsg))\n      done()\n    } catch (error) {\n      done.fail('No api key Directions Test ' + error)\n    }\n  })\n})\n\nconst orsDirections = new OrsDirections({ api_key: process.env.ORSKEY })\n\ndescribe('Simple Route', function() {\n  it('Get results', function(done) {\n    orsDirections.clearPoints()\n    orsDirections.addWaypoint(new OrsInput('8.690958', '49.404663').coord)\n    orsDirections.addWaypoint(new OrsInput('8.687868', '49.390139').coord)\n\n    orsDirections\n      .calculate({\n        profile: 'driving-car',\n        format: 'json'\n      })\n      .then(function(json) {\n        expect(json.routes.length).toBeGreaterThan(0)\n        expect(json.routes[0].summary.distance).toBeGreaterThan(2300)\n        expect(json.routes[0].summary.distance).toBeLessThan(2800)\n        done()\n      })\n      .catch(function(err) {\n        done.fail(err.message)\n      })\n  })\n\n  it('Get results with custom host and service', function(done) {\n    let customHostAndServiceDirections = new OrsDirections({\n      api_key: process.env.ORSKEY,\n      host: Constants.defaultHost,\n      service: 'directions'\n    })\n    customHostAndServiceDirections.addWaypoint(\n      new OrsInput('8.690958', '49.404663').coord\n    )\n    customHostAndServiceDirections.addWaypoint(\n      new OrsInput('8.687868', '49.390139').coord\n    )\n\n    customHostAndServiceDirections\n      .calculate({\n        profile: 'driving-car',\n        format: 'json'\n      })\n      .then(function(json) {\n        expect(json.routes.length).toBeGreaterThan(0)\n        expect(json.routes[0].summary.distance).toBeGreaterThan(2300)\n        expect(json.routes[0].summary.distance).toBeLessThan(2800)\n        done()\n      })\n      .catch(function(err) {\n        done.fail(err.message)\n      })\n  })\n\n  it('Clear directions args', function(done) {\n    orsDirections.clear()\n    try {\n      expect(orsDirections.args.coordinates).toBeUndefined()\n      done()\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(orsDirections.args)\n      done.fail(\n        'Should not fail Clear directions args Test ' + orsDirections.args\n      )\n    }\n  })\n\n  it('Compare Fastest vs. Shortest', function(done) {\n    orsDirections.clearPoints()\n    orsDirections.addWaypoint(new OrsInput('8.690958', '49.404662').coord)\n    orsDirections.addWaypoint(new OrsInput('8.687868', '49.390139').coord)\n\n    orsDirections\n      .calculate({\n        profile: 'driving-car',\n        preference: 'fastest',\n        format: 'json'\n      })\n      .then(function(json) {\n        var fastestTime = json.routes[0].summary.duration\n        var fastestDistance = json.routes[0].summary.distance\n        // Shortest is not prepared with CH\n        orsDirections\n          .calculate({\n            profile: 'driving-car',\n            preference: 'shortest',\n            avoidables: ['tollways', 'ferries', 'fords'],\n            format: 'json'\n          })\n          .then(function(json2) {\n            expect(json2.routes[0].summary.duration).toBeGreaterThan(\n              fastestTime\n            )\n            expect(json2.routes[0].summary.distance).toBeLessThan(\n              fastestDistance\n            )\n            done()\n          })\n          .catch(function(err) {\n            done.fail(err.message)\n          })\n      })\n      .catch(function(err) {\n        done.fail(err.message)\n      })\n  })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"53b68e62f7e548a5f1d4aea14245361a7b7cd022","contentHash":"f6b980614373440cf12bdae1209d6b384f459beef214f11922af6b0d27afb269"},"/home/amon/apps/openrouteservice-js/src/OrsDirections.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsDirections.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":256}},"2":{"start":{"line":7,"column":52},"end":{"line":7,"column":239}},"3":{"start":{"line":7,"column":65},"end":{"line":7,"column":66}},"4":{"start":{"line":7,"column":110},"end":{"line":7,"column":122}},"5":{"start":{"line":7,"column":124},"end":{"line":7,"column":237}},"6":{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},"7":{"start":{"line":7,"column":207},"end":{"line":7,"column":233}},"8":{"start":{"line":7,"column":240},"end":{"line":7,"column":254}},"9":{"start":{"line":9,"column":14},"end":{"line":9,"column":268}},"10":{"start":{"line":9,"column":101},"end":{"line":9,"column":119}},"11":{"start":{"line":9,"column":141},"end":{"line":9,"column":266}},"12":{"start":{"line":11,"column":19},"end":{"line":11,"column":563}},"13":{"start":{"line":11,"column":76},"end":{"line":11,"column":347}},"14":{"start":{"line":11,"column":89},"end":{"line":11,"column":90}},"15":{"start":{"line":11,"column":134},"end":{"line":11,"column":142}},"16":{"start":{"line":11,"column":144},"end":{"line":11,"column":199}},"17":{"start":{"line":11,"column":200},"end":{"line":11,"column":231}},"18":{"start":{"line":11,"column":232},"end":{"line":11,"column":286}},"19":{"start":{"line":11,"column":259},"end":{"line":11,"column":286}},"20":{"start":{"line":11,"column":287},"end":{"line":11,"column":345}},"21":{"start":{"line":11,"column":350},"end":{"line":11,"column":559}},"22":{"start":{"line":11,"column":407},"end":{"line":11,"column":475}},"23":{"start":{"line":11,"column":423},"end":{"line":11,"column":475}},"24":{"start":{"line":11,"column":476},"end":{"line":11,"column":536}},"25":{"start":{"line":11,"column":493},"end":{"line":11,"column":536}},"26":{"start":{"line":11,"column":537},"end":{"line":11,"column":556}},"27":{"start":{"line":13,"column":18},"end":{"line":13,"column":39}},"28":{"start":{"line":15,"column":19},"end":{"line":15,"column":54}},"29":{"start":{"line":17,"column":16},"end":{"line":17,"column":35}},"30":{"start":{"line":19,"column":17},"end":{"line":19,"column":50}},"31":{"start":{"line":21,"column":15},"end":{"line":21,"column":35}},"32":{"start":{"line":23,"column":16},"end":{"line":23,"column":48}},"33":{"start":{"line":25,"column":17},"end":{"line":25,"column":39}},"34":{"start":{"line":27,"column":18},"end":{"line":27,"column":52}},"35":{"start":{"line":29,"column":39},"end":{"line":29,"column":93}},"36":{"start":{"line":31,"column":35},"end":{"line":31,"column":193}},"37":{"start":{"line":31,"column":61},"end":{"line":31,"column":145}},"38":{"start":{"line":31,"column":74},"end":{"line":31,"column":75}},"39":{"start":{"line":31,"column":84},"end":{"line":31,"column":101}},"40":{"start":{"line":31,"column":126},"end":{"line":31,"column":143}},"41":{"start":{"line":31,"column":146},"end":{"line":31,"column":158}},"42":{"start":{"line":31,"column":168},"end":{"line":31,"column":191}},"43":{"start":{"line":33,"column":50},"end":{"line":33,"column":151}},"44":{"start":{"line":33,"column":92},"end":{"line":33,"column":149}},"45":{"start":{"line":35,"column":14},"end":{"line":35,"column":37}},"46":{"start":{"line":37,"column":20},"end":{"line":156,"column":3}},"47":{"start":{"line":39,"column":4},"end":{"line":39,"column":41}},"48":{"start":{"line":41,"column":4},"end":{"line":41,"column":32}},"49":{"start":{"line":42,"column":4},"end":{"line":42,"column":19}},"50":{"start":{"line":43,"column":4},"end":{"line":43,"column":21}},"51":{"start":{"line":44,"column":4},"end":{"line":50,"column":5}},"52":{"start":{"line":45,"column":6},"end":{"line":45,"column":99}},"53":{"start":{"line":48,"column":6},"end":{"line":48,"column":58}},"54":{"start":{"line":49,"column":6},"end":{"line":49,"column":60}},"55":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"56":{"start":{"line":53,"column":6},"end":{"line":53,"column":95}},"57":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"58":{"start":{"line":56,"column":6},"end":{"line":56,"column":101}},"59":{"start":{"line":60,"column":2},"end":{"line":153,"column":6}},"60":{"start":{"line":63,"column":6},"end":{"line":65,"column":7}},"61":{"start":{"line":64,"column":8},"end":{"line":64,"column":88}},"62":{"start":{"line":64,"column":61},"end":{"line":64,"column":88}},"63":{"start":{"line":70,"column":6},"end":{"line":70,"column":71}},"64":{"start":{"line":70,"column":38},"end":{"line":70,"column":71}},"65":{"start":{"line":75,"column":6},"end":{"line":77,"column":7}},"66":{"start":{"line":76,"column":8},"end":{"line":76,"column":35}},"67":{"start":{"line":78,"column":6},"end":{"line":78,"column":41}},"68":{"start":{"line":83,"column":6},"end":{"line":85,"column":7}},"69":{"start":{"line":84,"column":8},"end":{"line":84,"column":48}},"70":{"start":{"line":89,"column":6},"end":{"line":92,"column":7}},"71":{"start":{"line":90,"column":8},"end":{"line":90,"column":42}},"72":{"start":{"line":91,"column":8},"end":{"line":91,"column":42}},"73":{"start":{"line":94,"column":6},"end":{"line":100,"column":7}},"74":{"start":{"line":95,"column":8},"end":{"line":95,"column":42}},"75":{"start":{"line":96,"column":8},"end":{"line":98,"column":10}},"76":{"start":{"line":99,"column":8},"end":{"line":99,"column":41}},"77":{"start":{"line":102,"column":6},"end":{"line":106,"column":7}},"78":{"start":{"line":103,"column":8},"end":{"line":103,"column":42}},"79":{"start":{"line":104,"column":8},"end":{"line":104,"column":85}},"80":{"start":{"line":105,"column":8},"end":{"line":105,"column":31}},"81":{"start":{"line":107,"column":6},"end":{"line":107,"column":18}},"82":{"start":{"line":113,"column":6},"end":{"line":113,"column":30}},"83":{"start":{"line":114,"column":6},"end":{"line":117,"column":7}},"84":{"start":{"line":115,"column":8},"end":{"line":115,"column":51}},"85":{"start":{"line":116,"column":8},"end":{"line":116,"column":37}},"86":{"start":{"line":118,"column":6},"end":{"line":118,"column":59}},"87":{"start":{"line":119,"column":6},"end":{"line":121,"column":7}},"88":{"start":{"line":120,"column":8},"end":{"line":120,"column":72}},"89":{"start":{"line":122,"column":6},"end":{"line":122,"column":49}},"90":{"start":{"line":124,"column":17},"end":{"line":124,"column":21}},"91":{"start":{"line":125,"column":6},"end":{"line":151,"column":9}},"92":{"start":{"line":126,"column":22},"end":{"line":126,"column":79}},"93":{"start":{"line":128,"column":8},"end":{"line":130,"column":9}},"94":{"start":{"line":129,"column":10},"end":{"line":129,"column":53}},"95":{"start":{"line":131,"column":8},"end":{"line":131,"column":58}},"96":{"start":{"line":132,"column":18},"end":{"line":132,"column":47}},"97":{"start":{"line":134,"column":23},"end":{"line":134,"column":50}},"98":{"start":{"line":135,"column":28},"end":{"line":135,"column":75}},"99":{"start":{"line":136,"column":25},"end":{"line":136,"column":123}},"100":{"start":{"line":139,"column":8},"end":{"line":141,"column":9}},"101":{"start":{"line":140,"column":10},"end":{"line":140,"column":55}},"102":{"start":{"line":142,"column":8},"end":{"line":150,"column":11}},"103":{"start":{"line":143,"column":10},"end":{"line":149,"column":11}},"104":{"start":{"line":145,"column":12},"end":{"line":145,"column":31}},"105":{"start":{"line":146,"column":12},"end":{"line":146,"column":24}},"106":{"start":{"line":147,"column":17},"end":{"line":149,"column":11}},"107":{"start":{"line":148,"column":12},"end":{"line":148,"column":42}},"108":{"start":{"line":155,"column":2},"end":{"line":155,"column":23}},"109":{"start":{"line":158,"column":0},"end":{"line":158,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":32},"end":{"line":7,"column":33}},"loc":{"start":{"line":7,"column":50},"end":{"line":7,"column":256}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":84},"end":{"line":9,"column":85}},"loc":{"start":{"line":9,"column":99},"end":{"line":9,"column":121}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":124},"end":{"line":9,"column":125}},"loc":{"start":{"line":9,"column":139},"end":{"line":9,"column":268}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":11,"column":19},"end":{"line":11,"column":20}},"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":561}},"line":11},"4":{"name":"defineProperties","decl":{"start":{"line":11,"column":42},"end":{"line":11,"column":58}},"loc":{"start":{"line":11,"column":74},"end":{"line":11,"column":349}},"line":11},"5":{"name":"(anonymous_5)","decl":{"start":{"line":11,"column":357},"end":{"line":11,"column":358}},"loc":{"start":{"line":11,"column":405},"end":{"line":11,"column":558}},"line":11},"6":{"name":"_interopRequireDefault","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":31}},"loc":{"start":{"line":29,"column":37},"end":{"line":29,"column":95}},"line":29},"7":{"name":"_toConsumableArray","decl":{"start":{"line":31,"column":9},"end":{"line":31,"column":27}},"loc":{"start":{"line":31,"column":33},"end":{"line":31,"column":195}},"line":31},"8":{"name":"_classCallCheck","decl":{"start":{"line":33,"column":9},"end":{"line":33,"column":24}},"loc":{"start":{"line":33,"column":48},"end":{"line":33,"column":153}},"line":33},"9":{"name":"(anonymous_9)","decl":{"start":{"line":37,"column":20},"end":{"line":37,"column":21}},"loc":{"start":{"line":37,"column":32},"end":{"line":156,"column":1}},"line":37},"10":{"name":"OrsDirections","decl":{"start":{"line":38,"column":11},"end":{"line":38,"column":24}},"loc":{"start":{"line":38,"column":31},"end":{"line":58,"column":3}},"line":38},"11":{"name":"clear","decl":{"start":{"line":62,"column":20},"end":{"line":62,"column":25}},"loc":{"start":{"line":62,"column":28},"end":{"line":66,"column":5}},"line":62},"12":{"name":"clearPoints","decl":{"start":{"line":69,"column":20},"end":{"line":69,"column":31}},"loc":{"start":{"line":69,"column":34},"end":{"line":71,"column":5}},"line":69},"13":{"name":"addWaypoint","decl":{"start":{"line":74,"column":20},"end":{"line":74,"column":31}},"loc":{"start":{"line":74,"column":40},"end":{"line":79,"column":5}},"line":74},"14":{"name":"getBody","decl":{"start":{"line":82,"column":20},"end":{"line":82,"column":27}},"loc":{"start":{"line":82,"column":34},"end":{"line":108,"column":5}},"line":82},"15":{"name":"calculate","decl":{"start":{"line":111,"column":20},"end":{"line":111,"column":29}},"loc":{"start":{"line":111,"column":39},"end":{"line":152,"column":5}},"line":111},"16":{"name":"(anonymous_16)","decl":{"start":{"line":125,"column":36},"end":{"line":125,"column":37}},"loc":{"start":{"line":125,"column":63},"end":{"line":151,"column":7}},"line":125},"17":{"name":"(anonymous_17)","decl":{"start":{"line":142,"column":23},"end":{"line":142,"column":24}},"loc":{"start":{"line":142,"column":43},"end":{"line":150,"column":9}},"line":142}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":256}},"type":"binary-expr","locations":[{"start":{"line":7,"column":15},"end":{"line":7,"column":28}},{"start":{"line":7,"column":32},"end":{"line":7,"column":256}}],"line":7},"1":{"loc":{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},"type":"if","locations":[{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},{"start":{"line":7,"column":150},"end":{"line":7,"column":235}}],"line":7},"2":{"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":268}},"type":"cond-expr","locations":[{"start":{"line":9,"column":84},"end":{"line":9,"column":121}},{"start":{"line":9,"column":124},"end":{"line":9,"column":268}}],"line":9},"3":{"loc":{"start":{"line":9,"column":14},"end":{"line":9,"column":81}},"type":"binary-expr","locations":[{"start":{"line":9,"column":14},"end":{"line":9,"column":42}},{"start":{"line":9,"column":46},"end":{"line":9,"column":81}}],"line":9},"4":{"loc":{"start":{"line":9,"column":148},"end":{"line":9,"column":265}},"type":"cond-expr","locations":[{"start":{"line":9,"column":244},"end":{"line":9,"column":252}},{"start":{"line":9,"column":255},"end":{"line":9,"column":265}}],"line":9},"5":{"loc":{"start":{"line":9,"column":148},"end":{"line":9,"column":241}},"type":"binary-expr","locations":[{"start":{"line":9,"column":148},"end":{"line":9,"column":151}},{"start":{"line":9,"column":155},"end":{"line":9,"column":183}},{"start":{"line":9,"column":187},"end":{"line":9,"column":213}},{"start":{"line":9,"column":217},"end":{"line":9,"column":241}}],"line":9},"6":{"loc":{"start":{"line":11,"column":168},"end":{"line":11,"column":198}},"type":"binary-expr","locations":[{"start":{"line":11,"column":168},"end":{"line":11,"column":189}},{"start":{"line":11,"column":193},"end":{"line":11,"column":198}}],"line":11},"7":{"loc":{"start":{"line":11,"column":232},"end":{"line":11,"column":286}},"type":"if","locations":[{"start":{"line":11,"column":232},"end":{"line":11,"column":286}},{"start":{"line":11,"column":232},"end":{"line":11,"column":286}}],"line":11},"8":{"loc":{"start":{"line":11,"column":407},"end":{"line":11,"column":475}},"type":"if","locations":[{"start":{"line":11,"column":407},"end":{"line":11,"column":475}},{"start":{"line":11,"column":407},"end":{"line":11,"column":475}}],"line":11},"9":{"loc":{"start":{"line":11,"column":476},"end":{"line":11,"column":536}},"type":"if","locations":[{"start":{"line":11,"column":476},"end":{"line":11,"column":536}},{"start":{"line":11,"column":476},"end":{"line":11,"column":536}}],"line":11},"10":{"loc":{"start":{"line":29,"column":46},"end":{"line":29,"column":92}},"type":"cond-expr","locations":[{"start":{"line":29,"column":70},"end":{"line":29,"column":73}},{"start":{"line":29,"column":76},"end":{"line":29,"column":92}}],"line":29},"11":{"loc":{"start":{"line":29,"column":46},"end":{"line":29,"column":67}},"type":"binary-expr","locations":[{"start":{"line":29,"column":46},"end":{"line":29,"column":49}},{"start":{"line":29,"column":53},"end":{"line":29,"column":67}}],"line":29},"12":{"loc":{"start":{"line":31,"column":35},"end":{"line":31,"column":193}},"type":"if","locations":[{"start":{"line":31,"column":35},"end":{"line":31,"column":193}},{"start":{"line":31,"column":35},"end":{"line":31,"column":193}}],"line":31},"13":{"loc":{"start":{"line":33,"column":50},"end":{"line":33,"column":151}},"type":"if","locations":[{"start":{"line":33,"column":50},"end":{"line":33,"column":151}},{"start":{"line":33,"column":50},"end":{"line":33,"column":151}}],"line":33},"14":{"loc":{"start":{"line":44,"column":4},"end":{"line":50,"column":5}},"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":50,"column":5}},{"start":{"line":44,"column":4},"end":{"line":50,"column":5}}],"line":44},"15":{"loc":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},{"start":{"line":52,"column":4},"end":{"line":54,"column":5}}],"line":52},"16":{"loc":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},{"start":{"line":55,"column":4},"end":{"line":57,"column":5}}],"line":55},"17":{"loc":{"start":{"line":64,"column":8},"end":{"line":64,"column":88}},"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":88}},{"start":{"line":64,"column":8},"end":{"line":64,"column":88}}],"line":64},"18":{"loc":{"start":{"line":70,"column":6},"end":{"line":70,"column":71}},"type":"if","locations":[{"start":{"line":70,"column":6},"end":{"line":70,"column":71}},{"start":{"line":70,"column":6},"end":{"line":70,"column":71}}],"line":70},"19":{"loc":{"start":{"line":75,"column":6},"end":{"line":77,"column":7}},"type":"if","locations":[{"start":{"line":75,"column":6},"end":{"line":77,"column":7}},{"start":{"line":75,"column":6},"end":{"line":77,"column":7}}],"line":75},"20":{"loc":{"start":{"line":83,"column":6},"end":{"line":85,"column":7}},"type":"if","locations":[{"start":{"line":83,"column":6},"end":{"line":85,"column":7}},{"start":{"line":83,"column":6},"end":{"line":85,"column":7}}],"line":83},"21":{"loc":{"start":{"line":83,"column":10},"end":{"line":83,"column":60}},"type":"binary-expr","locations":[{"start":{"line":83,"column":10},"end":{"line":83,"column":22}},{"start":{"line":83,"column":26},"end":{"line":83,"column":60}}],"line":83},"22":{"loc":{"start":{"line":89,"column":6},"end":{"line":92,"column":7}},"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":92,"column":7}},{"start":{"line":89,"column":6},"end":{"line":92,"column":7}}],"line":89},"23":{"loc":{"start":{"line":89,"column":10},"end":{"line":89,"column":107}},"type":"binary-expr","locations":[{"start":{"line":89,"column":10},"end":{"line":89,"column":19}},{"start":{"line":89,"column":23},"end":{"line":89,"column":58}},{"start":{"line":89,"column":63},"end":{"line":89,"column":76}},{"start":{"line":89,"column":80},"end":{"line":89,"column":106}}],"line":89},"24":{"loc":{"start":{"line":90,"column":23},"end":{"line":90,"column":41}},"type":"binary-expr","locations":[{"start":{"line":90,"column":23},"end":{"line":90,"column":35}},{"start":{"line":90,"column":39},"end":{"line":90,"column":41}}],"line":90},"25":{"loc":{"start":{"line":94,"column":6},"end":{"line":100,"column":7}},"type":"if","locations":[{"start":{"line":94,"column":6},"end":{"line":100,"column":7}},{"start":{"line":94,"column":6},"end":{"line":100,"column":7}}],"line":94},"26":{"loc":{"start":{"line":95,"column":23},"end":{"line":95,"column":41}},"type":"binary-expr","locations":[{"start":{"line":95,"column":23},"end":{"line":95,"column":35}},{"start":{"line":95,"column":39},"end":{"line":95,"column":41}}],"line":95},"27":{"loc":{"start":{"line":102,"column":6},"end":{"line":106,"column":7}},"type":"if","locations":[{"start":{"line":102,"column":6},"end":{"line":106,"column":7}},{"start":{"line":102,"column":6},"end":{"line":106,"column":7}}],"line":102},"28":{"loc":{"start":{"line":103,"column":23},"end":{"line":103,"column":41}},"type":"binary-expr","locations":[{"start":{"line":103,"column":23},"end":{"line":103,"column":35}},{"start":{"line":103,"column":39},"end":{"line":103,"column":41}}],"line":103},"29":{"loc":{"start":{"line":114,"column":6},"end":{"line":117,"column":7}},"type":"if","locations":[{"start":{"line":114,"column":6},"end":{"line":117,"column":7}},{"start":{"line":114,"column":6},"end":{"line":117,"column":7}}],"line":114},"30":{"loc":{"start":{"line":119,"column":6},"end":{"line":121,"column":7}},"type":"if","locations":[{"start":{"line":119,"column":6},"end":{"line":121,"column":7}},{"start":{"line":119,"column":6},"end":{"line":121,"column":7}}],"line":119},"31":{"loc":{"start":{"line":126,"column":22},"end":{"line":126,"column":79}},"type":"binary-expr","locations":[{"start":{"line":126,"column":22},"end":{"line":126,"column":70}},{"start":{"line":126,"column":74},"end":{"line":126,"column":79}}],"line":126},"32":{"loc":{"start":{"line":128,"column":8},"end":{"line":130,"column":9}},"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":130,"column":9}},{"start":{"line":128,"column":8},"end":{"line":130,"column":9}}],"line":128},"33":{"loc":{"start":{"line":143,"column":10},"end":{"line":149,"column":11}},"type":"if","locations":[{"start":{"line":143,"column":10},"end":{"line":149,"column":11}},{"start":{"line":143,"column":10},"end":{"line":149,"column":11}}],"line":143},"34":{"loc":{"start":{"line":143,"column":14},"end":{"line":143,"column":28}},"type":"binary-expr","locations":[{"start":{"line":143,"column":14},"end":{"line":143,"column":17}},{"start":{"line":143,"column":21},"end":{"line":143,"column":28}}],"line":143},"35":{"loc":{"start":{"line":147,"column":17},"end":{"line":149,"column":11}},"type":"if","locations":[{"start":{"line":147,"column":17},"end":{"line":149,"column":11}},{"start":{"line":147,"column":17},"end":{"line":149,"column":11}}],"line":147},"36":{"loc":{"start":{"line":148,"column":20},"end":{"line":148,"column":40}},"type":"binary-expr","locations":[{"start":{"line":148,"column":20},"end":{"line":148,"column":28}},{"start":{"line":148,"column":32},"end":{"line":148,"column":40}}],"line":148}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1,"13":1,"14":1,"15":5,"16":5,"17":5,"18":5,"19":5,"20":5,"21":1,"22":1,"23":1,"24":1,"25":0,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":4,"36":1,"37":1,"38":1,"39":1,"40":3,"41":1,"42":0,"43":3,"44":0,"45":1,"46":1,"47":3,"48":3,"49":3,"50":3,"51":3,"52":2,"53":1,"54":1,"55":2,"56":1,"57":2,"58":1,"59":1,"60":1,"61":1,"62":1,"63":2,"64":0,"65":6,"66":3,"67":6,"68":4,"69":0,"70":4,"71":0,"72":0,"73":4,"74":0,"75":0,"76":0,"77":4,"78":1,"79":1,"80":1,"81":4,"82":4,"83":4,"84":0,"85":0,"86":4,"87":4,"88":3,"89":4,"90":4,"91":4,"92":4,"93":4,"94":2,"95":4,"96":4,"97":4,"98":4,"99":4,"100":4,"101":0,"102":4,"103":4,"104":0,"105":0,"106":4,"107":4,"108":1,"109":1},"f":{"0":0,"1":0,"2":0,"3":1,"4":1,"5":1,"6":4,"7":1,"8":3,"9":1,"10":3,"11":1,"12":2,"13":6,"14":4,"15":4,"16":4,"17":4},"b":{"0":[1,0],"1":[0,0],"2":[1,0],"3":[1,1],"4":[0,0],"5":[0,0,0,0],"6":[5,5],"7":[5,0],"8":[1,0],"9":[0,1],"10":[2,2],"11":[4,4],"12":[1,0],"13":[0,3],"14":[2,1],"15":[1,1],"16":[1,1],"17":[1,0],"18":[0,2],"19":[3,3],"20":[0,4],"21":[4,0],"22":[0,4],"23":[4,4,0,0],"24":[0,0],"25":[0,4],"26":[0,0],"27":[1,3],"28":[1,1],"29":[0,4],"30":[3,1],"31":[4,4],"32":[2,2],"33":[0,4],"34":[4,4],"35":[4,0],"36":[4,0]},"inputSourceMap":{"version":3,"sources":["OrsDirections.js"],"names":["orsUtil","OrsUtil","OrsDirections","args","requestSettings","meta","Constants","propNames","apiKey","console","error","missingAPIKeyMsg","Error","host","service","variable","apiKeyPropName","coordinates","length","latlon","push","options","JSON","parse","profile","vehicle_type","restrictions","profile_params","avoidables","avoid_features","reqArgs","customHeaders","setRequestDefaults","copyProperties","that","Promise","resolve","reject","timeout","prepareMeta","httpArgs","prepareRequest","url","prepareUrl","postBody","getBody","authorization","orsRequest","request","post","send","set","key","end","err","res","ok","body","text"],"mappings":";;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AAEA,IAAMA,UAAU,IAAIC,iBAAJ,EAAhB;;IAEMC,a;AACJ,yBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,eAAL,GAAuB,IAAvB;AACA,SAAKD,IAAL,GAAY,EAAZ;AACA,SAAKE,IAAL,GAAY,IAAZ;AACA,QAAIC,oBAAUC,SAAV,CAAoBC,MAApB,IAA8BL,IAAlC,EAAwC;AACtC,WAAKA,IAAL,CAAUG,oBAAUC,SAAV,CAAoBC,MAA9B,IAAwCL,KAAKG,oBAAUC,SAAV,CAAoBC,MAAzB,CAAxC;AACD,KAFD,MAEO;AACL;AACAC,cAAQC,KAAR,CAAcJ,oBAAUK,gBAAxB;AACA,YAAM,IAAIC,KAAJ,CAAUN,oBAAUK,gBAApB,CAAN;AACD;;AAED,QAAIL,oBAAUC,SAAV,CAAoBM,IAApB,IAA4BV,IAAhC,EAAsC;AACpC,WAAKA,IAAL,CAAUG,oBAAUC,SAAV,CAAoBM,IAA9B,IAAsCV,KAAKG,oBAAUC,SAAV,CAAoBM,IAAzB,CAAtC;AACD;AACD,QAAIP,oBAAUC,SAAV,CAAoBO,OAApB,IAA+BX,IAAnC,EAAyC;AACvC,WAAKA,IAAL,CAAUG,oBAAUC,SAAV,CAAoBO,OAA9B,IAAyCX,KAAKG,oBAAUC,SAAV,CAAoBO,OAAzB,CAAzC;AACD;AACF;;;;4BAEO;AACN,WAAK,IAAIC,QAAT,IAAqB,KAAKZ,IAA1B,EAAgC;AAC9B,YAAIY,aAAaT,oBAAUU,cAA3B,EAA2C,OAAO,KAAKb,IAAL,CAAUY,QAAV,CAAP;AAC5C;AACF;;;kCAEa;AACZ,UAAI,iBAAiB,KAAKZ,IAA1B,EAAgC,KAAKA,IAAL,CAAUc,WAAV,CAAsBC,MAAtB,GAA+B,CAA/B;AACjC;;;gCAEWC,M,EAAQ;AAClB,UAAI,EAAE,iBAAiB,KAAKhB,IAAxB,CAAJ,EAAmC;AACjC,aAAKA,IAAL,CAAUc,WAAV,GAAwB,EAAxB;AACD;AACD,WAAKd,IAAL,CAAUc,WAAV,CAAsBG,IAAtB,CAA2BD,MAA3B;AACD;;;4BAEOhB,I,EAAM;AACZ,UAAIA,KAAKkB,OAAL,IAAgB,QAAOlB,KAAKkB,OAAZ,MAAwB,QAA5C,EAAsD;AACpDlB,aAAKkB,OAAL,GAAeC,KAAKC,KAAL,CAAWpB,KAAKkB,OAAhB,CAAf;AACD;;AAED;AACA;AACA,UAAI,KAAKhB,IAAL,IAAa,KAAKA,IAAL,CAAUmB,OAAV,KAAsB,aAAnC,KAAqD,CAACrB,KAAKkB,OAAN,IAAiB,CAAClB,KAAKkB,OAAL,CAAaI,YAApF,CAAJ,EAAuG;AACrGtB,aAAKkB,OAAL,GAAelB,KAAKkB,OAAL,IAAgB,EAA/B;AACAlB,aAAKkB,OAAL,CAAaI,YAAb,GAA4B,KAA5B;AACD;;AAED,UAAItB,KAAKuB,YAAT,EAAuB;AACrBvB,aAAKkB,OAAL,GAAelB,KAAKkB,OAAL,IAAgB,EAA/B;AACAlB,aAAKkB,OAAL,CAAaM,cAAb,GAA8B;AAC5BD,qCAAmBvB,KAAKuB,YAAxB;AAD4B,SAA9B;AAGA,eAAOvB,KAAKkB,OAAL,CAAaK,YAApB;AACD;;AAED,UAAIvB,KAAKyB,UAAT,EAAqB;AACnBzB,aAAKkB,OAAL,GAAelB,KAAKkB,OAAL,IAAgB,EAA/B;AACAlB,aAAKkB,OAAL,CAAaQ,cAAb,gCAAkC1B,KAAKyB,UAAvC;AACA,eAAOzB,KAAKyB,UAAZ;AACD;AACD,aAAOzB,IAAP;AACD;;;8BAES2B,O,EAAS;AACjB;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA,UAAID,QAAQC,aAAZ,EAA2B;AACzB,aAAKA,aAAL,GAAqBD,QAAQC,aAA7B;AACA,eAAOD,QAAQC,aAAf;AACD;AACD/B,cAAQgC,kBAAR,CAA2B,KAAK7B,IAAhC,EAAsC2B,OAAtC,EAA+C,IAA/C;AACA,UAAI,CAAC,KAAK3B,IAAL,CAAUG,oBAAUC,SAAV,CAAoBO,OAA9B,CAAL,EAA6C;AAC3C,aAAKX,IAAL,CAAUG,oBAAUC,SAAV,CAAoBO,OAA9B,IAAyC,YAAzC;AACD;AACDd,cAAQiC,cAAR,CAAuBH,OAAvB,EAAgC,KAAK3B,IAArC;;AAEA,UAAM+B,OAAO,IAAb;AACA,aAAO,IAAIC,kBAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,YAAMC,UAAUJ,KAAK/B,IAAL,CAAUG,oBAAUC,SAAV,CAAoB+B,OAA9B,KAA0C,KAA1D;AACA;AACA,YAAIJ,KAAK7B,IAAL,IAAa,IAAjB,EAAuB;AACrB6B,eAAK7B,IAAL,GAAYL,QAAQuC,WAAR,CAAoBL,KAAK/B,IAAzB,CAAZ;AACD;AACD+B,aAAKM,QAAL,GAAgBxC,QAAQyC,cAAR,CAAuBP,KAAK/B,IAA5B,CAAhB;AACA,YAAIuC,MAAM1C,QAAQ2C,UAAR,CAAmBT,KAAK7B,IAAxB,CAAV;;AAEA,YAAMuC,WAAWV,KAAKW,OAAL,CAAaX,KAAKM,QAAlB,CAAjB;AACA,YAAIM,gBAAgBZ,KAAK7B,IAAL,CAAUC,oBAAUC,SAAV,CAAoBC,MAA9B,CAApB;AACA,YAAIuC,aAAaC,qBACdC,IADc,CACTP,GADS,EAEdQ,IAFc,CAETN,QAFS,EAGdO,GAHc,CAGV,eAHU,EAGOL,aAHP,EAIdR,OAJc,CAINA,OAJM,CAAjB;AAKA;;AAEA,aAAK,IAAIc,GAAT,IAAgBlB,KAAKH,aAArB,EAAoC;AAClCgB,qBAAWI,GAAX,CAAeC,GAAf,EAAoBlB,KAAKH,aAAL,CAAmBqB,GAAnB,CAApB;AACD;AACDL,mBAAWM,GAAX,CAAe,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAChC,cAAID,OAAO,CAACC,IAAIC,EAAhB,EAAoB;AAClB;AACA/C,oBAAQC,KAAR,CAAc4C,GAAd;AACAjB,mBAAOiB,GAAP;AACD,WAJD,MAIO,IAAIC,GAAJ,EAAS;AACdnB,oBAAQmB,IAAIE,IAAJ,IAAYF,IAAIG,IAAxB;AACD;AACF,SARD;AASD,OA9BM,CAAP;AA+BD;;;;;;kBAGYxD,a","file":"OrsDirections.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import request from 'superagent'\nimport Promise from 'bluebird'\nimport OrsUtil from './OrsUtil'\nimport Constants from './constants'\n\nconst orsUtil = new OrsUtil()\n\nclass OrsDirections {\n  constructor(args) {\n    this.requestSettings = null\n    this.args = {}\n    this.meta = null\n    if (Constants.propNames.apiKey in args) {\n      this.args[Constants.propNames.apiKey] = args[Constants.propNames.apiKey]\n    } else {\n      // eslint-disable-next-line no-console\n      console.error(Constants.missingAPIKeyMsg)\n      throw new Error(Constants.missingAPIKeyMsg)\n    }\n\n    if (Constants.propNames.host in args) {\n      this.args[Constants.propNames.host] = args[Constants.propNames.host]\n    }\n    if (Constants.propNames.service in args) {\n      this.args[Constants.propNames.service] = args[Constants.propNames.service]\n    }\n  }\n\n  clear() {\n    for (let variable in this.args) {\n      if (variable !== Constants.apiKeyPropName) delete this.args[variable]\n    }\n  }\n\n  clearPoints() {\n    if ('coordinates' in this.args) this.args.coordinates.length = 0\n  }\n\n  addWaypoint(latlon) {\n    if (!('coordinates' in this.args)) {\n      this.args.coordinates = []\n    }\n    this.args.coordinates.push(latlon)\n  }\n\n  getBody(args) {\n    if (args.options && typeof args.options !== 'object') {\n      args.options = JSON.parse(args.options)\n    }\n\n    // Set the default vehicle type when profile is 'driving-hgv' if it is missing\n    // eslint-disable-next-line prettier/prettier\n    if (this.meta && this.meta.profile === 'driving-hgv' && (!args.options || !args.options.vehicle_type)) {\n      args.options = args.options || {}\n      args.options.vehicle_type = 'hgv'\n    }\n\n    if (args.restrictions) {\n      args.options = args.options || {}\n      args.options.profile_params = {\n        restrictions: { ...args.restrictions }\n      }\n      delete args.options.restrictions\n    }\n\n    if (args.avoidables) {\n      args.options = args.options || {}\n      args.options.avoid_features = [...args.avoidables]\n      delete args.avoidables\n    }\n    return args\n  }\n\n  calculate(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs, true)\n    if (!this.args[Constants.propNames.service]) {\n      this.args[Constants.propNames.service] = 'directions'\n    }\n    orsUtil.copyProperties(reqArgs, this.args)\n\n    const that = this\n    return new Promise(function(resolve, reject) {\n      const timeout = that.args[Constants.propNames.timeout] || 10000\n      // meta should be generated once that subsequent requests work\n      if (that.meta == null) {\n        that.meta = orsUtil.prepareMeta(that.args)\n      }\n      that.httpArgs = orsUtil.prepareRequest(that.args)\n      let url = orsUtil.prepareUrl(that.meta)\n\n      const postBody = that.getBody(that.httpArgs)\n      let authorization = that.meta[Constants.propNames.apiKey]\n      let orsRequest = request\n        .post(url)\n        .send(postBody)\n        .set('Authorization', authorization)\n        .timeout(timeout)\n      // .accept(that.meta.mimeType)\n\n      for (let key in that.customHeaders) {\n        orsRequest.set(key, that.customHeaders[key])\n      }\n      orsRequest.end(function(err, res) {\n        if (err || !res.ok) {\n          // eslint-disable-next-line no-console\n          console.error(err)\n          reject(err)\n        } else if (res) {\n          resolve(res.body || res.text)\n        }\n      })\n    })\n  }\n}\n\nexport default OrsDirections\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"46387d20d1e8e9162a5526676a110a2d3b8fae8a","contentHash":"e8d13dbb2c56bb0440c2c8a40a8d185b15a458d00f9c3fecdbc11d90ac83b4f3"},"/home/amon/apps/openrouteservice-js/src/OrsUtil.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsUtil.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":256}},"2":{"start":{"line":7,"column":52},"end":{"line":7,"column":239}},"3":{"start":{"line":7,"column":65},"end":{"line":7,"column":66}},"4":{"start":{"line":7,"column":110},"end":{"line":7,"column":122}},"5":{"start":{"line":7,"column":124},"end":{"line":7,"column":237}},"6":{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},"7":{"start":{"line":7,"column":207},"end":{"line":7,"column":233}},"8":{"start":{"line":7,"column":240},"end":{"line":7,"column":254}},"9":{"start":{"line":9,"column":19},"end":{"line":9,"column":563}},"10":{"start":{"line":9,"column":76},"end":{"line":9,"column":347}},"11":{"start":{"line":9,"column":89},"end":{"line":9,"column":90}},"12":{"start":{"line":9,"column":134},"end":{"line":9,"column":142}},"13":{"start":{"line":9,"column":144},"end":{"line":9,"column":199}},"14":{"start":{"line":9,"column":200},"end":{"line":9,"column":231}},"15":{"start":{"line":9,"column":232},"end":{"line":9,"column":286}},"16":{"start":{"line":9,"column":259},"end":{"line":9,"column":286}},"17":{"start":{"line":9,"column":287},"end":{"line":9,"column":345}},"18":{"start":{"line":9,"column":350},"end":{"line":9,"column":559}},"19":{"start":{"line":9,"column":407},"end":{"line":9,"column":475}},"20":{"start":{"line":9,"column":423},"end":{"line":9,"column":475}},"21":{"start":{"line":9,"column":476},"end":{"line":9,"column":536}},"22":{"start":{"line":9,"column":493},"end":{"line":9,"column":536}},"23":{"start":{"line":9,"column":537},"end":{"line":9,"column":556}},"24":{"start":{"line":11,"column":17},"end":{"line":11,"column":39}},"25":{"start":{"line":13,"column":18},"end":{"line":13,"column":52}},"26":{"start":{"line":15,"column":39},"end":{"line":15,"column":93}},"27":{"start":{"line":17,"column":50},"end":{"line":17,"column":151}},"28":{"start":{"line":17,"column":92},"end":{"line":17,"column":149}},"29":{"start":{"line":19,"column":14},"end":{"line":148,"column":3}},"30":{"start":{"line":21,"column":4},"end":{"line":21,"column":35}},"31":{"start":{"line":24,"column":2},"end":{"line":145,"column":6}},"32":{"start":{"line":27,"column":6},"end":{"line":27,"column":33}},"33":{"start":{"line":27,"column":17},"end":{"line":27,"column":33}},"34":{"start":{"line":29,"column":6},"end":{"line":34,"column":7}},"35":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"36":{"start":{"line":32,"column":10},"end":{"line":32,"column":38}},"37":{"start":{"line":35,"column":6},"end":{"line":35,"column":22}},"38":{"start":{"line":40,"column":6},"end":{"line":48,"column":8}},"39":{"start":{"line":53,"column":6},"end":{"line":53,"column":58}},"40":{"start":{"line":54,"column":6},"end":{"line":54,"column":54}},"41":{"start":{"line":55,"column":6},"end":{"line":55,"column":60}},"42":{"start":{"line":56,"column":6},"end":{"line":56,"column":57}},"43":{"start":{"line":57,"column":6},"end":{"line":57,"column":56}},"44":{"start":{"line":58,"column":6},"end":{"line":58,"column":57}},"45":{"start":{"line":59,"column":6},"end":{"line":59,"column":56}},"46":{"start":{"line":60,"column":6},"end":{"line":60,"column":57}},"47":{"start":{"line":61,"column":6},"end":{"line":61,"column":32}},"48":{"start":{"line":72,"column":16},"end":{"line":72,"column":18}},"49":{"start":{"line":75,"column":25},"end":{"line":75,"column":27}},"50":{"start":{"line":81,"column":6},"end":{"line":88,"column":7}},"51":{"start":{"line":82,"column":8},"end":{"line":82,"column":58}},"52":{"start":{"line":83,"column":8},"end":{"line":83,"column":113}},"53":{"start":{"line":86,"column":8},"end":{"line":86,"column":55}},"54":{"start":{"line":87,"column":8},"end":{"line":87,"column":206}},"55":{"start":{"line":90,"column":20},"end":{"line":90,"column":23}},"56":{"start":{"line":91,"column":20},"end":{"line":91,"column":21}},"57":{"start":{"line":92,"column":6},"end":{"line":100,"column":7}},"58":{"start":{"line":93,"column":8},"end":{"line":98,"column":9}},"59":{"start":{"line":94,"column":10},"end":{"line":96,"column":11}},"60":{"start":{"line":95,"column":12},"end":{"line":95,"column":27}},"61":{"start":{"line":97,"column":10},"end":{"line":97,"column":39}},"62":{"start":{"line":99,"column":8},"end":{"line":99,"column":18}},"63":{"start":{"line":103,"column":25},"end":{"line":103,"column":54}},"64":{"start":{"line":104,"column":6},"end":{"line":104,"column":26}},"65":{"start":{"line":107,"column":6},"end":{"line":109,"column":7}},"66":{"start":{"line":108,"column":8},"end":{"line":108,"column":31}},"67":{"start":{"line":110,"column":6},"end":{"line":110,"column":17}},"68":{"start":{"line":123,"column":26},"end":{"line":123,"column":99}},"69":{"start":{"line":125,"column":6},"end":{"line":128,"column":7}},"70":{"start":{"line":127,"column":8},"end":{"line":127,"column":113}},"71":{"start":{"line":129,"column":6},"end":{"line":132,"column":7}},"72":{"start":{"line":131,"column":8},"end":{"line":131,"column":107}},"73":{"start":{"line":133,"column":6},"end":{"line":135,"column":7}},"74":{"start":{"line":134,"column":8},"end":{"line":134,"column":91}},"75":{"start":{"line":136,"column":6},"end":{"line":143,"column":7}},"76":{"start":{"line":137,"column":8},"end":{"line":139,"column":9}},"77":{"start":{"line":138,"column":10},"end":{"line":138,"column":74}},"78":{"start":{"line":140,"column":8},"end":{"line":142,"column":9}},"79":{"start":{"line":141,"column":10},"end":{"line":141,"column":74}},"80":{"start":{"line":147,"column":2},"end":{"line":147,"column":17}},"81":{"start":{"line":150,"column":0},"end":{"line":150,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":32},"end":{"line":7,"column":33}},"loc":{"start":{"line":7,"column":50},"end":{"line":7,"column":256}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":19},"end":{"line":9,"column":20}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":561}},"line":9},"2":{"name":"defineProperties","decl":{"start":{"line":9,"column":42},"end":{"line":9,"column":58}},"loc":{"start":{"line":9,"column":74},"end":{"line":9,"column":349}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":357},"end":{"line":9,"column":358}},"loc":{"start":{"line":9,"column":405},"end":{"line":9,"column":558}},"line":9},"4":{"name":"_interopRequireDefault","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":31}},"loc":{"start":{"line":15,"column":37},"end":{"line":15,"column":95}},"line":15},"5":{"name":"_classCallCheck","decl":{"start":{"line":17,"column":9},"end":{"line":17,"column":24}},"loc":{"start":{"line":17,"column":48},"end":{"line":17,"column":153}},"line":17},"6":{"name":"(anonymous_6)","decl":{"start":{"line":19,"column":14},"end":{"line":19,"column":15}},"loc":{"start":{"line":19,"column":26},"end":{"line":148,"column":1}},"line":19},"7":{"name":"OrsUtil","decl":{"start":{"line":20,"column":11},"end":{"line":20,"column":18}},"loc":{"start":{"line":20,"column":21},"end":{"line":22,"column":3}},"line":20},"8":{"name":"copyProperties","decl":{"start":{"line":26,"column":20},"end":{"line":26,"column":34}},"loc":{"start":{"line":26,"column":51},"end":{"line":36,"column":5}},"line":26},"9":{"name":"prepareMeta","decl":{"start":{"line":39,"column":20},"end":{"line":39,"column":31}},"loc":{"start":{"line":39,"column":38},"end":{"line":49,"column":5}},"line":39},"10":{"name":"prepareRequest","decl":{"start":{"line":52,"column":20},"end":{"line":52,"column":34}},"loc":{"start":{"line":52,"column":41},"end":{"line":62,"column":5}},"line":52},"11":{"name":"prepareUrl","decl":{"start":{"line":71,"column":20},"end":{"line":71,"column":30}},"loc":{"start":{"line":71,"column":37},"end":{"line":111,"column":5}},"line":71},"12":{"name":"setRequestDefaults","decl":{"start":{"line":122,"column":20},"end":{"line":122,"column":38}},"loc":{"start":{"line":122,"column":66},"end":{"line":144,"column":5}},"line":122}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":256}},"type":"binary-expr","locations":[{"start":{"line":7,"column":15},"end":{"line":7,"column":28}},{"start":{"line":7,"column":32},"end":{"line":7,"column":256}}],"line":7},"1":{"loc":{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},"type":"if","locations":[{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},{"start":{"line":7,"column":150},"end":{"line":7,"column":235}}],"line":7},"2":{"loc":{"start":{"line":9,"column":168},"end":{"line":9,"column":198}},"type":"binary-expr","locations":[{"start":{"line":9,"column":168},"end":{"line":9,"column":189}},{"start":{"line":9,"column":193},"end":{"line":9,"column":198}}],"line":9},"3":{"loc":{"start":{"line":9,"column":232},"end":{"line":9,"column":286}},"type":"if","locations":[{"start":{"line":9,"column":232},"end":{"line":9,"column":286}},{"start":{"line":9,"column":232},"end":{"line":9,"column":286}}],"line":9},"4":{"loc":{"start":{"line":9,"column":407},"end":{"line":9,"column":475}},"type":"if","locations":[{"start":{"line":9,"column":407},"end":{"line":9,"column":475}},{"start":{"line":9,"column":407},"end":{"line":9,"column":475}}],"line":9},"5":{"loc":{"start":{"line":9,"column":476},"end":{"line":9,"column":536}},"type":"if","locations":[{"start":{"line":9,"column":476},"end":{"line":9,"column":536}},{"start":{"line":9,"column":476},"end":{"line":9,"column":536}}],"line":9},"6":{"loc":{"start":{"line":15,"column":46},"end":{"line":15,"column":92}},"type":"cond-expr","locations":[{"start":{"line":15,"column":70},"end":{"line":15,"column":73}},{"start":{"line":15,"column":76},"end":{"line":15,"column":92}}],"line":15},"7":{"loc":{"start":{"line":15,"column":46},"end":{"line":15,"column":67}},"type":"binary-expr","locations":[{"start":{"line":15,"column":46},"end":{"line":15,"column":49}},{"start":{"line":15,"column":53},"end":{"line":15,"column":67}}],"line":15},"8":{"loc":{"start":{"line":17,"column":50},"end":{"line":17,"column":151}},"type":"if","locations":[{"start":{"line":17,"column":50},"end":{"line":17,"column":151}},{"start":{"line":17,"column":50},"end":{"line":17,"column":151}}],"line":17},"9":{"loc":{"start":{"line":27,"column":6},"end":{"line":27,"column":33}},"type":"if","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":33}},{"start":{"line":27,"column":6},"end":{"line":27,"column":33}}],"line":27},"10":{"loc":{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":33,"column":9}},{"start":{"line":31,"column":8},"end":{"line":33,"column":9}}],"line":31},"11":{"loc":{"start":{"line":31,"column":12},"end":{"line":31,"column":65}},"type":"binary-expr","locations":[{"start":{"line":31,"column":12},"end":{"line":31,"column":37}},{"start":{"line":31,"column":41},"end":{"line":31,"column":65}}],"line":31},"12":{"loc":{"start":{"line":81,"column":6},"end":{"line":88,"column":7}},"type":"if","locations":[{"start":{"line":81,"column":6},"end":{"line":88,"column":7}},{"start":{"line":81,"column":6},"end":{"line":88,"column":7}}],"line":81},"13":{"loc":{"start":{"line":81,"column":10},"end":{"line":81,"column":122}},"type":"binary-expr","locations":[{"start":{"line":81,"column":10},"end":{"line":81,"column":53}},{"start":{"line":81,"column":57},"end":{"line":81,"column":122}}],"line":81},"14":{"loc":{"start":{"line":93,"column":8},"end":{"line":98,"column":9}},"type":"if","locations":[{"start":{"line":93,"column":8},"end":{"line":98,"column":9}},{"start":{"line":93,"column":8},"end":{"line":98,"column":9}}],"line":93},"15":{"loc":{"start":{"line":94,"column":10},"end":{"line":96,"column":11}},"type":"if","locations":[{"start":{"line":94,"column":10},"end":{"line":96,"column":11}},{"start":{"line":94,"column":10},"end":{"line":96,"column":11}}],"line":94},"16":{"loc":{"start":{"line":94,"column":14},"end":{"line":94,"column":36}},"type":"binary-expr","locations":[{"start":{"line":94,"column":14},"end":{"line":94,"column":25}},{"start":{"line":94,"column":29},"end":{"line":94,"column":36}}],"line":94},"17":{"loc":{"start":{"line":107,"column":6},"end":{"line":109,"column":7}},"type":"if","locations":[{"start":{"line":107,"column":6},"end":{"line":109,"column":7}},{"start":{"line":107,"column":6},"end":{"line":109,"column":7}}],"line":107},"18":{"loc":{"start":{"line":123,"column":26},"end":{"line":123,"column":99}},"type":"cond-expr","locations":[{"start":{"line":123,"column":79},"end":{"line":123,"column":91}},{"start":{"line":123,"column":94},"end":{"line":123,"column":99}}],"line":123},"19":{"loc":{"start":{"line":123,"column":26},"end":{"line":123,"column":76}},"type":"binary-expr","locations":[{"start":{"line":123,"column":26},"end":{"line":123,"column":46}},{"start":{"line":123,"column":50},"end":{"line":123,"column":76}}],"line":123},"20":{"loc":{"start":{"line":125,"column":6},"end":{"line":128,"column":7}},"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":128,"column":7}},{"start":{"line":125,"column":6},"end":{"line":128,"column":7}}],"line":125},"21":{"loc":{"start":{"line":129,"column":6},"end":{"line":132,"column":7}},"type":"if","locations":[{"start":{"line":129,"column":6},"end":{"line":132,"column":7}},{"start":{"line":129,"column":6},"end":{"line":132,"column":7}}],"line":129},"22":{"loc":{"start":{"line":133,"column":6},"end":{"line":135,"column":7}},"type":"if","locations":[{"start":{"line":133,"column":6},"end":{"line":135,"column":7}},{"start":{"line":133,"column":6},"end":{"line":135,"column":7}}],"line":133},"23":{"loc":{"start":{"line":136,"column":6},"end":{"line":143,"column":7}},"type":"if","locations":[{"start":{"line":136,"column":6},"end":{"line":143,"column":7}},{"start":{"line":136,"column":6},"end":{"line":143,"column":7}}],"line":136},"24":{"loc":{"start":{"line":137,"column":8},"end":{"line":139,"column":9}},"type":"if","locations":[{"start":{"line":137,"column":8},"end":{"line":139,"column":9}},{"start":{"line":137,"column":8},"end":{"line":139,"column":9}}],"line":137},"25":{"loc":{"start":{"line":140,"column":8},"end":{"line":142,"column":9}},"type":"if","locations":[{"start":{"line":140,"column":8},"end":{"line":142,"column":9}},{"start":{"line":140,"column":8},"end":{"line":142,"column":9}}],"line":140}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":5,"13":5,"14":5,"15":5,"16":5,"17":5,"18":1,"19":1,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":6,"28":0,"29":1,"30":6,"31":1,"32":15,"33":0,"34":15,"35":71,"36":71,"37":15,"38":6,"39":8,"40":8,"41":8,"42":8,"43":8,"44":8,"45":8,"46":8,"47":8,"48":15,"49":15,"50":15,"51":0,"52":0,"53":15,"54":15,"55":15,"56":15,"57":15,"58":60,"59":35,"60":27,"61":35,"62":60,"63":15,"64":15,"65":15,"66":0,"67":15,"68":15,"69":15,"70":0,"71":15,"72":0,"73":15,"74":13,"75":15,"76":8,"77":8,"78":8,"79":0,"80":1,"81":1},"f":{"0":0,"1":1,"2":1,"3":1,"4":1,"5":6,"6":1,"7":6,"8":15,"9":6,"10":8,"11":15,"12":15},"b":{"0":[1,0],"1":[0,0],"2":[5,5],"3":[5,0],"4":[1,0],"5":[0,1],"6":[1,0],"7":[1,1],"8":[0,6],"9":[0,15],"10":[71,0],"11":[71,71],"12":[0,15],"13":[15,15],"14":[35,25],"15":[27,8],"16":[35,27],"17":[0,15],"18":[8,7],"19":[15,8],"20":[0,15],"21":[0,15],"22":[13,2],"23":[8,7],"24":[8,0],"25":[0,8]},"inputSourceMap":{"version":3,"sources":["OrsUtil.js"],"names":["OrsUtil","args","argsInto","prop","hasOwnProperty","undefined","host","Constants","propNames","api_version","apiVersion","profile","format","service","api_key","apiKey","mime_type","mimeType","timeout","url","urlPathParts","indexOf","urlPath","counter","key","cleanUrlPath","replace","slice","instanceArgs","requestArgs","setAPIVersion","defaultHost","defaultAPIVersion"],"mappings":"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","file":"OrsUtil.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import Constants from './constants'\nclass OrsUtil {\n  copyProperties(args, argsInto) {\n    if (!args) return argsInto\n\n    for (var prop in args) {\n      // eslint-disable-next-line no-prototype-builtins\n      if (args.hasOwnProperty(prop) && args[prop] !== undefined) {\n        argsInto[prop] = args[prop]\n      }\n    }\n    return argsInto\n  }\n\n  prepareMeta(args) {\n    return {\n      host: args[Constants.propNames.host],\n      api_version: args[Constants.propNames.apiVersion],\n      profile: args[Constants.propNames.profile],\n      format: args[Constants.propNames.format],\n      service: args[Constants.propNames.service],\n      api_key: args[Constants.propNames.apiKey],\n      mime_type: args[Constants.propNames.mimeType]\n    }\n  }\n\n  prepareRequest(args) {\n    delete args[Constants.propNames.mimeType]\n    delete args[Constants.propNames.host]\n    delete args[Constants.propNames.apiVersion]\n    delete args[Constants.propNames.service]\n    delete args[Constants.propNames.apiKey]\n    delete args[Constants.propNames.profile]\n    delete args[Constants.propNames.format]\n    delete args[Constants.propNames.timeout]\n    return { ...args }\n  }\n\n  /**\n   * Prepare the request url based on url constituents\n   * @param {Objet} args\n   */\n  prepareUrl(args) {\n    let url = ''\n\n    // make path\n    let urlPathParts = []\n\n    // If the service already defines the path\n    // to the request service we have to add\n    // only yhe profile and the format to the url\n    // eslint-disable-next-line prettier/prettier\n    if (args[Constants.propNames.service] && args[Constants.propNames.service].indexOf('http') === 0) {\n      url = args[Constants.propNames.service]\n      urlPathParts = [\n        args[Constants.propNames.profile],\n        args[Constants.propNames.format]\n      ]\n    } else {\n      // if not, build the url from scratch\n      url = args[Constants.propNames.host]\n      urlPathParts = [\n        args[Constants.propNames.apiVersion],\n        args[Constants.propNames.service],\n        args[Constants.propNames.profile],\n        args[Constants.propNames.format]\n      ]\n    }\n\n    let urlPath = '/'\n    let counter = 0\n    for (let key in urlPathParts) {\n      if (urlPathParts[key]) {\n        if (counter > 0 && counter) {\n          urlPath += '/'\n        }\n        urlPath += urlPathParts[key]\n      }\n      counter++\n    }\n\n    // Remove double slashs from path\n    let cleanUrlPath = urlPath.replace(/\\/\\//g, '/')\n    url += cleanUrlPath\n\n    // The end of the url can not be a slash\n    if (url.slice(-1) === '/') {\n      url = url.slice(0, -1)\n    }\n    return url\n  }\n\n  /**\n   * Set defaults for a request comparing and posibly overwritting instance args\n   * @param {Object} instanceArgs\n   * @param {Object} requestArgs\n   * @param {Boolean} setAPIVersion\n   */\n  setRequestDefaults(instanceArgs, requestArgs, setAPIVersion = false) {\n    if (requestArgs[Constants.propNames.service]) {\n      // eslint-disable-next-line prettier/prettier\n      instanceArgs[Constants.propNames.service] = requestArgs[Constants.propNames.service]\n    }\n    if (requestArgs[Constants.propNames.host]) {\n      // eslint-disable-next-line prettier/prettier\n      instanceArgs[Constants.propNames.host] = requestArgs[Constants.propNames.host]\n    }\n    if (!instanceArgs[Constants.propNames.host]) {\n      instanceArgs[Constants.propNames.host] = Constants.defaultHost\n    }\n    if (setAPIVersion === true) {\n      if (!requestArgs[Constants.propNames.apiVersion]) {\n        requestArgs.api_version = Constants.defaultAPIVersion\n      }\n      if (!requestArgs[Constants.propNames.apiVersion]) {\n        requestArgs.api_version = Constants.defaultAPIVersion\n      }\n    }\n  }\n}\n\nexport default OrsUtil\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e88a5430b3f7637b26e0ae94794fd28d6001d6d","contentHash":"defa0c1b7f00cd9d0573dfd1ae8f0c6d6a76cda88225826bd7330539d1e31d2b"},"/home/amon/apps/openrouteservice-js/src/constants.js":{"path":"/home/amon/apps/openrouteservice-js/src/constants.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":16},"end":{"line":24,"column":1}},"2":{"start":{"line":26,"column":0},"end":{"line":26,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["constants.js"],"names":["constants","defaultAPIVersion","defaultHost","apiKeyPropName","hostPropName","missingAPIKeyMsg","useAPIV2Msg","baseUrlConstituents","propNames","apiKey","host","service","apiVersion","mimeType","profile","format","timeout"],"mappings":";;;;;AAAA,IAAMA,YAAY;AAChBC,qBAAmB,IADH;AAEhBC,eAAa,kCAFG;AAGhBC,kBAAgB,SAHA;AAIhBC,gBAAc,MAJE;AAKhBC,oBAAkB,4CALF;AAMhBC,eAAa,uBANG;AAOhBC,uBAAqB,CAAC,MAAD,EAAS,SAAT,EAAoB,aAApB,EAAmC,WAAnC,CAPL;AAQhBC,aAAW;AACTC,YAAQ,SADC;AAETC,UAAM,MAFG;AAGTC,aAAS,SAHA;AAITC,gBAAY,aAJH;AAKTC,cAAU,WALD;AAMTC,aAAS,SANA;AAOTC,YAAQ,QAPC;AAQTC,aAAS;AARA;AARK,CAAlB;;kBAoBehB,S","file":"constants.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["const constants = {\n  defaultAPIVersion: 'v2',\n  defaultHost: 'https://api.openrouteservice.org',\n  apiKeyPropName: 'api_key',\n  hostPropName: 'host',\n  missingAPIKeyMsg: 'Please add your openrouteservice api_key..',\n  useAPIV2Msg: 'Please use ORS API v2',\n  baseUrlConstituents: ['host', 'service', 'api_version', 'mime_type'],\n  propNames: {\n    apiKey: 'api_key',\n    host: 'host',\n    service: 'service',\n    apiVersion: 'api_version',\n    mimeType: 'mime_type',\n    profile: 'profile',\n    format: 'format',\n    timeout: 'timeout'\n  }\n}\n\nexport default constants\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b66a40a6995a36f79b74dbe0a8fbb843cfeae27a","contentHash":"5f8ba5c28692f0d3702dcff79ea87ceeed66a82ae8738a8cda2fa8bf4b13b750"},"/home/amon/apps/openrouteservice-js/src/OrsInput.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsInput.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":50},"end":{"line":9,"column":151}},"17":{"start":{"line":9,"column":92},"end":{"line":9,"column":149}},"18":{"start":{"line":11,"column":15},"end":{"line":32,"column":3}},"19":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"20":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}},"21":{"start":{"line":18,"column":2},"end":{"line":29,"column":6}},"22":{"start":{"line":21,"column":6},"end":{"line":21,"column":51}},"23":{"start":{"line":21,"column":35},"end":{"line":21,"column":51}},"24":{"start":{"line":22,"column":6},"end":{"line":22,"column":53}},"25":{"start":{"line":27,"column":6},"end":{"line":27,"column":54}},"26":{"start":{"line":31,"column":2},"end":{"line":31,"column":18}},"27":{"start":{"line":34,"column":0},"end":{"line":34,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_classCallCheck","decl":{"start":{"line":9,"column":9},"end":{"line":9,"column":24}},"loc":{"start":{"line":9,"column":48},"end":{"line":9,"column":153}},"line":9},"4":{"name":"(anonymous_4)","decl":{"start":{"line":11,"column":15},"end":{"line":11,"column":16}},"loc":{"start":{"line":11,"column":27},"end":{"line":32,"column":1}},"line":11},"5":{"name":"OrsInput","decl":{"start":{"line":12,"column":11},"end":{"line":12,"column":19}},"loc":{"start":{"line":12,"column":35},"end":{"line":16,"column":3}},"line":12},"6":{"name":"round","decl":{"start":{"line":20,"column":20},"end":{"line":20,"column":25}},"loc":{"start":{"line":20,"column":42},"end":{"line":23,"column":5}},"line":20},"7":{"name":"setCoord","decl":{"start":{"line":26,"column":20},"end":{"line":26,"column":28}},"loc":{"start":{"line":26,"column":39},"end":{"line":28,"column":5}},"line":26}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":9,"column":50},"end":{"line":9,"column":151}},"type":"if","locations":[{"start":{"line":9,"column":50},"end":{"line":9,"column":151}},{"start":{"line":9,"column":50},"end":{"line":9,"column":151}}],"line":9},"5":{"loc":{"start":{"line":21,"column":6},"end":{"line":21,"column":51}},"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":51}},{"start":{"line":21,"column":6},"end":{"line":21,"column":51}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":2,"6":2,"7":2,"8":2,"9":2,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":6,"17":0,"18":1,"19":6,"20":6,"21":1,"22":12,"23":12,"24":12,"25":6,"26":1,"27":1},"f":{"0":1,"1":1,"2":1,"3":6,"4":1,"5":6,"6":12,"7":6},"b":{"0":[2,2],"1":[2,0],"2":[1,0],"3":[0,1],"4":[0,6],"5":[12,0]},"inputSourceMap":{"version":3,"sources":["OrsInput.js"],"names":["OrsInput","input","input2","setCoord","val","precision","undefined","Math","round","lat","lng","coord"],"mappings":";;;;;;;;;;IAAMA,Q;AACJ,oBAAYC,KAAZ,EAAmBC,MAAnB,EAA2B;AAAA;;AACzB,SAAKC,QAAL,CAAcF,KAAd,EAAqBC,MAArB;AACD;;;;0BAEKE,G,EAAKC,S,EAAW;AACpB,UAAIA,cAAcC,SAAlB,EAA6BD,YAAY,GAAZ;AAC7B,aAAOE,KAAKC,KAAL,CAAWJ,MAAMC,SAAjB,IAA8BA,SAArC;AACD;;;6BAEQI,G,EAAKC,G,EAAK;AACjB,WAAKC,KAAL,GAAa,CAAC,KAAKH,KAAL,CAAWC,GAAX,CAAD,EAAkB,KAAKD,KAAL,CAAWE,GAAX,CAAlB,CAAb;AACD;;;;;;kBAGYV,Q","file":"OrsInput.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["class OrsInput {\n  constructor(input, input2) {\n    this.setCoord(input, input2)\n  }\n\n  round(val, precision) {\n    if (precision === undefined) precision = 1e6\n    return Math.round(val * precision) / precision\n  }\n\n  setCoord(lat, lng) {\n    this.coord = [this.round(lat), this.round(lng)]\n  }\n}\n\nexport default OrsInput\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3a67091d7dba8a897d111a9080adce518bc752ed","contentHash":"60512efc7e0c7e3ffc43191e6925484eb135b82549d4dd8267f101bfe8496c5c"},"/home/amon/apps/openrouteservice-js/spec/OrsElevationSpec.js":{"path":"/home/amon/apps/openrouteservice-js/spec/OrsElevationSpec.js","statementMap":{"0":{"start":{"line":3,"column":20},"end":{"line":3,"column":50}},"1":{"start":{"line":5,"column":21},"end":{"line":5,"column":58}},"2":{"start":{"line":7,"column":17},"end":{"line":7,"column":44}},"3":{"start":{"line":9,"column":18},"end":{"line":9,"column":52}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":25,"column":3}},"6":{"start":{"line":15,"column":2},"end":{"line":24,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":23,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":19,"column":66}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":39}},"10":{"start":{"line":20,"column":6},"end":{"line":20,"column":13}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":54}},"12":{"start":{"line":27,"column":19},"end":{"line":27,"column":78}},"13":{"start":{"line":29,"column":0},"end":{"line":73,"column":3}},"14":{"start":{"line":30,"column":2},"end":{"line":44,"column":5}},"15":{"start":{"line":31,"column":4},"end":{"line":43,"column":7}},"16":{"start":{"line":35,"column":6},"end":{"line":35,"column":58}},"17":{"start":{"line":36,"column":6},"end":{"line":36,"column":55}},"18":{"start":{"line":37,"column":6},"end":{"line":37,"column":63}},"19":{"start":{"line":38,"column":6},"end":{"line":38,"column":64}},"20":{"start":{"line":39,"column":6},"end":{"line":39,"column":58}},"21":{"start":{"line":40,"column":6},"end":{"line":40,"column":13}},"22":{"start":{"line":42,"column":6},"end":{"line":42,"column":42}},"23":{"start":{"line":46,"column":2},"end":{"line":56,"column":5}},"24":{"start":{"line":47,"column":4},"end":{"line":47,"column":25}},"25":{"start":{"line":48,"column":4},"end":{"line":55,"column":5}},"26":{"start":{"line":49,"column":6},"end":{"line":49,"column":56}},"27":{"start":{"line":50,"column":6},"end":{"line":50,"column":13}},"28":{"start":{"line":53,"column":6},"end":{"line":53,"column":38}},"29":{"start":{"line":54,"column":6},"end":{"line":54,"column":83}},"30":{"start":{"line":58,"column":2},"end":{"line":72,"column":5}},"31":{"start":{"line":59,"column":4},"end":{"line":71,"column":7}},"32":{"start":{"line":63,"column":6},"end":{"line":63,"column":58}},"33":{"start":{"line":64,"column":6},"end":{"line":64,"column":50}},"34":{"start":{"line":65,"column":6},"end":{"line":65,"column":62}},"35":{"start":{"line":66,"column":6},"end":{"line":66,"column":61}},"36":{"start":{"line":67,"column":6},"end":{"line":67,"column":55}},"37":{"start":{"line":68,"column":6},"end":{"line":68,"column":13}},"38":{"start":{"line":70,"column":6},"end":{"line":70,"column":51}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":38},"end":{"line":14,"column":39}},"loc":{"start":{"line":14,"column":50},"end":{"line":25,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":40},"end":{"line":15,"column":41}},"loc":{"start":{"line":15,"column":56},"end":{"line":24,"column":3}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":14}},"loc":{"start":{"line":17,"column":25},"end":{"line":19,"column":7}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":27},"end":{"line":29,"column":28}},"loc":{"start":{"line":29,"column":39},"end":{"line":73,"column":1}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":35},"end":{"line":30,"column":36}},"loc":{"start":{"line":30,"column":51},"end":{"line":44,"column":3}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":34,"column":12},"end":{"line":34,"column":13}},"loc":{"start":{"line":34,"column":28},"end":{"line":41,"column":5}},"line":34},"7":{"name":"(anonymous_7)","decl":{"start":{"line":41,"column":13},"end":{"line":41,"column":14}},"loc":{"start":{"line":41,"column":29},"end":{"line":43,"column":5}},"line":41},"8":{"name":"(anonymous_8)","decl":{"start":{"line":46,"column":29},"end":{"line":46,"column":30}},"loc":{"start":{"line":46,"column":45},"end":{"line":56,"column":3}},"line":46},"9":{"name":"(anonymous_9)","decl":{"start":{"line":58,"column":36},"end":{"line":58,"column":37}},"loc":{"start":{"line":58,"column":52},"end":{"line":72,"column":3}},"line":58},"10":{"name":"(anonymous_10)","decl":{"start":{"line":62,"column":12},"end":{"line":62,"column":13}},"loc":{"start":{"line":62,"column":28},"end":{"line":69,"column":5}},"line":62},"11":{"name":"(anonymous_11)","decl":{"start":{"line":69,"column":13},"end":{"line":69,"column":14}},"loc":{"start":{"line":69,"column":29},"end":{"line":71,"column":5}},"line":69}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":0,"29":0,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":0},"f":{"0":2,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":0},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["OrsElevationSpec.js"],"names":["describe","it","done","expect","OrsElevation","toThrow","Error","Constants","missingAPIKeyMsg","error","fail","orsElevation","api_key","process","env","ORSKEY","lineElevation","format_in","geometry","then","json","coordinates","length","toEqual","type","catch","clear","args","service","toBeUndefined","console","log","orsDirections","pointElevation","response"],"mappings":"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","file":"OrsElevationSpec.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["/* eslint-disable no-undef */\nimport OrsElevation from '../src/OrsElevation'\nimport Constants from '../src/constants'\n\ndescribe('No api key Elevation Test', function() {\n  it('Instantiate with no key results', function(done) {\n    try {\n      expect(function() {\n        new OrsElevation({})\n      }).toThrow(new Error(Constants.missingAPIKeyMsg))\n      done()\n    } catch (error) {\n      done.fail('No api key Elevation Test ' + error)\n    }\n  })\n})\n\nconst orsElevation = new OrsElevation({ api_key: process.env.ORSKEY })\n\ndescribe('Elevation Test', function() {\n  it('Get Line elevation results', function(done) {\n    orsElevation\n      .lineElevation({\n        format_in: 'encodedpolyline',\n        geometry: 'u`rgFswjpAKD'\n      })\n      .then(function(json) {\n        expect(json.geometry.coordinates.length).toEqual(2)\n        expect(json.geometry.type).toEqual('LineString')\n        expect(json.geometry.coordinates[0][0]).toEqual(13.3313)\n        expect(json.geometry.coordinates[0][1]).toEqual(38.10843)\n        expect(json.geometry.coordinates[0][2]).toEqual(72)\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json)\n      })\n  })\n\n  it('Clear Elevation args', function(done) {\n    orsElevation.clear()\n    try {\n      expect(orsElevation.args.service).toBeUndefined()\n      done()\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(orsDirections.args)\n      done.fail(\n        'Should not fail Clear Elevation args Test ' + orsDirections.args\n      )\n    }\n  })\n\n  it('Get Point elevation results', function(done) {\n    new OrsElevation({ api_key: process.env.ORSKEY })\n      .pointElevation({\n        format_in: 'point',\n        geometry: [13.331273, 38.10849]\n      })\n      .then(function(json) {\n        expect(json.geometry.coordinates.length).toEqual(3)\n        expect(json.geometry.type).toEqual('Point')\n        expect(json.geometry.coordinates[0]).toEqual(13.331273)\n        expect(json.geometry.coordinates[1]).toEqual(38.10849)\n        expect(json.geometry.coordinates[2]).toEqual(72)\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json.response)\n      })\n  })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1e978422326b44c59326cef64108a228315ca5a4","contentHash":"28844a005f96d1530e82d0f172a33d8f4fe618ba1ec11b512ab07d1fea9696aa"},"/home/amon/apps/openrouteservice-js/src/OrsElevation.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsElevation.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":18},"end":{"line":9,"column":39}},"17":{"start":{"line":11,"column":19},"end":{"line":11,"column":54}},"18":{"start":{"line":13,"column":16},"end":{"line":13,"column":35}},"19":{"start":{"line":15,"column":17},"end":{"line":15,"column":50}},"20":{"start":{"line":17,"column":15},"end":{"line":17,"column":35}},"21":{"start":{"line":19,"column":16},"end":{"line":19,"column":48}},"22":{"start":{"line":21,"column":17},"end":{"line":21,"column":39}},"23":{"start":{"line":23,"column":18},"end":{"line":23,"column":52}},"24":{"start":{"line":25,"column":39},"end":{"line":25,"column":93}},"25":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"26":{"start":{"line":27,"column":92},"end":{"line":27,"column":149}},"27":{"start":{"line":29,"column":14},"end":{"line":29,"column":37}},"28":{"start":{"line":31,"column":19},"end":{"line":132,"column":3}},"29":{"start":{"line":33,"column":4},"end":{"line":33,"column":40}},"30":{"start":{"line":35,"column":4},"end":{"line":35,"column":19}},"31":{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},"32":{"start":{"line":37,"column":6},"end":{"line":37,"column":99}},"33":{"start":{"line":40,"column":6},"end":{"line":40,"column":58}},"34":{"start":{"line":41,"column":6},"end":{"line":41,"column":60}},"35":{"start":{"line":45,"column":2},"end":{"line":129,"column":6}},"36":{"start":{"line":48,"column":6},"end":{"line":50,"column":7}},"37":{"start":{"line":49,"column":8},"end":{"line":49,"column":90}},"38":{"start":{"line":49,"column":63},"end":{"line":49,"column":90}},"39":{"start":{"line":55,"column":20},"end":{"line":55,"column":22}},"40":{"start":{"line":57,"column":6},"end":{"line":63,"column":7}},"41":{"start":{"line":58,"column":8},"end":{"line":62,"column":9}},"42":{"start":{"line":59,"column":10},"end":{"line":59,"column":19}},"43":{"start":{"line":61,"column":10},"end":{"line":61,"column":35}},"44":{"start":{"line":64,"column":6},"end":{"line":64,"column":21}},"45":{"start":{"line":69,"column":17},"end":{"line":69,"column":21}},"46":{"start":{"line":71,"column":6},"end":{"line":92,"column":9}},"47":{"start":{"line":72,"column":22},"end":{"line":72,"column":78}},"48":{"start":{"line":74,"column":18},"end":{"line":74,"column":47}},"49":{"start":{"line":76,"column":22},"end":{"line":76,"column":53}},"50":{"start":{"line":77,"column":28},"end":{"line":77,"column":75}},"51":{"start":{"line":78,"column":25},"end":{"line":78,"column":122}},"52":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"53":{"start":{"line":81,"column":10},"end":{"line":81,"column":55}},"54":{"start":{"line":83,"column":8},"end":{"line":91,"column":11}},"55":{"start":{"line":84,"column":10},"end":{"line":90,"column":11}},"56":{"start":{"line":86,"column":12},"end":{"line":86,"column":31}},"57":{"start":{"line":87,"column":12},"end":{"line":87,"column":24}},"58":{"start":{"line":88,"column":17},"end":{"line":90,"column":11}},"59":{"start":{"line":89,"column":12},"end":{"line":89,"column":42}},"60":{"start":{"line":97,"column":6},"end":{"line":97,"column":30}},"61":{"start":{"line":98,"column":6},"end":{"line":101,"column":7}},"62":{"start":{"line":99,"column":8},"end":{"line":99,"column":51}},"63":{"start":{"line":100,"column":8},"end":{"line":100,"column":37}},"64":{"start":{"line":102,"column":6},"end":{"line":102,"column":53}},"65":{"start":{"line":104,"column":6},"end":{"line":106,"column":7}},"66":{"start":{"line":105,"column":8},"end":{"line":105,"column":74}},"67":{"start":{"line":107,"column":6},"end":{"line":107,"column":49}},"68":{"start":{"line":108,"column":6},"end":{"line":108,"column":37}},"69":{"start":{"line":114,"column":6},"end":{"line":114,"column":30}},"70":{"start":{"line":115,"column":6},"end":{"line":118,"column":7}},"71":{"start":{"line":116,"column":8},"end":{"line":116,"column":51}},"72":{"start":{"line":117,"column":8},"end":{"line":117,"column":37}},"73":{"start":{"line":120,"column":6},"end":{"line":120,"column":53}},"74":{"start":{"line":122,"column":6},"end":{"line":124,"column":7}},"75":{"start":{"line":123,"column":8},"end":{"line":123,"column":75}},"76":{"start":{"line":126,"column":6},"end":{"line":126,"column":49}},"77":{"start":{"line":127,"column":6},"end":{"line":127,"column":37}},"78":{"start":{"line":131,"column":2},"end":{"line":131,"column":22}},"79":{"start":{"line":134,"column":0},"end":{"line":134,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":31}},"loc":{"start":{"line":25,"column":37},"end":{"line":25,"column":95}},"line":25},"4":{"name":"_classCallCheck","decl":{"start":{"line":27,"column":9},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":153}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":19},"end":{"line":31,"column":20}},"loc":{"start":{"line":31,"column":31},"end":{"line":132,"column":1}},"line":31},"6":{"name":"OrsElevation","decl":{"start":{"line":32,"column":11},"end":{"line":32,"column":23}},"loc":{"start":{"line":32,"column":30},"end":{"line":43,"column":3}},"line":32},"7":{"name":"clear","decl":{"start":{"line":47,"column":20},"end":{"line":47,"column":25}},"loc":{"start":{"line":47,"column":28},"end":{"line":51,"column":5}},"line":47},"8":{"name":"generatePayload","decl":{"start":{"line":54,"column":20},"end":{"line":54,"column":35}},"loc":{"start":{"line":54,"column":42},"end":{"line":65,"column":5}},"line":54},"9":{"name":"elevationPromise","decl":{"start":{"line":68,"column":20},"end":{"line":68,"column":36}},"loc":{"start":{"line":68,"column":39},"end":{"line":93,"column":5}},"line":68},"10":{"name":"(anonymous_10)","decl":{"start":{"line":71,"column":36},"end":{"line":71,"column":37}},"loc":{"start":{"line":71,"column":63},"end":{"line":92,"column":7}},"line":71},"11":{"name":"(anonymous_11)","decl":{"start":{"line":83,"column":23},"end":{"line":83,"column":24}},"loc":{"start":{"line":83,"column":43},"end":{"line":91,"column":9}},"line":83},"12":{"name":"lineElevation","decl":{"start":{"line":96,"column":20},"end":{"line":96,"column":33}},"loc":{"start":{"line":96,"column":43},"end":{"line":109,"column":5}},"line":96},"13":{"name":"pointElevation","decl":{"start":{"line":112,"column":20},"end":{"line":112,"column":34}},"loc":{"start":{"line":112,"column":44},"end":{"line":128,"column":5}},"line":112}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":92}},"type":"cond-expr","locations":[{"start":{"line":25,"column":70},"end":{"line":25,"column":73}},{"start":{"line":25,"column":76},"end":{"line":25,"column":92}}],"line":25},"5":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":67}},"type":"binary-expr","locations":[{"start":{"line":25,"column":46},"end":{"line":25,"column":49}},{"start":{"line":25,"column":53},"end":{"line":25,"column":67}}],"line":25},"6":{"loc":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"type":"if","locations":[{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},{"start":{"line":27,"column":50},"end":{"line":27,"column":151}}],"line":27},"7":{"loc":{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},{"start":{"line":36,"column":4},"end":{"line":42,"column":5}}],"line":36},"8":{"loc":{"start":{"line":49,"column":8},"end":{"line":49,"column":90}},"type":"if","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":90}},{"start":{"line":49,"column":8},"end":{"line":49,"column":90}}],"line":49},"9":{"loc":{"start":{"line":58,"column":8},"end":{"line":62,"column":9}},"type":"if","locations":[{"start":{"line":58,"column":8},"end":{"line":62,"column":9}},{"start":{"line":58,"column":8},"end":{"line":62,"column":9}}],"line":58},"10":{"loc":{"start":{"line":72,"column":22},"end":{"line":72,"column":78}},"type":"binary-expr","locations":[{"start":{"line":72,"column":22},"end":{"line":72,"column":70}},{"start":{"line":72,"column":74},"end":{"line":72,"column":78}}],"line":72},"11":{"loc":{"start":{"line":84,"column":10},"end":{"line":90,"column":11}},"type":"if","locations":[{"start":{"line":84,"column":10},"end":{"line":90,"column":11}},{"start":{"line":84,"column":10},"end":{"line":90,"column":11}}],"line":84},"12":{"loc":{"start":{"line":84,"column":14},"end":{"line":84,"column":28}},"type":"binary-expr","locations":[{"start":{"line":84,"column":14},"end":{"line":84,"column":17}},{"start":{"line":84,"column":21},"end":{"line":84,"column":28}}],"line":84},"13":{"loc":{"start":{"line":88,"column":17},"end":{"line":90,"column":11}},"type":"if","locations":[{"start":{"line":88,"column":17},"end":{"line":90,"column":11}},{"start":{"line":88,"column":17},"end":{"line":90,"column":11}}],"line":88},"14":{"loc":{"start":{"line":89,"column":20},"end":{"line":89,"column":40}},"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":28}},{"start":{"line":89,"column":32},"end":{"line":89,"column":40}}],"line":89},"15":{"loc":{"start":{"line":98,"column":6},"end":{"line":101,"column":7}},"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":101,"column":7}},{"start":{"line":98,"column":6},"end":{"line":101,"column":7}}],"line":98},"16":{"loc":{"start":{"line":104,"column":6},"end":{"line":106,"column":7}},"type":"if","locations":[{"start":{"line":104,"column":6},"end":{"line":106,"column":7}},{"start":{"line":104,"column":6},"end":{"line":106,"column":7}}],"line":104},"17":{"loc":{"start":{"line":104,"column":10},"end":{"line":104,"column":110}},"type":"binary-expr","locations":[{"start":{"line":104,"column":10},"end":{"line":104,"column":59}},{"start":{"line":104,"column":63},"end":{"line":104,"column":110}}],"line":104},"18":{"loc":{"start":{"line":115,"column":6},"end":{"line":118,"column":7}},"type":"if","locations":[{"start":{"line":115,"column":6},"end":{"line":118,"column":7}},{"start":{"line":115,"column":6},"end":{"line":118,"column":7}}],"line":115},"19":{"loc":{"start":{"line":122,"column":6},"end":{"line":124,"column":7}},"type":"if","locations":[{"start":{"line":122,"column":6},"end":{"line":124,"column":7}},{"start":{"line":122,"column":6},"end":{"line":124,"column":7}}],"line":122},"20":{"loc":{"start":{"line":122,"column":10},"end":{"line":122,"column":110}},"type":"binary-expr","locations":[{"start":{"line":122,"column":10},"end":{"line":122,"column":59}},{"start":{"line":122,"column":63},"end":{"line":122,"column":110}}],"line":122}},"s":{"0":1,"1":1,"2":1,"3":1,"4":5,"5":5,"6":5,"7":5,"8":5,"9":5,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":4,"25":3,"26":0,"27":1,"28":1,"29":3,"30":3,"31":3,"32":2,"33":1,"34":1,"35":1,"36":1,"37":1,"38":0,"39":2,"40":2,"41":10,"42":4,"43":6,"44":2,"45":2,"46":2,"47":2,"48":2,"49":2,"50":2,"51":2,"52":2,"53":0,"54":2,"55":2,"56":0,"57":0,"58":2,"59":2,"60":1,"61":1,"62":0,"63":0,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":0,"72":0,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1},"f":{"0":1,"1":1,"2":1,"3":4,"4":3,"5":1,"6":3,"7":1,"8":2,"9":2,"10":2,"11":2,"12":1,"13":1},"b":{"0":[5,5],"1":[5,0],"2":[1,0],"3":[0,1],"4":[2,2],"5":[4,4],"6":[0,3],"7":[2,1],"8":[0,1],"9":[4,6],"10":[2,2],"11":[0,2],"12":[2,2],"13":[2,0],"14":[2,0],"15":[0,1],"16":[1,0],"17":[1,1],"18":[0,1],"19":[1,0],"20":[1,1]},"inputSourceMap":{"version":3,"sources":["OrsElevation.js"],"names":["orsUtil","OrsUtil","OrsElevation","args","Constants","propNames","apiKey","console","error","missingAPIKeyMsg","Error","variable","payload","key","baseUrlConstituents","indexOf","that","Promise","resolve","reject","timeout","url","prepareUrl","generatePayload","authorization","orsRequest","request","post","send","set","customHeaders","end","err","res","ok","body","text","reqArgs","setRequestDefaults","service","copyProperties","elevationPromise"],"mappings":"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","file":"OrsElevation.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import request from 'superagent'\nimport Promise from 'bluebird'\nimport OrsUtil from './OrsUtil'\nimport Constants from './constants'\n\nconst orsUtil = new OrsUtil()\n\nclass OrsElevation {\n  constructor(args) {\n    this.args = {}\n    if (Constants.propNames.apiKey in args) {\n      this.args[Constants.propNames.apiKey] = args[Constants.propNames.apiKey]\n    } else {\n      // eslint-disable-next-line no-console\n      console.error(Constants.missingAPIKeyMsg)\n      throw new Error(Constants.missingAPIKeyMsg)\n    }\n  }\n\n  clear() {\n    for (let variable in this.args) {\n      if (variable !== Constants.propNames.apiKey) delete this.args[variable]\n    }\n  }\n\n  generatePayload(args) {\n    let payload = {}\n\n    for (const key in args) {\n      if (Constants.baseUrlConstituents.indexOf(key) > -1) {\n        continue\n      } else {\n        payload[key] = args[key]\n      }\n    }\n    return payload\n  }\n\n  elevationPromise() {\n    const that = this\n\n    return new Promise(function(resolve, reject) {\n      const timeout = that.args[Constants.propNames.timeout] || 5000\n\n      let url = orsUtil.prepareUrl(that.args)\n\n      const payload = that.generatePayload(that.args)\n      let authorization = that.args[Constants.propNames.apiKey]\n      let orsRequest = request\n        .post(url)\n        .send(payload)\n        .set('Authorization', authorization)\n        .timeout(timeout)\n\n      for (let key in that.customHeaders) {\n        orsRequest.set(key, that.customHeaders[key])\n      }\n      orsRequest.end(function(err, res) {\n        if (err || !res.ok) {\n          // eslint-disable-next-line no-console\n          console.error(err)\n          reject(err)\n        } else if (res) {\n          resolve(res.body || res.text)\n        }\n      })\n    })\n  }\n\n  lineElevation(reqArgs) {\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      reqArgs[Constants.propNames.service] = 'elevation/line'\n    }\n    orsUtil.copyProperties(reqArgs, this.args)\n    return this.elevationPromise()\n  }\n\n  pointElevation(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n\n    orsUtil.setRequestDefaults(this.args, reqArgs)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      reqArgs[Constants.propNames.service] = 'elevation/point'\n    }\n\n    orsUtil.copyProperties(reqArgs, this.args)\n    return this.elevationPromise()\n  }\n}\n\nexport default OrsElevation\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f72fdd5d84a1172745192a4d94da06ca2d30f002","contentHash":"60b472ff6d6b61430881dea4b98f0d0dbaec93998978ab8eb4cba9b83c1aff89"},"/home/amon/apps/openrouteservice-js/spec/OrsGeocodeSpec.js":{"path":"/home/amon/apps/openrouteservice-js/spec/OrsGeocodeSpec.js","statementMap":{"0":{"start":{"line":3,"column":18},"end":{"line":3,"column":46}},"1":{"start":{"line":5,"column":19},"end":{"line":5,"column":54}},"2":{"start":{"line":7,"column":17},"end":{"line":7,"column":44}},"3":{"start":{"line":9,"column":18},"end":{"line":9,"column":52}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":25,"column":3}},"6":{"start":{"line":15,"column":2},"end":{"line":24,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":23,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":19,"column":66}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"10":{"start":{"line":20,"column":6},"end":{"line":20,"column":13}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":52}},"12":{"start":{"line":27,"column":17},"end":{"line":27,"column":74}},"13":{"start":{"line":29,"column":0},"end":{"line":49,"column":3}},"14":{"start":{"line":30,"column":2},"end":{"line":48,"column":5}},"15":{"start":{"line":31,"column":4},"end":{"line":47,"column":7}},"16":{"start":{"line":36,"column":6},"end":{"line":36,"column":47}},"17":{"start":{"line":37,"column":6},"end":{"line":37,"column":53}},"18":{"start":{"line":38,"column":6},"end":{"line":38,"column":55}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":55}},"20":{"start":{"line":40,"column":6},"end":{"line":40,"column":62}},"21":{"start":{"line":41,"column":6},"end":{"line":41,"column":62}},"22":{"start":{"line":42,"column":6},"end":{"line":42,"column":13}},"23":{"start":{"line":45,"column":6},"end":{"line":45,"column":24}},"24":{"start":{"line":46,"column":6},"end":{"line":46,"column":56}},"25":{"start":{"line":51,"column":0},"end":{"line":63,"column":3}},"26":{"start":{"line":52,"column":2},"end":{"line":62,"column":5}},"27":{"start":{"line":53,"column":4},"end":{"line":53,"column":23}},"28":{"start":{"line":54,"column":4},"end":{"line":61,"column":5}},"29":{"start":{"line":55,"column":6},"end":{"line":55,"column":51}},"30":{"start":{"line":56,"column":6},"end":{"line":56,"column":13}},"31":{"start":{"line":59,"column":6},"end":{"line":59,"column":35}},"32":{"start":{"line":60,"column":6},"end":{"line":60,"column":78}},"33":{"start":{"line":65,"column":0},"end":{"line":93,"column":3}},"34":{"start":{"line":66,"column":2},"end":{"line":92,"column":5}},"35":{"start":{"line":67,"column":4},"end":{"line":91,"column":7}},"36":{"start":{"line":80,"column":6},"end":{"line":80,"column":46}},"37":{"start":{"line":81,"column":6},"end":{"line":81,"column":53}},"38":{"start":{"line":82,"column":6},"end":{"line":82,"column":55}},"39":{"start":{"line":83,"column":6},"end":{"line":83,"column":55}},"40":{"start":{"line":84,"column":6},"end":{"line":84,"column":62}},"41":{"start":{"line":85,"column":6},"end":{"line":85,"column":62}},"42":{"start":{"line":86,"column":6},"end":{"line":86,"column":13}},"43":{"start":{"line":89,"column":6},"end":{"line":89,"column":24}},"44":{"start":{"line":90,"column":6},"end":{"line":90,"column":59}},"45":{"start":{"line":95,"column":0},"end":{"line":117,"column":3}},"46":{"start":{"line":96,"column":2},"end":{"line":116,"column":5}},"47":{"start":{"line":97,"column":4},"end":{"line":115,"column":7}},"48":{"start":{"line":104,"column":6},"end":{"line":104,"column":46}},"49":{"start":{"line":105,"column":6},"end":{"line":105,"column":53}},"50":{"start":{"line":106,"column":6},"end":{"line":106,"column":55}},"51":{"start":{"line":107,"column":6},"end":{"line":107,"column":55}},"52":{"start":{"line":108,"column":6},"end":{"line":108,"column":62}},"53":{"start":{"line":109,"column":6},"end":{"line":109,"column":62}},"54":{"start":{"line":110,"column":6},"end":{"line":110,"column":13}},"55":{"start":{"line":113,"column":6},"end":{"line":113,"column":24}},"56":{"start":{"line":114,"column":6},"end":{"line":114,"column":56}},"57":{"start":{"line":119,"column":0},"end":{"line":141,"column":3}},"58":{"start":{"line":120,"column":2},"end":{"line":140,"column":5}},"59":{"start":{"line":121,"column":4},"end":{"line":139,"column":7}},"60":{"start":{"line":132,"column":6},"end":{"line":132,"column":46}},"61":{"start":{"line":133,"column":6},"end":{"line":133,"column":53}},"62":{"start":{"line":134,"column":6},"end":{"line":134,"column":13}},"63":{"start":{"line":137,"column":6},"end":{"line":137,"column":24}},"64":{"start":{"line":138,"column":6},"end":{"line":138,"column":55}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":36},"end":{"line":14,"column":37}},"loc":{"start":{"line":14,"column":48},"end":{"line":25,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":40},"end":{"line":15,"column":41}},"loc":{"start":{"line":15,"column":56},"end":{"line":24,"column":3}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":14}},"loc":{"start":{"line":17,"column":25},"end":{"line":19,"column":7}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":25},"end":{"line":29,"column":26}},"loc":{"start":{"line":29,"column":37},"end":{"line":49,"column":1}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":20},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":36},"end":{"line":48,"column":3}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":35,"column":12},"end":{"line":35,"column":13}},"loc":{"start":{"line":35,"column":28},"end":{"line":43,"column":5}},"line":35},"7":{"name":"(anonymous_7)","decl":{"start":{"line":43,"column":13},"end":{"line":43,"column":14}},"loc":{"start":{"line":43,"column":29},"end":{"line":47,"column":5}},"line":43},"8":{"name":"(anonymous_8)","decl":{"start":{"line":51,"column":36},"end":{"line":51,"column":37}},"loc":{"start":{"line":51,"column":48},"end":{"line":63,"column":1}},"line":51},"9":{"name":"(anonymous_9)","decl":{"start":{"line":52,"column":20},"end":{"line":52,"column":21}},"loc":{"start":{"line":52,"column":36},"end":{"line":62,"column":3}},"line":52},"10":{"name":"(anonymous_10)","decl":{"start":{"line":65,"column":41},"end":{"line":65,"column":42}},"loc":{"start":{"line":65,"column":53},"end":{"line":93,"column":1}},"line":65},"11":{"name":"(anonymous_11)","decl":{"start":{"line":66,"column":20},"end":{"line":66,"column":21}},"loc":{"start":{"line":66,"column":36},"end":{"line":92,"column":3}},"line":66},"12":{"name":"(anonymous_12)","decl":{"start":{"line":79,"column":12},"end":{"line":79,"column":13}},"loc":{"start":{"line":79,"column":28},"end":{"line":87,"column":5}},"line":79},"13":{"name":"(anonymous_13)","decl":{"start":{"line":87,"column":13},"end":{"line":87,"column":14}},"loc":{"start":{"line":87,"column":29},"end":{"line":91,"column":5}},"line":87},"14":{"name":"(anonymous_14)","decl":{"start":{"line":95,"column":43},"end":{"line":95,"column":44}},"loc":{"start":{"line":95,"column":55},"end":{"line":117,"column":1}},"line":95},"15":{"name":"(anonymous_15)","decl":{"start":{"line":96,"column":20},"end":{"line":96,"column":21}},"loc":{"start":{"line":96,"column":36},"end":{"line":116,"column":3}},"line":96},"16":{"name":"(anonymous_16)","decl":{"start":{"line":103,"column":12},"end":{"line":103,"column":13}},"loc":{"start":{"line":103,"column":28},"end":{"line":111,"column":5}},"line":103},"17":{"name":"(anonymous_17)","decl":{"start":{"line":111,"column":13},"end":{"line":111,"column":14}},"loc":{"start":{"line":111,"column":29},"end":{"line":115,"column":5}},"line":111},"18":{"name":"(anonymous_18)","decl":{"start":{"line":119,"column":40},"end":{"line":119,"column":41}},"loc":{"start":{"line":119,"column":52},"end":{"line":141,"column":1}},"line":119},"19":{"name":"(anonymous_19)","decl":{"start":{"line":120,"column":20},"end":{"line":120,"column":21}},"loc":{"start":{"line":120,"column":36},"end":{"line":140,"column":3}},"line":120},"20":{"name":"(anonymous_20)","decl":{"start":{"line":131,"column":12},"end":{"line":131,"column":13}},"loc":{"start":{"line":131,"column":28},"end":{"line":135,"column":5}},"line":131},"21":{"name":"(anonymous_21)","decl":{"start":{"line":135,"column":13},"end":{"line":135,"column":14}},"loc":{"start":{"line":135,"column":29},"end":{"line":139,"column":5}},"line":135}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":0,"24":0,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":0,"32":0,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":0,"44":0,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":0,"56":0,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":0,"64":0},"f":{"0":2,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":1,"15":1,"16":1,"17":0,"18":1,"19":1,"20":1,"21":0},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["OrsGeocodeSpec.js"],"names":["describe","it","done","expect","OrsGeocode","toThrow","Error","Constants","missingAPIKeyMsg","error","fail","orsGeocode","api_key","process","env","ORSKEY","geocode","text","focus_point","layers","then","json","features","length","toEqual","type","geometry","catch","console","log","clear","args","toBeUndefined","host","defaultHost","service","boundary_circle","lat_lng","radius","boundary_bbox","boundary_country","locality","county","region","point","sources","size","country","address","neighbourhood","borough","postalcode"],"mappings":"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","file":"OrsGeocodeSpec.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["/* eslint-disable no-undef */\nimport OrsGeocode from '../src/OrsGeocode'\nimport Constants from '../src/constants'\n\ndescribe('No api key Geocode Test', function() {\n  it('Instantiate with no key results', function(done) {\n    try {\n      expect(function() {\n        new OrsGeocode({})\n      }).toThrow(new Error(Constants.missingAPIKeyMsg))\n      done()\n    } catch (error) {\n      done.fail('No api key Geocode Test ' + error)\n    }\n  })\n})\n\nconst orsGeocode = new OrsGeocode({ api_key: process.env.ORSKEY })\n\ndescribe('Geocode Test', function() {\n  it('Get results', function(done) {\n    orsGeocode\n      .geocode({\n        text: 'Namibian Brewery',\n        focus_point: [-20.45902199292039, 16.64960861206055],\n        layers: [\n          'country',\n          'region',\n          'macrocounty',\n          'borough',\n          'macroregion',\n          'county',\n          'neighbourhood',\n          'borough',\n          'street',\n          'address',\n          'coarse'\n        ]\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(10)\n        expect(json.type).toEqual('FeatureCollection')\n        expect(json.features[0].type).toEqual('Feature')\n        expect(json.features[1].type).toEqual('Feature')\n        expect(json.features[0].geometry.type).toEqual('Point')\n        expect(json.features[1].geometry.type).toEqual('Point')\n        done()\n      })\n      .catch(function(json) {\n        // eslint-disable-next-line no-console\n        console.log(json)\n        done.fail('Should not fail Geocode Test ' + json)\n      })\n  })\n})\n\ndescribe('Clear Geocode args Test', function() {\n  it('Get results', function(done) {\n    orsGeocode.clear()\n    try {\n      expect(orsGeocode.args.text).toBeUndefined()\n      done()\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.log(orsGeocode.args)\n      done.fail('Should not fail Clear Geocode args Test ' + orsGeocode.args)\n    }\n  })\n})\n\ndescribe('Geocode with boundaries Test', function() {\n  it('Get results', function(done) {\n    new OrsGeocode({\n      api_key: process.env.ORSKEY,\n      host: Constants.defaultHost,\n      service: 'geocode/search'\n    })\n      .geocode({\n        text: 'Heidelberg',\n        boundary_circle: { lat_lng: [49.412388, 8.681247], radius: 50 },\n        boundary_bbox: [\n          [49.260929, 8.40063],\n          [49.504102, 8.941707]\n        ],\n        boundary_country: ['DE'],\n        locality: 'Heidelberg',\n        county: 'Heidelberg',\n        region: 'Baden-Wrttemberg'\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(2)\n        expect(json.type).toEqual('FeatureCollection')\n        expect(json.features[0].type).toEqual('Feature')\n        expect(json.features[1].type).toEqual('Feature')\n        expect(json.features[0].geometry.type).toEqual('Point')\n        expect(json.features[1].geometry.type).toEqual('Point')\n        done()\n      })\n      .catch(function(json) {\n        // eslint-disable-next-line no-console\n        console.log(json)\n        done.fail('Should not fail boundaries Test ' + json)\n      })\n  })\n})\n\ndescribe('Geocode structure address Test', function() {\n  it('Get results', function(done) {\n    orsGeocode\n      .geocode({\n        text: 'Namibian Brewery',\n        point: { lat_lng: [49.436431, 8.673964] },\n        sources: ['openstreetmap', 'openaddresses'],\n        size: 2,\n        country: 'DE'\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(2)\n        expect(json.type).toEqual('FeatureCollection')\n        expect(json.features[0].type).toEqual('Feature')\n        expect(json.features[1].type).toEqual('Feature')\n        expect(json.features[0].geometry.type).toEqual('Point')\n        expect(json.features[1].geometry.type).toEqual('Point')\n        done()\n      })\n      .catch(function(json) {\n        // eslint-disable-next-line no-console\n        console.log(json)\n        done.fail('Should not fail address Test ' + json)\n      })\n  })\n})\n\ndescribe('Geocode without result Test', function() {\n  it('Get results', function(done) {\n    orsGeocode\n      .geocode({\n        text: 'xzxzxzxtakywqa',\n        point: { lat_lng: [49.436431, 8.673964] },\n        sources: ['openstreetmap', 'openaddresses'],\n        size: 2,\n        country: 'DE',\n        address: 'Non existing address',\n        neighbourhood: 'Non existing neighbourhood',\n        borough: 'Non existing borough',\n        postalcode: '9999999'\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(0)\n        expect(json.type).toEqual('FeatureCollection')\n        done()\n      })\n      .catch(function(json) {\n        // eslint-disable-next-line no-console\n        console.log(json)\n        done.fail('Geocode without result Test ' + json)\n      })\n  })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"425e1ff5a7cf0735676c1cf395a55dfbf8a7bbbc","contentHash":"1af37ad171fededfa6c2b1d81d472e243fb7c187c7900eb1301dcbf83f2da805"},"/home/amon/apps/openrouteservice-js/src/OrsGeocode.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsGeocode.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":18},"end":{"line":9,"column":39}},"17":{"start":{"line":11,"column":19},"end":{"line":11,"column":54}},"18":{"start":{"line":13,"column":16},"end":{"line":13,"column":35}},"19":{"start":{"line":15,"column":17},"end":{"line":15,"column":50}},"20":{"start":{"line":17,"column":15},"end":{"line":17,"column":35}},"21":{"start":{"line":19,"column":16},"end":{"line":19,"column":48}},"22":{"start":{"line":21,"column":17},"end":{"line":21,"column":39}},"23":{"start":{"line":23,"column":18},"end":{"line":23,"column":52}},"24":{"start":{"line":25,"column":39},"end":{"line":25,"column":93}},"25":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"26":{"start":{"line":27,"column":92},"end":{"line":27,"column":149}},"27":{"start":{"line":29,"column":14},"end":{"line":29,"column":37}},"28":{"start":{"line":31,"column":17},"end":{"line":245,"column":3}},"29":{"start":{"line":33,"column":4},"end":{"line":33,"column":38}},"30":{"start":{"line":35,"column":4},"end":{"line":35,"column":19}},"31":{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},"32":{"start":{"line":37,"column":6},"end":{"line":37,"column":39}},"33":{"start":{"line":40,"column":6},"end":{"line":40,"column":58}},"34":{"start":{"line":41,"column":6},"end":{"line":41,"column":60}},"35":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"36":{"start":{"line":44,"column":6},"end":{"line":44,"column":95}},"37":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"38":{"start":{"line":47,"column":6},"end":{"line":47,"column":101}},"39":{"start":{"line":50,"column":4},"end":{"line":143,"column":6}},"40":{"start":{"line":52,"column":8},"end":{"line":52,"column":31}},"41":{"start":{"line":55,"column":8},"end":{"line":55,"column":37}},"42":{"start":{"line":58,"column":24},"end":{"line":58,"column":26}},"43":{"start":{"line":59,"column":8},"end":{"line":59,"column":60}},"44":{"start":{"line":60,"column":8},"end":{"line":60,"column":60}},"45":{"start":{"line":61,"column":8},"end":{"line":61,"column":25}},"46":{"start":{"line":64,"column":24},"end":{"line":64,"column":26}},"47":{"start":{"line":65,"column":8},"end":{"line":65,"column":69}},"48":{"start":{"line":66,"column":8},"end":{"line":66,"column":69}},"49":{"start":{"line":67,"column":8},"end":{"line":67,"column":69}},"50":{"start":{"line":68,"column":8},"end":{"line":68,"column":69}},"51":{"start":{"line":70,"column":8},"end":{"line":70,"column":25}},"52":{"start":{"line":73,"column":8},"end":{"line":78,"column":9}},"53":{"start":{"line":74,"column":26},"end":{"line":74,"column":28}},"54":{"start":{"line":75,"column":10},"end":{"line":75,"column":70}},"55":{"start":{"line":76,"column":10},"end":{"line":76,"column":70}},"56":{"start":{"line":77,"column":10},"end":{"line":77,"column":27}},"57":{"start":{"line":81,"column":24},"end":{"line":81,"column":26}},"58":{"start":{"line":82,"column":8},"end":{"line":82,"column":72}},"59":{"start":{"line":83,"column":8},"end":{"line":83,"column":72}},"60":{"start":{"line":84,"column":8},"end":{"line":84,"column":71}},"61":{"start":{"line":86,"column":8},"end":{"line":86,"column":25}},"62":{"start":{"line":89,"column":24},"end":{"line":89,"column":35}},"63":{"start":{"line":90,"column":8},"end":{"line":98,"column":9}},"64":{"start":{"line":91,"column":10},"end":{"line":96,"column":11}},"65":{"start":{"line":92,"column":12},"end":{"line":94,"column":13}},"66":{"start":{"line":93,"column":14},"end":{"line":93,"column":31}},"67":{"start":{"line":95,"column":12},"end":{"line":95,"column":35}},"68":{"start":{"line":97,"column":10},"end":{"line":97,"column":27}},"69":{"start":{"line":101,"column":24},"end":{"line":101,"column":34}},"70":{"start":{"line":102,"column":22},"end":{"line":102,"column":23}},"71":{"start":{"line":103,"column":8},"end":{"line":109,"column":9}},"72":{"start":{"line":104,"column":10},"end":{"line":106,"column":11}},"73":{"start":{"line":105,"column":12},"end":{"line":105,"column":29}},"74":{"start":{"line":107,"column":10},"end":{"line":107,"column":32}},"75":{"start":{"line":108,"column":10},"end":{"line":108,"column":20}},"76":{"start":{"line":110,"column":8},"end":{"line":110,"column":25}},"77":{"start":{"line":113,"column":24},"end":{"line":113,"column":60}},"78":{"start":{"line":114,"column":8},"end":{"line":114,"column":25}},"79":{"start":{"line":117,"column":8},"end":{"line":117,"column":37}},"80":{"start":{"line":120,"column":8},"end":{"line":120,"column":37}},"81":{"start":{"line":123,"column":8},"end":{"line":123,"column":37}},"82":{"start":{"line":126,"column":8},"end":{"line":126,"column":37}},"83":{"start":{"line":129,"column":8},"end":{"line":129,"column":37}},"84":{"start":{"line":132,"column":8},"end":{"line":132,"column":37}},"85":{"start":{"line":135,"column":8},"end":{"line":135,"column":37}},"86":{"start":{"line":138,"column":8},"end":{"line":138,"column":37}},"87":{"start":{"line":141,"column":8},"end":{"line":141,"column":37}},"88":{"start":{"line":146,"column":2},"end":{"line":242,"column":6}},"89":{"start":{"line":149,"column":6},"end":{"line":151,"column":7}},"90":{"start":{"line":150,"column":8},"end":{"line":150,"column":88}},"91":{"start":{"line":150,"column":61},"end":{"line":150,"column":88}},"92":{"start":{"line":156,"column":24},"end":{"line":156,"column":26}},"93":{"start":{"line":157,"column":6},"end":{"line":164,"column":7}},"94":{"start":{"line":158,"column":18},"end":{"line":158,"column":27}},"95":{"start":{"line":159,"column":8},"end":{"line":163,"column":9}},"96":{"start":{"line":160,"column":10},"end":{"line":160,"column":19}},"97":{"start":{"line":162,"column":10},"end":{"line":162,"column":61}},"98":{"start":{"line":165,"column":6},"end":{"line":165,"column":25}},"99":{"start":{"line":170,"column":17},"end":{"line":170,"column":21}},"100":{"start":{"line":171,"column":6},"end":{"line":194,"column":9}},"101":{"start":{"line":172,"column":22},"end":{"line":172,"column":78}},"102":{"start":{"line":175,"column":18},"end":{"line":175,"column":47}},"103":{"start":{"line":178,"column":8},"end":{"line":178,"column":64}},"104":{"start":{"line":180,"column":25},"end":{"line":180,"column":71}},"105":{"start":{"line":182,"column":8},"end":{"line":184,"column":9}},"106":{"start":{"line":183,"column":10},"end":{"line":183,"column":55}},"107":{"start":{"line":185,"column":8},"end":{"line":193,"column":11}},"108":{"start":{"line":186,"column":10},"end":{"line":192,"column":11}},"109":{"start":{"line":188,"column":12},"end":{"line":188,"column":31}},"110":{"start":{"line":189,"column":12},"end":{"line":189,"column":24}},"111":{"start":{"line":190,"column":17},"end":{"line":192,"column":11}},"112":{"start":{"line":191,"column":12},"end":{"line":191,"column":42}},"113":{"start":{"line":200,"column":6},"end":{"line":200,"column":30}},"114":{"start":{"line":201,"column":6},"end":{"line":201,"column":49}},"115":{"start":{"line":202,"column":6},"end":{"line":205,"column":7}},"116":{"start":{"line":203,"column":8},"end":{"line":203,"column":51}},"117":{"start":{"line":204,"column":8},"end":{"line":204,"column":37}},"118":{"start":{"line":206,"column":6},"end":{"line":206,"column":53}},"119":{"start":{"line":208,"column":6},"end":{"line":210,"column":7}},"120":{"start":{"line":209,"column":8},"end":{"line":209,"column":43}},"121":{"start":{"line":211,"column":6},"end":{"line":211,"column":49}},"122":{"start":{"line":212,"column":6},"end":{"line":212,"column":35}},"123":{"start":{"line":218,"column":6},"end":{"line":218,"column":30}},"124":{"start":{"line":219,"column":6},"end":{"line":222,"column":7}},"125":{"start":{"line":220,"column":8},"end":{"line":220,"column":51}},"126":{"start":{"line":221,"column":8},"end":{"line":221,"column":37}},"127":{"start":{"line":223,"column":6},"end":{"line":223,"column":53}},"128":{"start":{"line":225,"column":6},"end":{"line":227,"column":7}},"129":{"start":{"line":226,"column":8},"end":{"line":226,"column":44}},"130":{"start":{"line":228,"column":6},"end":{"line":228,"column":49}},"131":{"start":{"line":229,"column":6},"end":{"line":229,"column":35}},"132":{"start":{"line":234,"column":6},"end":{"line":234,"column":53}},"133":{"start":{"line":236,"column":6},"end":{"line":238,"column":7}},"134":{"start":{"line":237,"column":8},"end":{"line":237,"column":54}},"135":{"start":{"line":239,"column":6},"end":{"line":239,"column":49}},"136":{"start":{"line":240,"column":6},"end":{"line":240,"column":35}},"137":{"start":{"line":244,"column":2},"end":{"line":244,"column":20}},"138":{"start":{"line":247,"column":0},"end":{"line":247,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":31}},"loc":{"start":{"line":25,"column":37},"end":{"line":25,"column":95}},"line":25},"4":{"name":"_classCallCheck","decl":{"start":{"line":27,"column":9},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":153}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":17},"end":{"line":31,"column":18}},"loc":{"start":{"line":31,"column":29},"end":{"line":245,"column":1}},"line":31},"6":{"name":"OrsGeocode","decl":{"start":{"line":32,"column":11},"end":{"line":32,"column":21}},"loc":{"start":{"line":32,"column":28},"end":{"line":144,"column":3}},"line":32},"7":{"name":"api_key","decl":{"start":{"line":51,"column":24},"end":{"line":51,"column":31}},"loc":{"start":{"line":51,"column":42},"end":{"line":53,"column":7}},"line":51},"8":{"name":"text","decl":{"start":{"line":54,"column":21},"end":{"line":54,"column":25}},"loc":{"start":{"line":54,"column":36},"end":{"line":56,"column":7}},"line":54},"9":{"name":"focus_point","decl":{"start":{"line":57,"column":28},"end":{"line":57,"column":39}},"loc":{"start":{"line":57,"column":50},"end":{"line":62,"column":7}},"line":57},"10":{"name":"boundary_bbox","decl":{"start":{"line":63,"column":30},"end":{"line":63,"column":43}},"loc":{"start":{"line":63,"column":54},"end":{"line":71,"column":7}},"line":63},"11":{"name":"point","decl":{"start":{"line":72,"column":22},"end":{"line":72,"column":27}},"loc":{"start":{"line":72,"column":38},"end":{"line":79,"column":7}},"line":72},"12":{"name":"boundary_circle","decl":{"start":{"line":80,"column":32},"end":{"line":80,"column":47}},"loc":{"start":{"line":80,"column":58},"end":{"line":87,"column":7}},"line":80},"13":{"name":"sources","decl":{"start":{"line":88,"column":24},"end":{"line":88,"column":31}},"loc":{"start":{"line":88,"column":42},"end":{"line":99,"column":7}},"line":88},"14":{"name":"layers","decl":{"start":{"line":100,"column":23},"end":{"line":100,"column":29}},"loc":{"start":{"line":100,"column":40},"end":{"line":111,"column":7}},"line":100},"15":{"name":"boundary_country","decl":{"start":{"line":112,"column":33},"end":{"line":112,"column":49}},"loc":{"start":{"line":112,"column":60},"end":{"line":115,"column":7}},"line":112},"16":{"name":"size","decl":{"start":{"line":116,"column":21},"end":{"line":116,"column":25}},"loc":{"start":{"line":116,"column":36},"end":{"line":118,"column":7}},"line":116},"17":{"name":"address","decl":{"start":{"line":119,"column":24},"end":{"line":119,"column":31}},"loc":{"start":{"line":119,"column":42},"end":{"line":121,"column":7}},"line":119},"18":{"name":"neighbourhood","decl":{"start":{"line":122,"column":30},"end":{"line":122,"column":43}},"loc":{"start":{"line":122,"column":54},"end":{"line":124,"column":7}},"line":122},"19":{"name":"borough","decl":{"start":{"line":125,"column":24},"end":{"line":125,"column":31}},"loc":{"start":{"line":125,"column":42},"end":{"line":127,"column":7}},"line":125},"20":{"name":"locality","decl":{"start":{"line":128,"column":25},"end":{"line":128,"column":33}},"loc":{"start":{"line":128,"column":44},"end":{"line":130,"column":7}},"line":128},"21":{"name":"county","decl":{"start":{"line":131,"column":23},"end":{"line":131,"column":29}},"loc":{"start":{"line":131,"column":40},"end":{"line":133,"column":7}},"line":131},"22":{"name":"region","decl":{"start":{"line":134,"column":23},"end":{"line":134,"column":29}},"loc":{"start":{"line":134,"column":40},"end":{"line":136,"column":7}},"line":134},"23":{"name":"postalcode","decl":{"start":{"line":137,"column":27},"end":{"line":137,"column":37}},"loc":{"start":{"line":137,"column":48},"end":{"line":139,"column":7}},"line":137},"24":{"name":"country","decl":{"start":{"line":140,"column":24},"end":{"line":140,"column":31}},"loc":{"start":{"line":140,"column":42},"end":{"line":142,"column":7}},"line":140},"25":{"name":"clear","decl":{"start":{"line":148,"column":20},"end":{"line":148,"column":25}},"loc":{"start":{"line":148,"column":28},"end":{"line":152,"column":5}},"line":148},"26":{"name":"getParametersAsQueryString","decl":{"start":{"line":155,"column":20},"end":{"line":155,"column":46}},"loc":{"start":{"line":155,"column":53},"end":{"line":166,"column":5}},"line":155},"27":{"name":"geocodePromise","decl":{"start":{"line":169,"column":20},"end":{"line":169,"column":34}},"loc":{"start":{"line":169,"column":37},"end":{"line":195,"column":5}},"line":169},"28":{"name":"(anonymous_28)","decl":{"start":{"line":171,"column":36},"end":{"line":171,"column":37}},"loc":{"start":{"line":171,"column":63},"end":{"line":194,"column":7}},"line":171},"29":{"name":"(anonymous_29)","decl":{"start":{"line":185,"column":23},"end":{"line":185,"column":24}},"loc":{"start":{"line":185,"column":43},"end":{"line":193,"column":9}},"line":185},"30":{"name":"geocode","decl":{"start":{"line":198,"column":20},"end":{"line":198,"column":27}},"loc":{"start":{"line":198,"column":37},"end":{"line":213,"column":5}},"line":198},"31":{"name":"reverseGeocode","decl":{"start":{"line":216,"column":20},"end":{"line":216,"column":34}},"loc":{"start":{"line":216,"column":44},"end":{"line":230,"column":5}},"line":216},"32":{"name":"structuredGeocode","decl":{"start":{"line":233,"column":20},"end":{"line":233,"column":37}},"loc":{"start":{"line":233,"column":47},"end":{"line":241,"column":5}},"line":233}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":92}},"type":"cond-expr","locations":[{"start":{"line":25,"column":70},"end":{"line":25,"column":73}},{"start":{"line":25,"column":76},"end":{"line":25,"column":92}}],"line":25},"5":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":67}},"type":"binary-expr","locations":[{"start":{"line":25,"column":46},"end":{"line":25,"column":49}},{"start":{"line":25,"column":53},"end":{"line":25,"column":67}}],"line":25},"6":{"loc":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"type":"if","locations":[{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},{"start":{"line":27,"column":50},"end":{"line":27,"column":151}}],"line":27},"7":{"loc":{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},{"start":{"line":36,"column":4},"end":{"line":42,"column":5}}],"line":36},"8":{"loc":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},{"start":{"line":43,"column":4},"end":{"line":45,"column":5}}],"line":43},"9":{"loc":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},{"start":{"line":46,"column":4},"end":{"line":48,"column":5}}],"line":46},"10":{"loc":{"start":{"line":73,"column":8},"end":{"line":78,"column":9}},"type":"if","locations":[{"start":{"line":73,"column":8},"end":{"line":78,"column":9}},{"start":{"line":73,"column":8},"end":{"line":78,"column":9}}],"line":73},"11":{"loc":{"start":{"line":73,"column":12},"end":{"line":73,"column":45}},"type":"binary-expr","locations":[{"start":{"line":73,"column":12},"end":{"line":73,"column":15}},{"start":{"line":73,"column":19},"end":{"line":73,"column":45}}],"line":73},"12":{"loc":{"start":{"line":90,"column":8},"end":{"line":98,"column":9}},"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":98,"column":9}},{"start":{"line":90,"column":8},"end":{"line":98,"column":9}}],"line":90},"13":{"loc":{"start":{"line":92,"column":12},"end":{"line":94,"column":13}},"type":"if","locations":[{"start":{"line":92,"column":12},"end":{"line":94,"column":13}},{"start":{"line":92,"column":12},"end":{"line":94,"column":13}}],"line":92},"14":{"loc":{"start":{"line":104,"column":10},"end":{"line":106,"column":11}},"type":"if","locations":[{"start":{"line":104,"column":10},"end":{"line":106,"column":11}},{"start":{"line":104,"column":10},"end":{"line":106,"column":11}}],"line":104},"15":{"loc":{"start":{"line":150,"column":8},"end":{"line":150,"column":88}},"type":"if","locations":[{"start":{"line":150,"column":8},"end":{"line":150,"column":88}},{"start":{"line":150,"column":8},"end":{"line":150,"column":88}}],"line":150},"16":{"loc":{"start":{"line":159,"column":8},"end":{"line":163,"column":9}},"type":"if","locations":[{"start":{"line":159,"column":8},"end":{"line":163,"column":9}},{"start":{"line":159,"column":8},"end":{"line":163,"column":9}}],"line":159},"17":{"loc":{"start":{"line":172,"column":22},"end":{"line":172,"column":78}},"type":"binary-expr","locations":[{"start":{"line":172,"column":22},"end":{"line":172,"column":70}},{"start":{"line":172,"column":74},"end":{"line":172,"column":78}}],"line":172},"18":{"loc":{"start":{"line":186,"column":10},"end":{"line":192,"column":11}},"type":"if","locations":[{"start":{"line":186,"column":10},"end":{"line":192,"column":11}},{"start":{"line":186,"column":10},"end":{"line":192,"column":11}}],"line":186},"19":{"loc":{"start":{"line":186,"column":14},"end":{"line":186,"column":28}},"type":"binary-expr","locations":[{"start":{"line":186,"column":14},"end":{"line":186,"column":17}},{"start":{"line":186,"column":21},"end":{"line":186,"column":28}}],"line":186},"20":{"loc":{"start":{"line":190,"column":17},"end":{"line":192,"column":11}},"type":"if","locations":[{"start":{"line":190,"column":17},"end":{"line":192,"column":11}},{"start":{"line":190,"column":17},"end":{"line":192,"column":11}}],"line":190},"21":{"loc":{"start":{"line":191,"column":20},"end":{"line":191,"column":40}},"type":"binary-expr","locations":[{"start":{"line":191,"column":20},"end":{"line":191,"column":28}},{"start":{"line":191,"column":32},"end":{"line":191,"column":40}}],"line":191},"22":{"loc":{"start":{"line":202,"column":6},"end":{"line":205,"column":7}},"type":"if","locations":[{"start":{"line":202,"column":6},"end":{"line":205,"column":7}},{"start":{"line":202,"column":6},"end":{"line":205,"column":7}}],"line":202},"23":{"loc":{"start":{"line":208,"column":6},"end":{"line":210,"column":7}},"type":"if","locations":[{"start":{"line":208,"column":6},"end":{"line":210,"column":7}},{"start":{"line":208,"column":6},"end":{"line":210,"column":7}}],"line":208},"24":{"loc":{"start":{"line":208,"column":10},"end":{"line":208,"column":110}},"type":"binary-expr","locations":[{"start":{"line":208,"column":10},"end":{"line":208,"column":59}},{"start":{"line":208,"column":63},"end":{"line":208,"column":110}}],"line":208},"25":{"loc":{"start":{"line":219,"column":6},"end":{"line":222,"column":7}},"type":"if","locations":[{"start":{"line":219,"column":6},"end":{"line":222,"column":7}},{"start":{"line":219,"column":6},"end":{"line":222,"column":7}}],"line":219},"26":{"loc":{"start":{"line":225,"column":6},"end":{"line":227,"column":7}},"type":"if","locations":[{"start":{"line":225,"column":6},"end":{"line":227,"column":7}},{"start":{"line":225,"column":6},"end":{"line":227,"column":7}}],"line":225},"27":{"loc":{"start":{"line":225,"column":10},"end":{"line":225,"column":110}},"type":"binary-expr","locations":[{"start":{"line":225,"column":10},"end":{"line":225,"column":59}},{"start":{"line":225,"column":63},"end":{"line":225,"column":110}}],"line":225},"28":{"loc":{"start":{"line":236,"column":6},"end":{"line":238,"column":7}},"type":"if","locations":[{"start":{"line":236,"column":6},"end":{"line":238,"column":7}},{"start":{"line":236,"column":6},"end":{"line":238,"column":7}}],"line":236},"29":{"loc":{"start":{"line":236,"column":10},"end":{"line":236,"column":110}},"type":"binary-expr","locations":[{"start":{"line":236,"column":10},"end":{"line":236,"column":59}},{"start":{"line":236,"column":63},"end":{"line":236,"column":110}}],"line":236}},"s":{"0":1,"1":1,"2":1,"3":1,"4":6,"5":6,"6":6,"7":6,"8":6,"9":6,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":4,"25":3,"26":0,"27":1,"28":1,"29":3,"30":3,"31":3,"32":2,"33":1,"34":1,"35":2,"36":1,"37":2,"38":1,"39":2,"40":4,"41":4,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":2,"53":2,"54":2,"55":2,"56":2,"57":1,"58":1,"59":1,"60":1,"61":1,"62":2,"63":2,"64":2,"65":4,"66":2,"67":4,"68":2,"69":1,"70":1,"71":1,"72":11,"73":10,"74":11,"75":11,"76":1,"77":1,"78":1,"79":2,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":2,"88":1,"89":1,"90":6,"91":5,"92":4,"93":4,"94":36,"95":36,"96":8,"97":28,"98":4,"99":4,"100":4,"101":4,"102":4,"103":4,"104":4,"105":4,"106":0,"107":4,"108":4,"109":0,"110":0,"111":4,"112":4,"113":4,"114":4,"115":4,"116":0,"117":0,"118":4,"119":4,"120":4,"121":4,"122":4,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":1,"138":1},"f":{"0":1,"1":1,"2":1,"3":4,"4":3,"5":1,"6":3,"7":4,"8":4,"9":1,"10":1,"11":2,"12":1,"13":2,"14":1,"15":1,"16":2,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":2,"25":1,"26":4,"27":4,"28":4,"29":4,"30":4,"31":0,"32":0},"b":{"0":[6,6],"1":[6,0],"2":[1,0],"3":[0,1],"4":[2,2],"5":[4,4],"6":[0,3],"7":[2,1],"8":[1,1],"9":[1,1],"10":[2,0],"11":[2,2],"12":[2,0],"13":[2,2],"14":[10,1],"15":[5,1],"16":[8,28],"17":[4,4],"18":[0,4],"19":[4,4],"20":[4,0],"21":[4,0],"22":[0,4],"23":[4,0],"24":[4,4],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0]},"inputSourceMap":{"version":3,"sources":["OrsGeocode.js"],"names":["orsUtil","OrsUtil","OrsGeocode","args","Constants","apiKeyPropName","api_key","console","error","missingAPIKeyMsg","Error","propNames","host","service","lookupParameter","key","val","text","focus_point","urlParams","boundary_bbox","point","Array","isArray","lat_lng","boundary_circle","radius","sources","Number","layers","counter","boundary_country","size","address","neighbourhood","borough","locality","county","region","postalcode","country","variable","queryString","baseUrlConstituents","indexOf","that","Promise","resolve","reject","timeout","url","prepareUrl","getParametersAsQueryString","orsRequest","request","get","customHeaders","set","end","err","res","ok","body","reqArgs","setRequestDefaults","copyProperties","geocodePromise"],"mappings":"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","file":"OrsGeocode.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import request from 'superagent'\nimport Promise from 'bluebird'\nimport OrsUtil from './OrsUtil'\nimport Constants from './constants'\n\nconst orsUtil = new OrsUtil()\n\nclass OrsGeocode {\n  constructor(args) {\n    this.args = {}\n    if (Constants.apiKeyPropName in args) {\n      this.args.api_key = args.api_key\n    } else {\n      // eslint-disable-next-line no-console\n      console.error(Constants.missingAPIKeyMsg)\n      throw new Error(Constants.missingAPIKeyMsg)\n    }\n    if (Constants.propNames.host in args) {\n      this.args[Constants.propNames.host] = args[Constants.propNames.host]\n    }\n    if (Constants.propNames.service in args) {\n      this.args[Constants.propNames.service] = args[Constants.propNames.service]\n    }\n\n    this.lookupParameter = {\n      api_key: function(key, val) {\n        return key + '=' + val\n      },\n      text: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      focus_point: function(key, val) {\n        let urlParams = ''\n        urlParams += '&' + 'focus.point.lon' + '=' + val[1]\n        urlParams += '&' + 'focus.point.lat' + '=' + val[0]\n        return urlParams\n      },\n      boundary_bbox: function(key, val) {\n        let urlParams = ''\n        urlParams += '&' + 'boundary.rect.min_lon' + '=' + val[0][1]\n        urlParams += '&' + 'boundary.rect.min_lat' + '=' + val[0][0]\n        urlParams += '&' + 'boundary.rect.max_lon' + '=' + val[1][1]\n        urlParams += '&' + 'boundary.rect.max_lat' + '=' + val[1][0]\n\n        return urlParams\n      },\n      point: function(key, val) {\n        if (val && Array.isArray(val.lat_lng)) {\n          let urlParams = ''\n          urlParams += '&' + 'focus.point.lon' + '=' + val.lat_lng[1]\n          urlParams += '&' + 'focus.point.lat' + '=' + val.lat_lng[0]\n          return urlParams\n        }\n      },\n      boundary_circle: function(key, val) {\n        let urlParams = ''\n        urlParams += '&' + 'boundary.circle.lon' + '=' + val.lat_lng[1]\n        urlParams += '&' + 'boundary.circle.lat' + '=' + val.lat_lng[0]\n        urlParams += '&' + 'boundary.circle.radius' + '=' + val.radius\n\n        return urlParams\n      },\n      sources: function(key, val) {\n        let urlParams = '&sources='\n        if (val) {\n          for (let key in val) {\n            if (Number(key) > 0) {\n              urlParams += ','\n            }\n            urlParams += val[key]\n          }\n          return urlParams\n        }\n      },\n      layers: function(key, val) {\n        let urlParams = '&layers='\n        let counter = 0\n        for (key in val) {\n          if (counter > 0) {\n            urlParams += ','\n          }\n          urlParams += val[key]\n          counter++\n        }\n        return urlParams\n      },\n      boundary_country: function(key, val) {\n        let urlParams = '&' + 'boundary.country' + '=' + val\n        return urlParams\n      },\n      size: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      address: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      neighbourhood: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      borough: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      locality: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      county: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      region: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      postalcode: function(key, val) {\n        return '&' + key + '=' + val\n      },\n      country: function(key, val) {\n        return '&' + key + '=' + val\n      }\n    }\n  }\n\n  clear() {\n    for (let variable in this.args) {\n      if (variable !== Constants.apiKeyPropName) delete this.args[variable]\n    }\n  }\n\n  getParametersAsQueryString(args) {\n    let queryString = ''\n    for (const key in args) {\n      const val = args[key]\n      if (Constants.baseUrlConstituents.indexOf(key) > -1) {\n        continue\n      } else {\n        queryString += this.lookupParameter[key](key, val)\n      }\n    }\n    return queryString\n  }\n\n  geocodePromise() {\n    const that = this\n    return new Promise(function(resolve, reject) {\n      const timeout = that.args[Constants.propNames.timeout] || 5000\n\n      // Use old API via GET\n      let url = orsUtil.prepareUrl(that.args)\n\n      // Add url query string from args\n      url += '?' + that.getParametersAsQueryString(that.args)\n\n      let orsRequest = request.get(url).timeout(timeout)\n\n      for (let key in that.customHeaders) {\n        orsRequest.set(key, that.customHeaders[key])\n      }\n      orsRequest.end(function(err, res) {\n        if (err || !res.ok) {\n          // eslint-disable-next-line no-console\n          console.error(err)\n          reject(err)\n        } else if (res) {\n          resolve(res.body || res.text)\n        }\n      })\n    })\n  }\n\n  geocode(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    this.args = { api_key: this.args.api_key }\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      reqArgs.service = 'geocode/search'\n    }\n    orsUtil.copyProperties(reqArgs, this.args)\n    return this.geocodePromise()\n  }\n\n  reverseGeocode(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      reqArgs.service = 'geocode/reverse'\n    }\n    orsUtil.copyProperties(reqArgs, this.args)\n    return this.geocodePromise()\n  }\n\n  structuredGeocode(reqArgs) {\n    orsUtil.setRequestDefaults(this.args, reqArgs)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      reqArgs.service = 'geocode/search/structured'\n    }\n    orsUtil.copyProperties(reqArgs, this.args)\n    return this.geocodePromise()\n  }\n}\n\nexport default OrsGeocode\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c83e2633dcb059a74f1694f68de142cd56fc26f9","contentHash":"0e1ae3743ea17732c56cc267f16786658483e9d671ea36db230dcbdb98f8ba6a"},"/home/amon/apps/openrouteservice-js/spec/OrsIsochronesSpec.js":{"path":"/home/amon/apps/openrouteservice-js/spec/OrsIsochronesSpec.js","statementMap":{"0":{"start":{"line":3,"column":21},"end":{"line":3,"column":52}},"1":{"start":{"line":5,"column":22},"end":{"line":5,"column":60}},"2":{"start":{"line":7,"column":17},"end":{"line":7,"column":44}},"3":{"start":{"line":9,"column":18},"end":{"line":9,"column":52}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":25,"column":3}},"6":{"start":{"line":15,"column":2},"end":{"line":24,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":23,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":19,"column":66}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":40}},"10":{"start":{"line":20,"column":6},"end":{"line":20,"column":13}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":55}},"12":{"start":{"line":27,"column":20},"end":{"line":27,"column":80}},"13":{"start":{"line":29,"column":0},"end":{"line":98,"column":3}},"14":{"start":{"line":30,"column":2},"end":{"line":49,"column":5}},"15":{"start":{"line":31,"column":4},"end":{"line":31,"column":53}},"16":{"start":{"line":32,"column":4},"end":{"line":48,"column":7}},"17":{"start":{"line":37,"column":6},"end":{"line":37,"column":46}},"18":{"start":{"line":38,"column":6},"end":{"line":38,"column":53}},"19":{"start":{"line":39,"column":6},"end":{"line":39,"column":55}},"20":{"start":{"line":40,"column":6},"end":{"line":40,"column":55}},"21":{"start":{"line":41,"column":6},"end":{"line":41,"column":64}},"22":{"start":{"line":42,"column":6},"end":{"line":42,"column":64}},"23":{"start":{"line":43,"column":6},"end":{"line":43,"column":61}},"24":{"start":{"line":44,"column":6},"end":{"line":44,"column":61}},"25":{"start":{"line":45,"column":6},"end":{"line":45,"column":13}},"26":{"start":{"line":47,"column":6},"end":{"line":47,"column":42}},"27":{"start":{"line":50,"column":2},"end":{"line":72,"column":5}},"28":{"start":{"line":51,"column":4},"end":{"line":71,"column":7}},"29":{"start":{"line":60,"column":6},"end":{"line":60,"column":46}},"30":{"start":{"line":61,"column":6},"end":{"line":61,"column":53}},"31":{"start":{"line":62,"column":6},"end":{"line":62,"column":55}},"32":{"start":{"line":63,"column":6},"end":{"line":63,"column":55}},"33":{"start":{"line":64,"column":6},"end":{"line":64,"column":64}},"34":{"start":{"line":65,"column":6},"end":{"line":65,"column":64}},"35":{"start":{"line":66,"column":6},"end":{"line":66,"column":61}},"36":{"start":{"line":67,"column":6},"end":{"line":67,"column":61}},"37":{"start":{"line":68,"column":6},"end":{"line":68,"column":13}},"38":{"start":{"line":70,"column":6},"end":{"line":70,"column":42}},"39":{"start":{"line":74,"column":2},"end":{"line":97,"column":5}},"40":{"start":{"line":75,"column":4},"end":{"line":96,"column":7}},"41":{"start":{"line":85,"column":6},"end":{"line":85,"column":46}},"42":{"start":{"line":86,"column":6},"end":{"line":86,"column":53}},"43":{"start":{"line":87,"column":6},"end":{"line":87,"column":55}},"44":{"start":{"line":88,"column":6},"end":{"line":88,"column":55}},"45":{"start":{"line":89,"column":6},"end":{"line":89,"column":64}},"46":{"start":{"line":90,"column":6},"end":{"line":90,"column":64}},"47":{"start":{"line":91,"column":6},"end":{"line":91,"column":61}},"48":{"start":{"line":92,"column":6},"end":{"line":92,"column":61}},"49":{"start":{"line":93,"column":6},"end":{"line":93,"column":13}},"50":{"start":{"line":95,"column":6},"end":{"line":95,"column":51}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":39},"end":{"line":14,"column":40}},"loc":{"start":{"line":14,"column":51},"end":{"line":25,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":40},"end":{"line":15,"column":41}},"loc":{"start":{"line":15,"column":56},"end":{"line":24,"column":3}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":14}},"loc":{"start":{"line":17,"column":25},"end":{"line":19,"column":7}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":27},"end":{"line":29,"column":28}},"loc":{"start":{"line":29,"column":39},"end":{"line":98,"column":1}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":20},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":36},"end":{"line":49,"column":3}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":28},"end":{"line":46,"column":5}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":46,"column":13},"end":{"line":46,"column":14}},"loc":{"start":{"line":46,"column":29},"end":{"line":48,"column":5}},"line":46},"8":{"name":"(anonymous_8)","decl":{"start":{"line":50,"column":49},"end":{"line":50,"column":50}},"loc":{"start":{"line":50,"column":65},"end":{"line":72,"column":3}},"line":50},"9":{"name":"(anonymous_9)","decl":{"start":{"line":59,"column":12},"end":{"line":59,"column":13}},"loc":{"start":{"line":59,"column":28},"end":{"line":69,"column":5}},"line":59},"10":{"name":"(anonymous_10)","decl":{"start":{"line":69,"column":13},"end":{"line":69,"column":14}},"loc":{"start":{"line":69,"column":29},"end":{"line":71,"column":5}},"line":69},"11":{"name":"(anonymous_11)","decl":{"start":{"line":74,"column":39},"end":{"line":74,"column":40}},"loc":{"start":{"line":74,"column":55},"end":{"line":97,"column":3}},"line":74},"12":{"name":"(anonymous_12)","decl":{"start":{"line":84,"column":12},"end":{"line":84,"column":13}},"loc":{"start":{"line":84,"column":28},"end":{"line":94,"column":5}},"line":84},"13":{"name":"(anonymous_13)","decl":{"start":{"line":94,"column":13},"end":{"line":94,"column":14}},"loc":{"start":{"line":94,"column":29},"end":{"line":96,"column":5}},"line":94}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":0,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":0},"f":{"0":2,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":1,"10":0,"11":1,"12":1,"13":0},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["OrsIsochronesSpec.js"],"names":["describe","it","done","expect","OrsIsochrones","toThrow","Error","Constants","missingAPIKeyMsg","error","fail","orsIsochrones","api_key","process","env","ORSKEY","addLocation","calculate","locations","profile","range","then","json","features","length","toEqual","type","geometry","properties","value","catch","host","defaultHost","service","avoidables","avoid_polygons","coordinates","response"],"mappings":"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","file":"OrsIsochronesSpec.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["/* eslint-disable no-undef */\nimport OrsIsochrones from '../src/OrsIsochrones'\nimport Constants from '../src/constants'\n\ndescribe('No api key Isochrones Test', function() {\n  it('Instantiate with no key results', function(done) {\n    try {\n      expect(function() {\n        new OrsIsochrones({})\n      }).toThrow(new Error(Constants.missingAPIKeyMsg))\n      done()\n    } catch (error) {\n      done.fail('No api key Isochrones Test ' + error)\n    }\n  })\n})\n\nconst orsIsochrones = new OrsIsochrones({ api_key: process.env.ORSKEY })\n\ndescribe('Isochrone Test', function() {\n  it('Get results', function(done) {\n    orsIsochrones.addLocation([8.660958, 49.414662])\n    orsIsochrones\n      .calculate({\n        locations: [\n          [8.690958, 49.404662],\n          [8.687868, 49.390139]\n        ],\n        profile: 'driving-car',\n        range: [600]\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(2)\n        expect(json.type).toEqual('FeatureCollection')\n        expect(json.features[0].type).toEqual('Feature')\n        expect(json.features[1].type).toEqual('Feature')\n        expect(json.features[0].geometry.type).toEqual('Polygon')\n        expect(json.features[1].geometry.type).toEqual('Polygon')\n        expect(json.features[0].properties.value).toEqual(600)\n        expect(json.features[1].properties.value).toEqual(600)\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json)\n      })\n  })\n  it('Get results with custom host and service', function(done) {\n    new OrsIsochrones({\n      api_key: process.env.ORSKEY,\n      host: Constants.defaultHost,\n      service: 'isochrones'\n    })\n      .calculate({\n        locations: [\n          [8.690958, 49.404662],\n          [8.687868, 49.390139]\n        ],\n        profile: 'cycling-regular',\n        range: [600]\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(2)\n        expect(json.type).toEqual('FeatureCollection')\n        expect(json.features[0].type).toEqual('Feature')\n        expect(json.features[1].type).toEqual('Feature')\n        expect(json.features[0].geometry.type).toEqual('Polygon')\n        expect(json.features[1].geometry.type).toEqual('Polygon')\n        expect(json.features[0].properties.value).toEqual(600)\n        expect(json.features[1].properties.value).toEqual(600)\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json)\n      })\n  })\n\n  it('Get results with avoid polygon', function(done) {\n    new OrsIsochrones({ api_key: process.env.ORSKEY })\n      .calculate({\n        locations: [\n          [8.690958, 49.404662],\n          [8.687868, 49.390139]\n        ],\n        profile: 'cycling-regular',\n        range: [600],\n        avoidables: ['ferries', 'fords'],\n        avoid_polygons: {\n          type: 'MultiPolygon',\n          coordinates: [\n            [\n              [\n                [8.68716, 49.400494],\n                [8.69099, 49.400976],\n                [8.690336, 49.399454],\n                [8.68716, 49.400494]\n              ]\n            ]\n          ]\n        }\n      })\n      .then(function(json) {\n        expect(json.features.length).toEqual(2)\n        expect(json.type).toEqual('FeatureCollection')\n        expect(json.features[0].type).toEqual('Feature')\n        expect(json.features[1].type).toEqual('Feature')\n        expect(json.features[0].geometry.type).toEqual('Polygon')\n        expect(json.features[1].geometry.type).toEqual('Polygon')\n        expect(json.features[0].properties.value).toEqual(600)\n        expect(json.features[1].properties.value).toEqual(600)\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json.response)\n      })\n  })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c1f597a2e0873538838ccdb88ca65900b407c3c8","contentHash":"66fcc1faab065d12efa104bbf56d5ba83ad60739dd374d8268aa36c414125b8c"},"/home/amon/apps/openrouteservice-js/src/OrsIsochrones.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsIsochrones.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":15},"end":{"line":7,"column":256}},"2":{"start":{"line":7,"column":52},"end":{"line":7,"column":239}},"3":{"start":{"line":7,"column":65},"end":{"line":7,"column":66}},"4":{"start":{"line":7,"column":110},"end":{"line":7,"column":122}},"5":{"start":{"line":7,"column":124},"end":{"line":7,"column":237}},"6":{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},"7":{"start":{"line":7,"column":207},"end":{"line":7,"column":233}},"8":{"start":{"line":7,"column":240},"end":{"line":7,"column":254}},"9":{"start":{"line":9,"column":19},"end":{"line":9,"column":563}},"10":{"start":{"line":9,"column":76},"end":{"line":9,"column":347}},"11":{"start":{"line":9,"column":89},"end":{"line":9,"column":90}},"12":{"start":{"line":9,"column":134},"end":{"line":9,"column":142}},"13":{"start":{"line":9,"column":144},"end":{"line":9,"column":199}},"14":{"start":{"line":9,"column":200},"end":{"line":9,"column":231}},"15":{"start":{"line":9,"column":232},"end":{"line":9,"column":286}},"16":{"start":{"line":9,"column":259},"end":{"line":9,"column":286}},"17":{"start":{"line":9,"column":287},"end":{"line":9,"column":345}},"18":{"start":{"line":9,"column":350},"end":{"line":9,"column":559}},"19":{"start":{"line":9,"column":407},"end":{"line":9,"column":475}},"20":{"start":{"line":9,"column":423},"end":{"line":9,"column":475}},"21":{"start":{"line":9,"column":476},"end":{"line":9,"column":536}},"22":{"start":{"line":9,"column":493},"end":{"line":9,"column":536}},"23":{"start":{"line":9,"column":537},"end":{"line":9,"column":556}},"24":{"start":{"line":11,"column":18},"end":{"line":11,"column":39}},"25":{"start":{"line":13,"column":19},"end":{"line":13,"column":54}},"26":{"start":{"line":15,"column":16},"end":{"line":15,"column":35}},"27":{"start":{"line":17,"column":17},"end":{"line":17,"column":50}},"28":{"start":{"line":19,"column":15},"end":{"line":19,"column":35}},"29":{"start":{"line":21,"column":16},"end":{"line":21,"column":48}},"30":{"start":{"line":23,"column":17},"end":{"line":23,"column":39}},"31":{"start":{"line":25,"column":18},"end":{"line":25,"column":52}},"32":{"start":{"line":27,"column":39},"end":{"line":27,"column":93}},"33":{"start":{"line":29,"column":35},"end":{"line":29,"column":193}},"34":{"start":{"line":29,"column":61},"end":{"line":29,"column":145}},"35":{"start":{"line":29,"column":74},"end":{"line":29,"column":75}},"36":{"start":{"line":29,"column":84},"end":{"line":29,"column":101}},"37":{"start":{"line":29,"column":126},"end":{"line":29,"column":143}},"38":{"start":{"line":29,"column":146},"end":{"line":29,"column":158}},"39":{"start":{"line":29,"column":168},"end":{"line":29,"column":191}},"40":{"start":{"line":31,"column":50},"end":{"line":31,"column":151}},"41":{"start":{"line":31,"column":92},"end":{"line":31,"column":149}},"42":{"start":{"line":33,"column":14},"end":{"line":33,"column":37}},"43":{"start":{"line":35,"column":20},"end":{"line":149,"column":3}},"44":{"start":{"line":37,"column":4},"end":{"line":37,"column":41}},"45":{"start":{"line":39,"column":4},"end":{"line":39,"column":21}},"46":{"start":{"line":40,"column":4},"end":{"line":40,"column":19}},"47":{"start":{"line":41,"column":4},"end":{"line":47,"column":5}},"48":{"start":{"line":42,"column":6},"end":{"line":42,"column":99}},"49":{"start":{"line":45,"column":6},"end":{"line":45,"column":56}},"50":{"start":{"line":46,"column":6},"end":{"line":46,"column":60}},"51":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"52":{"start":{"line":50,"column":6},"end":{"line":50,"column":95}},"53":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"54":{"start":{"line":53,"column":6},"end":{"line":53,"column":101}},"55":{"start":{"line":57,"column":2},"end":{"line":146,"column":6}},"56":{"start":{"line":60,"column":6},"end":{"line":62,"column":7}},"57":{"start":{"line":61,"column":8},"end":{"line":61,"column":33}},"58":{"start":{"line":63,"column":6},"end":{"line":63,"column":39}},"59":{"start":{"line":68,"column":20},"end":{"line":68,"column":22}},"60":{"start":{"line":70,"column":6},"end":{"line":75,"column":7}},"61":{"start":{"line":71,"column":8},"end":{"line":73,"column":10}},"62":{"start":{"line":74,"column":8},"end":{"line":74,"column":33}},"63":{"start":{"line":76,"column":6},"end":{"line":79,"column":7}},"64":{"start":{"line":77,"column":8},"end":{"line":77,"column":80}},"65":{"start":{"line":78,"column":8},"end":{"line":78,"column":31}},"66":{"start":{"line":81,"column":6},"end":{"line":84,"column":7}},"67":{"start":{"line":82,"column":8},"end":{"line":82,"column":67}},"68":{"start":{"line":83,"column":8},"end":{"line":83,"column":35}},"69":{"start":{"line":86,"column":6},"end":{"line":92,"column":7}},"70":{"start":{"line":87,"column":8},"end":{"line":89,"column":11}},"71":{"start":{"line":91,"column":8},"end":{"line":91,"column":34}},"72":{"start":{"line":98,"column":6},"end":{"line":98,"column":30}},"73":{"start":{"line":99,"column":6},"end":{"line":102,"column":7}},"74":{"start":{"line":100,"column":8},"end":{"line":100,"column":51}},"75":{"start":{"line":101,"column":8},"end":{"line":101,"column":37}},"76":{"start":{"line":103,"column":6},"end":{"line":103,"column":59}},"77":{"start":{"line":105,"column":6},"end":{"line":107,"column":7}},"78":{"start":{"line":106,"column":8},"end":{"line":106,"column":39}},"79":{"start":{"line":109,"column":6},"end":{"line":109,"column":49}},"80":{"start":{"line":110,"column":17},"end":{"line":110,"column":21}},"81":{"start":{"line":112,"column":6},"end":{"line":144,"column":9}},"82":{"start":{"line":113,"column":22},"end":{"line":113,"column":79}},"83":{"start":{"line":115,"column":8},"end":{"line":143,"column":9}},"84":{"start":{"line":117,"column":10},"end":{"line":119,"column":11}},"85":{"start":{"line":118,"column":12},"end":{"line":118,"column":55}},"86":{"start":{"line":120,"column":10},"end":{"line":120,"column":60}},"87":{"start":{"line":121,"column":20},"end":{"line":121,"column":49}},"88":{"start":{"line":123,"column":25},"end":{"line":123,"column":52}},"89":{"start":{"line":124,"column":30},"end":{"line":124,"column":77}},"90":{"start":{"line":126,"column":27},"end":{"line":126,"column":125}},"91":{"start":{"line":128,"column":10},"end":{"line":130,"column":11}},"92":{"start":{"line":129,"column":12},"end":{"line":129,"column":57}},"93":{"start":{"line":131,"column":10},"end":{"line":139,"column":13}},"94":{"start":{"line":132,"column":12},"end":{"line":138,"column":13}},"95":{"start":{"line":134,"column":14},"end":{"line":134,"column":33}},"96":{"start":{"line":135,"column":14},"end":{"line":135,"column":26}},"97":{"start":{"line":136,"column":19},"end":{"line":138,"column":13}},"98":{"start":{"line":137,"column":14},"end":{"line":137,"column":44}},"99":{"start":{"line":142,"column":10},"end":{"line":142,"column":57}},"100":{"start":{"line":148,"column":2},"end":{"line":148,"column":23}},"101":{"start":{"line":151,"column":0},"end":{"line":151,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":32},"end":{"line":7,"column":33}},"loc":{"start":{"line":7,"column":50},"end":{"line":7,"column":256}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":19},"end":{"line":9,"column":20}},"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":561}},"line":9},"2":{"name":"defineProperties","decl":{"start":{"line":9,"column":42},"end":{"line":9,"column":58}},"loc":{"start":{"line":9,"column":74},"end":{"line":9,"column":349}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":9,"column":357},"end":{"line":9,"column":358}},"loc":{"start":{"line":9,"column":405},"end":{"line":9,"column":558}},"line":9},"4":{"name":"_interopRequireDefault","decl":{"start":{"line":27,"column":9},"end":{"line":27,"column":31}},"loc":{"start":{"line":27,"column":37},"end":{"line":27,"column":95}},"line":27},"5":{"name":"_toConsumableArray","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":27}},"loc":{"start":{"line":29,"column":33},"end":{"line":29,"column":195}},"line":29},"6":{"name":"_classCallCheck","decl":{"start":{"line":31,"column":9},"end":{"line":31,"column":24}},"loc":{"start":{"line":31,"column":48},"end":{"line":31,"column":153}},"line":31},"7":{"name":"(anonymous_7)","decl":{"start":{"line":35,"column":20},"end":{"line":35,"column":21}},"loc":{"start":{"line":35,"column":32},"end":{"line":149,"column":1}},"line":35},"8":{"name":"OrsIsochrones","decl":{"start":{"line":36,"column":11},"end":{"line":36,"column":24}},"loc":{"start":{"line":36,"column":31},"end":{"line":55,"column":3}},"line":36},"9":{"name":"addLocation","decl":{"start":{"line":59,"column":20},"end":{"line":59,"column":31}},"loc":{"start":{"line":59,"column":40},"end":{"line":64,"column":5}},"line":59},"10":{"name":"getBody","decl":{"start":{"line":67,"column":20},"end":{"line":67,"column":27}},"loc":{"start":{"line":67,"column":34},"end":{"line":93,"column":5}},"line":67},"11":{"name":"calculate","decl":{"start":{"line":96,"column":20},"end":{"line":96,"column":29}},"loc":{"start":{"line":96,"column":39},"end":{"line":145,"column":5}},"line":96},"12":{"name":"(anonymous_12)","decl":{"start":{"line":112,"column":36},"end":{"line":112,"column":37}},"loc":{"start":{"line":112,"column":63},"end":{"line":144,"column":7}},"line":112},"13":{"name":"(anonymous_13)","decl":{"start":{"line":131,"column":25},"end":{"line":131,"column":26}},"loc":{"start":{"line":131,"column":45},"end":{"line":139,"column":11}},"line":131}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":15},"end":{"line":7,"column":256}},"type":"binary-expr","locations":[{"start":{"line":7,"column":15},"end":{"line":7,"column":28}},{"start":{"line":7,"column":32},"end":{"line":7,"column":256}}],"line":7},"1":{"loc":{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},"type":"if","locations":[{"start":{"line":7,"column":150},"end":{"line":7,"column":235}},{"start":{"line":7,"column":150},"end":{"line":7,"column":235}}],"line":7},"2":{"loc":{"start":{"line":9,"column":168},"end":{"line":9,"column":198}},"type":"binary-expr","locations":[{"start":{"line":9,"column":168},"end":{"line":9,"column":189}},{"start":{"line":9,"column":193},"end":{"line":9,"column":198}}],"line":9},"3":{"loc":{"start":{"line":9,"column":232},"end":{"line":9,"column":286}},"type":"if","locations":[{"start":{"line":9,"column":232},"end":{"line":9,"column":286}},{"start":{"line":9,"column":232},"end":{"line":9,"column":286}}],"line":9},"4":{"loc":{"start":{"line":9,"column":407},"end":{"line":9,"column":475}},"type":"if","locations":[{"start":{"line":9,"column":407},"end":{"line":9,"column":475}},{"start":{"line":9,"column":407},"end":{"line":9,"column":475}}],"line":9},"5":{"loc":{"start":{"line":9,"column":476},"end":{"line":9,"column":536}},"type":"if","locations":[{"start":{"line":9,"column":476},"end":{"line":9,"column":536}},{"start":{"line":9,"column":476},"end":{"line":9,"column":536}}],"line":9},"6":{"loc":{"start":{"line":27,"column":46},"end":{"line":27,"column":92}},"type":"cond-expr","locations":[{"start":{"line":27,"column":70},"end":{"line":27,"column":73}},{"start":{"line":27,"column":76},"end":{"line":27,"column":92}}],"line":27},"7":{"loc":{"start":{"line":27,"column":46},"end":{"line":27,"column":67}},"type":"binary-expr","locations":[{"start":{"line":27,"column":46},"end":{"line":27,"column":49}},{"start":{"line":27,"column":53},"end":{"line":27,"column":67}}],"line":27},"8":{"loc":{"start":{"line":29,"column":35},"end":{"line":29,"column":193}},"type":"if","locations":[{"start":{"line":29,"column":35},"end":{"line":29,"column":193}},{"start":{"line":29,"column":35},"end":{"line":29,"column":193}}],"line":29},"9":{"loc":{"start":{"line":31,"column":50},"end":{"line":31,"column":151}},"type":"if","locations":[{"start":{"line":31,"column":50},"end":{"line":31,"column":151}},{"start":{"line":31,"column":50},"end":{"line":31,"column":151}}],"line":31},"10":{"loc":{"start":{"line":41,"column":4},"end":{"line":47,"column":5}},"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":47,"column":5}},{"start":{"line":41,"column":4},"end":{"line":47,"column":5}}],"line":41},"11":{"loc":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},{"start":{"line":49,"column":4},"end":{"line":51,"column":5}}],"line":49},"12":{"loc":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},{"start":{"line":52,"column":4},"end":{"line":54,"column":5}}],"line":52},"13":{"loc":{"start":{"line":60,"column":6},"end":{"line":62,"column":7}},"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":62,"column":7}},{"start":{"line":60,"column":6},"end":{"line":62,"column":7}}],"line":60},"14":{"loc":{"start":{"line":70,"column":6},"end":{"line":75,"column":7}},"type":"if","locations":[{"start":{"line":70,"column":6},"end":{"line":75,"column":7}},{"start":{"line":70,"column":6},"end":{"line":75,"column":7}}],"line":70},"15":{"loc":{"start":{"line":76,"column":6},"end":{"line":79,"column":7}},"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":79,"column":7}},{"start":{"line":76,"column":6},"end":{"line":79,"column":7}}],"line":76},"16":{"loc":{"start":{"line":81,"column":6},"end":{"line":84,"column":7}},"type":"if","locations":[{"start":{"line":81,"column":6},"end":{"line":84,"column":7}},{"start":{"line":81,"column":6},"end":{"line":84,"column":7}}],"line":81},"17":{"loc":{"start":{"line":86,"column":6},"end":{"line":92,"column":7}},"type":"if","locations":[{"start":{"line":86,"column":6},"end":{"line":92,"column":7}},{"start":{"line":86,"column":6},"end":{"line":92,"column":7}}],"line":86},"18":{"loc":{"start":{"line":99,"column":6},"end":{"line":102,"column":7}},"type":"if","locations":[{"start":{"line":99,"column":6},"end":{"line":102,"column":7}},{"start":{"line":99,"column":6},"end":{"line":102,"column":7}}],"line":99},"19":{"loc":{"start":{"line":105,"column":6},"end":{"line":107,"column":7}},"type":"if","locations":[{"start":{"line":105,"column":6},"end":{"line":107,"column":7}},{"start":{"line":105,"column":6},"end":{"line":107,"column":7}}],"line":105},"20":{"loc":{"start":{"line":105,"column":10},"end":{"line":105,"column":110}},"type":"binary-expr","locations":[{"start":{"line":105,"column":10},"end":{"line":105,"column":59}},{"start":{"line":105,"column":63},"end":{"line":105,"column":110}}],"line":105},"21":{"loc":{"start":{"line":113,"column":22},"end":{"line":113,"column":79}},"type":"binary-expr","locations":[{"start":{"line":113,"column":22},"end":{"line":113,"column":70}},{"start":{"line":113,"column":74},"end":{"line":113,"column":79}}],"line":113},"22":{"loc":{"start":{"line":115,"column":8},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":143,"column":9}},{"start":{"line":115,"column":8},"end":{"line":143,"column":9}}],"line":115},"23":{"loc":{"start":{"line":117,"column":10},"end":{"line":119,"column":11}},"type":"if","locations":[{"start":{"line":117,"column":10},"end":{"line":119,"column":11}},{"start":{"line":117,"column":10},"end":{"line":119,"column":11}}],"line":117},"24":{"loc":{"start":{"line":132,"column":12},"end":{"line":138,"column":13}},"type":"if","locations":[{"start":{"line":132,"column":12},"end":{"line":138,"column":13}},{"start":{"line":132,"column":12},"end":{"line":138,"column":13}}],"line":132},"25":{"loc":{"start":{"line":132,"column":16},"end":{"line":132,"column":30}},"type":"binary-expr","locations":[{"start":{"line":132,"column":16},"end":{"line":132,"column":19}},{"start":{"line":132,"column":23},"end":{"line":132,"column":30}}],"line":132},"26":{"loc":{"start":{"line":136,"column":19},"end":{"line":138,"column":13}},"type":"if","locations":[{"start":{"line":136,"column":19},"end":{"line":138,"column":13}},{"start":{"line":136,"column":19},"end":{"line":138,"column":13}}],"line":136},"27":{"loc":{"start":{"line":137,"column":22},"end":{"line":137,"column":42}},"type":"binary-expr","locations":[{"start":{"line":137,"column":22},"end":{"line":137,"column":30}},{"start":{"line":137,"column":34},"end":{"line":137,"column":42}}],"line":137}},"s":{"0":1,"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":3,"13":3,"14":3,"15":3,"16":3,"17":3,"18":1,"19":1,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":4,"33":1,"34":1,"35":1,"36":1,"37":2,"38":1,"39":0,"40":4,"41":0,"42":1,"43":1,"44":4,"45":4,"46":4,"47":4,"48":3,"49":1,"50":1,"51":3,"52":1,"53":3,"54":1,"55":1,"56":1,"57":1,"58":1,"59":3,"60":3,"61":0,"62":0,"63":3,"64":1,"65":1,"66":3,"67":1,"68":1,"69":3,"70":1,"71":2,"72":3,"73":3,"74":0,"75":0,"76":3,"77":3,"78":2,"79":3,"80":3,"81":3,"82":3,"83":3,"84":3,"85":3,"86":3,"87":3,"88":3,"89":3,"90":3,"91":3,"92":0,"93":3,"94":3,"95":0,"96":0,"97":3,"98":3,"99":0,"100":1,"101":1},"f":{"0":0,"1":1,"2":1,"3":1,"4":4,"5":1,"6":4,"7":1,"8":4,"9":1,"10":3,"11":3,"12":3,"13":3},"b":{"0":[1,0],"1":[0,0],"2":[3,3],"3":[3,0],"4":[1,0],"5":[0,1],"6":[2,2],"7":[4,4],"8":[1,0],"9":[0,4],"10":[3,1],"11":[1,2],"12":[1,2],"13":[1,0],"14":[0,3],"15":[1,2],"16":[1,2],"17":[1,2],"18":[0,3],"19":[2,1],"20":[3,2],"21":[3,3],"22":[3,0],"23":[3,0],"24":[0,3],"25":[3,3],"26":[3,0],"27":[3,0]},"inputSourceMap":{"version":3,"sources":["OrsIsochrones.js"],"names":["orsUtil","OrsUtil","OrsIsochrones","args","meta","Constants","propNames","apiKey","console","log","missingAPIKeyMsg","Error","host","service","latlon","locations","push","options","restrictions","profile_params","avoidables","avoid_features","avoid_polygons","Object","keys","length","reqArgs","customHeaders","setRequestDefaults","copyProperties","that","Promise","resolve","reject","timeout","apiVersion","defaultAPIVersion","prepareMeta","httpArgs","prepareRequest","url","prepareUrl","postBody","getBody","authorization","orsRequest","request","post","send","set","key","end","err","res","ok","error","body","text","useAPIV2Msg"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AAEA,IAAMA,UAAU,IAAIC,iBAAJ,EAAhB;;IAEMC,a;AACJ,yBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKD,IAAL,GAAY,EAAZ;AACA,QAAIE,oBAAUC,SAAV,CAAoBC,MAApB,IAA8BJ,IAAlC,EAAwC;AACtC,WAAKA,IAAL,CAAUE,oBAAUC,SAAV,CAAoBC,MAA9B,IAAwCJ,KAAKE,oBAAUC,SAAV,CAAoBC,MAAzB,CAAxC;AACD,KAFD,MAEO;AACL;AACAC,cAAQC,GAAR,CAAYJ,oBAAUK,gBAAtB;AACA,YAAM,IAAIC,KAAJ,CAAUN,oBAAUK,gBAApB,CAAN;AACD;;AAED,QAAIL,oBAAUC,SAAV,CAAoBM,IAApB,IAA4BT,IAAhC,EAAsC;AACpC,WAAKA,IAAL,CAAUE,oBAAUC,SAAV,CAAoBM,IAA9B,IAAsCT,KAAKE,oBAAUC,SAAV,CAAoBM,IAAzB,CAAtC;AACD;AACD,QAAIP,oBAAUC,SAAV,CAAoBO,OAApB,IAA+BV,IAAnC,EAAyC;AACvC,WAAKA,IAAL,CAAUE,oBAAUC,SAAV,CAAoBO,OAA9B,IAAyCV,KAAKE,oBAAUC,SAAV,CAAoBO,OAAzB,CAAzC;AACD;AACF;;;;gCAEWC,M,EAAQ;AAClB,UAAI,EAAE,eAAe,KAAKX,IAAtB,CAAJ,EAAiC;AAC/B,aAAKA,IAAL,CAAUY,SAAV,GAAsB,EAAtB;AACD;AACD,WAAKZ,IAAL,CAAUY,SAAV,CAAoBC,IAApB,CAAyBF,MAAzB;AACD;;;4BAEOX,I,EAAM;AACZ,UAAIc,UAAU,EAAd;;AAEA,UAAId,KAAKe,YAAT,EAAuB;AACrBD,gBAAQE,cAAR,GAAyB;AACvBD,qCACKf,KAAKe,YADV;AADuB,SAAzB;AAKA,eAAOf,KAAKe,YAAZ;AACD;AACD,UAAIf,KAAKiB,UAAT,EAAqB;AACnBH,gBAAQI,cAAR,gCAA6BlB,KAAKiB,UAAlC;AACA,eAAOjB,KAAKiB,UAAZ;AACD;;AAED,UAAIjB,KAAKmB,cAAT,EAAyB;AACvBL,gBAAQK,cAAR,gBACKnB,KAAKmB,cADV;AAGA,eAAOnB,KAAKmB,cAAZ;AACD;;AAED,UAAIC,OAAOC,IAAP,CAAYP,OAAZ,EAAqBQ,MAArB,GAA8B,CAAlC,EAAqC;AACnC,4BACKtB,IADL;AAEEc,mBAASA;AAFX;AAID,OALD,MAKO;AACL,4BACKd,IADL;AAGD;AACF;;;8BAESuB,O,EAAS;AACjB;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA,UAAID,QAAQC,aAAZ,EAA2B;AACzB,aAAKA,aAAL,GAAqBD,QAAQC,aAA7B;AACA,eAAOD,QAAQC,aAAf;AACD;AACD3B,cAAQ4B,kBAAR,CAA2B,KAAKzB,IAAhC,EAAsCuB,OAAtC,EAA+C,IAA/C;AACA;AACA,UAAI,CAAC,KAAKvB,IAAL,CAAUE,oBAAUC,SAAV,CAAoBO,OAA9B,CAAD,IAA2C,CAACa,QAAQrB,oBAAUC,SAAV,CAAoBO,OAA5B,CAAhD,EAAsF;AACpFa,gBAAQb,OAAR,GAAkB,YAAlB;AACD;;AAEDb,cAAQ6B,cAAR,CAAuBH,OAAvB,EAAgC,KAAKvB,IAArC;AACA,UAAM2B,OAAO,IAAb;;AAEA,aAAO,IAAIC,kBAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,YAAMC,UAAUJ,KAAK3B,IAAL,CAAUE,oBAAUC,SAAV,CAAoB4B,OAA9B,KAA0C,KAA1D;AACA;AACA,YAAIJ,KAAK3B,IAAL,CAAUE,oBAAUC,SAAV,CAAoB6B,UAA9B,MAA8C9B,oBAAU+B,iBAA5D,EAA+E;AAC7E;AACA,cAAIN,KAAK1B,IAAL,IAAa,IAAjB,EAAuB;AACrB0B,iBAAK1B,IAAL,GAAYJ,QAAQqC,WAAR,CAAoBP,KAAK3B,IAAzB,CAAZ;AACD;AACD2B,eAAKQ,QAAL,GAAgBtC,QAAQuC,cAAR,CAAuBT,KAAK3B,IAA5B,CAAhB;AACA,cAAIqC,MAAMxC,QAAQyC,UAAR,CAAmBX,KAAK1B,IAAxB,CAAV;;AAEA,cAAMsC,WAAWZ,KAAKa,OAAL,CAAab,KAAKQ,QAAlB,CAAjB;AACA,cAAIM,gBAAgBd,KAAK1B,IAAL,CAAUC,oBAAUC,SAAV,CAAoBC,MAA9B,CAApB;;AAEA,cAAIsC,aAAaC,qBACdC,IADc,CACTP,GADS,EAEdQ,IAFc,CAETN,QAFS,EAGdO,GAHc,CAGV,eAHU,EAGOL,aAHP,EAIdV,OAJc,CAINA,OAJM,CAAjB;;AAMA,eAAK,IAAIgB,GAAT,IAAgBpB,KAAKH,aAArB,EAAoC;AAClCkB,uBAAWI,GAAX,CAAeC,GAAf,EAAoBpB,KAAKH,aAAL,CAAmBuB,GAAnB,CAApB;AACD;AACDL,qBAAWM,GAAX,CAAe,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAChC,gBAAID,OAAO,CAACC,IAAIC,EAAhB,EAAoB;AAClB;AACA9C,sBAAQ+C,KAAR,CAAcH,GAAd;AACAnB,qBAAOmB,GAAP;AACD,aAJD,MAIO,IAAIC,GAAJ,EAAS;AACdrB,sBAAQqB,IAAIG,IAAJ,IAAYH,IAAII,IAAxB;AACD;AACF,WARD;AASD,SA7BD,MA6BO;AACL;AACAjD,kBAAQ+C,KAAR,CAAclD,oBAAUqD,WAAxB;AACD;AACF,OApCM,CAAP;AAqCD;;;;;;kBAGYxD,a","file":"OrsIsochrones.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import request from 'superagent'\nimport Promise from 'bluebird'\nimport OrsUtil from './OrsUtil'\nimport Constants from './constants'\n\nconst orsUtil = new OrsUtil()\n\nclass OrsIsochrones {\n  constructor(args) {\n    this.meta = null\n    this.args = {}\n    if (Constants.propNames.apiKey in args) {\n      this.args[Constants.propNames.apiKey] = args[Constants.propNames.apiKey]\n    } else {\n      // eslint-disable-next-line no-console\n      console.log(Constants.missingAPIKeyMsg)\n      throw new Error(Constants.missingAPIKeyMsg)\n    }\n\n    if (Constants.propNames.host in args) {\n      this.args[Constants.propNames.host] = args[Constants.propNames.host]\n    }\n    if (Constants.propNames.service in args) {\n      this.args[Constants.propNames.service] = args[Constants.propNames.service]\n    }\n  }\n\n  addLocation(latlon) {\n    if (!('locations' in this.args)) {\n      this.args.locations = []\n    }\n    this.args.locations.push(latlon)\n  }\n\n  getBody(args) {\n    let options = {}\n\n    if (args.restrictions) {\n      options.profile_params = {\n        restrictions: {\n          ...args.restrictions\n        }\n      }\n      delete args.restrictions\n    }\n    if (args.avoidables) {\n      options.avoid_features = [...args.avoidables]\n      delete args.avoidables\n    }\n\n    if (args.avoid_polygons) {\n      options.avoid_polygons = {\n        ...args.avoid_polygons\n      }\n      delete args.avoid_polygons\n    }\n\n    if (Object.keys(options).length > 0) {\n      return {\n        ...args,\n        options: options\n      }\n    } else {\n      return {\n        ...args\n      }\n    }\n  }\n\n  calculate(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs, true)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      reqArgs.service = 'isochrones'\n    }\n\n    orsUtil.copyProperties(reqArgs, this.args)\n    const that = this\n\n    return new Promise(function(resolve, reject) {\n      const timeout = that.args[Constants.propNames.timeout] || 10000\n      // eslint-disable-next-line prettier/prettier\n      if (that.args[Constants.propNames.apiVersion] === Constants.defaultAPIVersion) {\n        // meta should be generated once that subsequent requests work\n        if (that.meta == null) {\n          that.meta = orsUtil.prepareMeta(that.args)\n        }\n        that.httpArgs = orsUtil.prepareRequest(that.args)\n        let url = orsUtil.prepareUrl(that.meta)\n\n        const postBody = that.getBody(that.httpArgs)\n        let authorization = that.meta[Constants.propNames.apiKey]\n\n        let orsRequest = request\n          .post(url)\n          .send(postBody)\n          .set('Authorization', authorization)\n          .timeout(timeout)\n\n        for (let key in that.customHeaders) {\n          orsRequest.set(key, that.customHeaders[key])\n        }\n        orsRequest.end(function(err, res) {\n          if (err || !res.ok) {\n            // eslint-disable-next-line no-console\n            console.error(err)\n            reject(err)\n          } else if (res) {\n            resolve(res.body || res.text)\n          }\n        })\n      } else {\n        // eslint-disable-next-line no-console\n        console.error(Constants.useAPIV2Msg)\n      }\n    })\n  }\n}\n\nexport default OrsIsochrones\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"f5bd87e35f7d3d7f7eab097e3bf1bd752cba6eb7","contentHash":"be9d19ddf9024058b0d0978e29d9379d330b9490f5c238234d7ec47ec42f48b7"},"/home/amon/apps/openrouteservice-js/spec/OrsMatrixSpec.js":{"path":"/home/amon/apps/openrouteservice-js/spec/OrsMatrixSpec.js","statementMap":{"0":{"start":{"line":3,"column":17},"end":{"line":3,"column":44}},"1":{"start":{"line":5,"column":18},"end":{"line":5,"column":52}},"2":{"start":{"line":7,"column":17},"end":{"line":7,"column":44}},"3":{"start":{"line":9,"column":18},"end":{"line":9,"column":52}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":25,"column":3}},"6":{"start":{"line":15,"column":2},"end":{"line":24,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":23,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":19,"column":66}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":36}},"10":{"start":{"line":20,"column":6},"end":{"line":20,"column":13}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":54}},"12":{"start":{"line":27,"column":16},"end":{"line":27,"column":72}},"13":{"start":{"line":29,"column":0},"end":{"line":44,"column":3}},"14":{"start":{"line":30,"column":2},"end":{"line":43,"column":5}},"15":{"start":{"line":31,"column":4},"end":{"line":42,"column":7}},"16":{"start":{"line":37,"column":6},"end":{"line":37,"column":47}},"17":{"start":{"line":38,"column":6},"end":{"line":38,"column":50}},"18":{"start":{"line":39,"column":6},"end":{"line":39,"column":13}},"19":{"start":{"line":41,"column":6},"end":{"line":41,"column":42}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":38},"end":{"line":14,"column":39}},"loc":{"start":{"line":14,"column":50},"end":{"line":25,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":40},"end":{"line":15,"column":41}},"loc":{"start":{"line":15,"column":56},"end":{"line":24,"column":3}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":14}},"loc":{"start":{"line":17,"column":25},"end":{"line":19,"column":7}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":24},"end":{"line":29,"column":25}},"loc":{"start":{"line":29,"column":36},"end":{"line":44,"column":1}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":20},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":36},"end":{"line":43,"column":3}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":36,"column":12},"end":{"line":36,"column":13}},"loc":{"start":{"line":36,"column":28},"end":{"line":40,"column":5}},"line":36},"7":{"name":"(anonymous_7)","decl":{"start":{"line":40,"column":13},"end":{"line":40,"column":14}},"loc":{"start":{"line":40,"column":29},"end":{"line":42,"column":5}},"line":40}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0},"f":{"0":2,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["OrsMatrixSpec.js"],"names":["describe","it","done","expect","OrsMatrix","toThrow","Error","Constants","missingAPIKeyMsg","error","fail","orsMatrix","api_key","process","env","ORSKEY","calculate","locations","profile","sources","destinations","then","json","durations","length","toEqual","catch"],"mappings":";;AACA;;;;AACA;;;;;;AAFA;AAIAA,SAAS,2BAAT,EAAsC,YAAW;AAC/CC,KAAG,iCAAH,EAAsC,UAASC,IAAT,EAAe;AACnD,QAAI;AACFC,aAAO,YAAW;AAChB,YAAIC,mBAAJ,CAAc,EAAd;AACD,OAFD,EAEGC,OAFH,CAEW,IAAIC,KAAJ,CAAUC,oBAAUC,gBAApB,CAFX;AAGAN;AACD,KALD,CAKE,OAAOO,KAAP,EAAc;AACdP,WAAKQ,IAAL,CAAU,+BAA+BD,KAAzC;AACD;AACF,GATD;AAUD,CAXD;;AAaA,IAAME,YAAY,IAAIP,mBAAJ,CAAc,EAAEQ,SAASC,QAAQC,GAAR,CAAYC,MAAvB,EAAd,CAAlB;;AAEAf,SAAS,aAAT,EAAwB,YAAW;AACjCC,KAAG,aAAH,EAAkB,UAASC,IAAT,EAAe;AAC/BS,cACGK,SADH,CACa;AACTC,iBAAW,CACT,CAAC,QAAD,EAAW,SAAX,CADS,EAET,CAAC,QAAD,EAAW,SAAX,CAFS,EAGT,CAAC,QAAD,EAAW,SAAX,CAHS,CADF;AAMTC,eAAS,aANA;AAOTC,eAAS,CAAC,KAAD,CAPA;AAQTC,oBAAc,CAAC,KAAD;AARL,KADb,EAWGC,IAXH,CAWQ,UAASC,IAAT,EAAe;AACnBnB,aAAOmB,KAAKC,SAAL,CAAeC,MAAtB,EAA8BC,OAA9B,CAAsC,CAAtC;AACAtB,aAAOmB,KAAKF,YAAL,CAAkBI,MAAzB,EAAiCC,OAAjC,CAAyC,CAAzC;AACAvB;AACD,KAfH,EAgBGwB,KAhBH,CAgBS,UAASJ,IAAT,EAAe;AACpBpB,WAAKQ,IAAL,CAAU,oBAAoBY,IAA9B;AACD,KAlBH;AAmBD,GApBD;AAqBD,CAtBD","file":"OrsMatrixSpec.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["/* eslint-disable no-undef */\nimport OrsMatrix from '../src/OrsMatrix'\nimport Constants from '../src/constants'\n\ndescribe('No api key OrsMatrix Test', function() {\n  it('Instantiate with no key results', function(done) {\n    try {\n      expect(function() {\n        new OrsMatrix({})\n      }).toThrow(new Error(Constants.missingAPIKeyMsg))\n      done()\n    } catch (error) {\n      done.fail('No api key OrsMatrix Test ' + error)\n    }\n  })\n})\n\nconst orsMatrix = new OrsMatrix({ api_key: process.env.ORSKEY })\n\ndescribe('Matrix Test', function() {\n  it('Get results', function(done) {\n    orsMatrix\n      .calculate({\n        locations: [\n          [8.690958, 49.404662],\n          [8.687868, 49.390139],\n          [8.687868, 49.390133]\n        ],\n        profile: 'driving-car',\n        sources: ['all'],\n        destinations: ['all']\n      })\n      .then(function(json) {\n        expect(json.durations.length).toEqual(3)\n        expect(json.destinations.length).toEqual(3)\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json)\n      })\n  })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"aa51de89331834f46ae710f8483a84bc6c88b21c","contentHash":"4bb74add5e23852326a9f899596df4e84f1b83db726a04dc096f7e7e7a0c252d"},"/home/amon/apps/openrouteservice-js/src/OrsMatrix.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsMatrix.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":18},"end":{"line":9,"column":39}},"17":{"start":{"line":11,"column":19},"end":{"line":11,"column":54}},"18":{"start":{"line":13,"column":16},"end":{"line":13,"column":35}},"19":{"start":{"line":15,"column":17},"end":{"line":15,"column":50}},"20":{"start":{"line":17,"column":15},"end":{"line":17,"column":35}},"21":{"start":{"line":19,"column":16},"end":{"line":19,"column":48}},"22":{"start":{"line":21,"column":17},"end":{"line":21,"column":39}},"23":{"start":{"line":23,"column":18},"end":{"line":23,"column":52}},"24":{"start":{"line":25,"column":39},"end":{"line":25,"column":93}},"25":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"26":{"start":{"line":27,"column":92},"end":{"line":27,"column":149}},"27":{"start":{"line":29,"column":14},"end":{"line":29,"column":37}},"28":{"start":{"line":31,"column":16},"end":{"line":100,"column":3}},"29":{"start":{"line":33,"column":4},"end":{"line":33,"column":37}},"30":{"start":{"line":35,"column":4},"end":{"line":35,"column":21}},"31":{"start":{"line":36,"column":4},"end":{"line":36,"column":19}},"32":{"start":{"line":37,"column":4},"end":{"line":43,"column":5}},"33":{"start":{"line":38,"column":6},"end":{"line":38,"column":99}},"34":{"start":{"line":41,"column":6},"end":{"line":41,"column":56}},"35":{"start":{"line":42,"column":6},"end":{"line":42,"column":60}},"36":{"start":{"line":46,"column":2},"end":{"line":97,"column":6}},"37":{"start":{"line":50,"column":6},"end":{"line":50,"column":30}},"38":{"start":{"line":51,"column":6},"end":{"line":54,"column":7}},"39":{"start":{"line":52,"column":8},"end":{"line":52,"column":51}},"40":{"start":{"line":53,"column":8},"end":{"line":53,"column":37}},"41":{"start":{"line":55,"column":6},"end":{"line":55,"column":59}},"42":{"start":{"line":57,"column":6},"end":{"line":59,"column":7}},"43":{"start":{"line":58,"column":8},"end":{"line":58,"column":68}},"44":{"start":{"line":61,"column":6},"end":{"line":61,"column":49}},"45":{"start":{"line":62,"column":17},"end":{"line":62,"column":21}},"46":{"start":{"line":64,"column":6},"end":{"line":95,"column":9}},"47":{"start":{"line":65,"column":22},"end":{"line":65,"column":79}},"48":{"start":{"line":68,"column":8},"end":{"line":94,"column":9}},"49":{"start":{"line":69,"column":10},"end":{"line":71,"column":11}},"50":{"start":{"line":70,"column":12},"end":{"line":70,"column":55}},"51":{"start":{"line":72,"column":10},"end":{"line":72,"column":60}},"52":{"start":{"line":74,"column":20},"end":{"line":74,"column":49}},"53":{"start":{"line":75,"column":30},"end":{"line":75,"column":77}},"54":{"start":{"line":77,"column":27},"end":{"line":77,"column":130}},"55":{"start":{"line":79,"column":10},"end":{"line":81,"column":11}},"56":{"start":{"line":80,"column":12},"end":{"line":80,"column":57}},"57":{"start":{"line":82,"column":10},"end":{"line":90,"column":13}},"58":{"start":{"line":83,"column":12},"end":{"line":89,"column":13}},"59":{"start":{"line":85,"column":14},"end":{"line":85,"column":33}},"60":{"start":{"line":86,"column":14},"end":{"line":86,"column":26}},"61":{"start":{"line":87,"column":19},"end":{"line":89,"column":13}},"62":{"start":{"line":88,"column":14},"end":{"line":88,"column":44}},"63":{"start":{"line":93,"column":10},"end":{"line":93,"column":57}},"64":{"start":{"line":99,"column":2},"end":{"line":99,"column":19}},"65":{"start":{"line":102,"column":0},"end":{"line":102,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":31}},"loc":{"start":{"line":25,"column":37},"end":{"line":25,"column":95}},"line":25},"4":{"name":"_classCallCheck","decl":{"start":{"line":27,"column":9},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":153}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":16},"end":{"line":31,"column":17}},"loc":{"start":{"line":31,"column":28},"end":{"line":100,"column":1}},"line":31},"6":{"name":"OrsMatrix","decl":{"start":{"line":32,"column":11},"end":{"line":32,"column":20}},"loc":{"start":{"line":32,"column":27},"end":{"line":44,"column":3}},"line":32},"7":{"name":"calculate","decl":{"start":{"line":48,"column":20},"end":{"line":48,"column":29}},"loc":{"start":{"line":48,"column":39},"end":{"line":96,"column":5}},"line":48},"8":{"name":"(anonymous_8)","decl":{"start":{"line":64,"column":36},"end":{"line":64,"column":37}},"loc":{"start":{"line":64,"column":63},"end":{"line":95,"column":7}},"line":64},"9":{"name":"(anonymous_9)","decl":{"start":{"line":82,"column":25},"end":{"line":82,"column":26}},"loc":{"start":{"line":82,"column":45},"end":{"line":90,"column":11}},"line":82}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":92}},"type":"cond-expr","locations":[{"start":{"line":25,"column":70},"end":{"line":25,"column":73}},{"start":{"line":25,"column":76},"end":{"line":25,"column":92}}],"line":25},"5":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":67}},"type":"binary-expr","locations":[{"start":{"line":25,"column":46},"end":{"line":25,"column":49}},{"start":{"line":25,"column":53},"end":{"line":25,"column":67}}],"line":25},"6":{"loc":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"type":"if","locations":[{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},{"start":{"line":27,"column":50},"end":{"line":27,"column":151}}],"line":27},"7":{"loc":{"start":{"line":37,"column":4},"end":{"line":43,"column":5}},"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":43,"column":5}},{"start":{"line":37,"column":4},"end":{"line":43,"column":5}}],"line":37},"8":{"loc":{"start":{"line":51,"column":6},"end":{"line":54,"column":7}},"type":"if","locations":[{"start":{"line":51,"column":6},"end":{"line":54,"column":7}},{"start":{"line":51,"column":6},"end":{"line":54,"column":7}}],"line":51},"9":{"loc":{"start":{"line":57,"column":6},"end":{"line":59,"column":7}},"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":59,"column":7}},{"start":{"line":57,"column":6},"end":{"line":59,"column":7}}],"line":57},"10":{"loc":{"start":{"line":57,"column":10},"end":{"line":57,"column":110}},"type":"binary-expr","locations":[{"start":{"line":57,"column":10},"end":{"line":57,"column":59}},{"start":{"line":57,"column":63},"end":{"line":57,"column":110}}],"line":57},"11":{"loc":{"start":{"line":65,"column":22},"end":{"line":65,"column":79}},"type":"binary-expr","locations":[{"start":{"line":65,"column":22},"end":{"line":65,"column":70}},{"start":{"line":65,"column":74},"end":{"line":65,"column":79}}],"line":65},"12":{"loc":{"start":{"line":68,"column":8},"end":{"line":94,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":94,"column":9}},{"start":{"line":68,"column":8},"end":{"line":94,"column":9}}],"line":68},"13":{"loc":{"start":{"line":69,"column":10},"end":{"line":71,"column":11}},"type":"if","locations":[{"start":{"line":69,"column":10},"end":{"line":71,"column":11}},{"start":{"line":69,"column":10},"end":{"line":71,"column":11}}],"line":69},"14":{"loc":{"start":{"line":83,"column":12},"end":{"line":89,"column":13}},"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":89,"column":13}},{"start":{"line":83,"column":12},"end":{"line":89,"column":13}}],"line":83},"15":{"loc":{"start":{"line":83,"column":16},"end":{"line":83,"column":30}},"type":"binary-expr","locations":[{"start":{"line":83,"column":16},"end":{"line":83,"column":19}},{"start":{"line":83,"column":23},"end":{"line":83,"column":30}}],"line":83},"16":{"loc":{"start":{"line":87,"column":19},"end":{"line":89,"column":13}},"type":"if","locations":[{"start":{"line":87,"column":19},"end":{"line":89,"column":13}},{"start":{"line":87,"column":19},"end":{"line":89,"column":13}}],"line":87},"17":{"loc":{"start":{"line":88,"column":22},"end":{"line":88,"column":42}},"type":"binary-expr","locations":[{"start":{"line":88,"column":22},"end":{"line":88,"column":30}},{"start":{"line":88,"column":34},"end":{"line":88,"column":42}}],"line":88}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":4,"25":2,"26":0,"27":1,"28":1,"29":2,"30":2,"31":2,"32":2,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":0,"40":0,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":0,"57":1,"58":1,"59":0,"60":0,"61":1,"62":1,"63":0,"64":1,"65":1},"f":{"0":1,"1":1,"2":1,"3":4,"4":2,"5":1,"6":2,"7":1,"8":1,"9":1},"b":{"0":[1,1],"1":[1,0],"2":[1,0],"3":[0,1],"4":[2,2],"5":[4,4],"6":[0,2],"7":[1,1],"8":[0,1],"9":[1,0],"10":[1,1],"11":[1,1],"12":[1,0],"13":[1,0],"14":[0,1],"15":[1,1],"16":[1,0],"17":[1,0]},"inputSourceMap":{"version":3,"sources":["OrsMatrix.js"],"names":["orsUtil","OrsUtil","OrsMatrix","args","meta","Constants","propNames","apiKey","console","log","missingAPIKeyMsg","Error","reqArgs","customHeaders","setRequestDefaults","service","copyProperties","that","Promise","resolve","reject","timeout","apiVersion","defaultAPIVersion","prepareMeta","httpArgs","prepareRequest","url","prepareUrl","authorization","orsRequest","request","post","send","set","key","end","err","res","ok","error","body","text","useAPIV2Msg"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMA,UAAU,IAAIC,iBAAJ,EAAhB;;IAEMC,S;AACJ,qBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKD,IAAL,GAAY,EAAZ;AACA,QAAIE,oBAAUC,SAAV,CAAoBC,MAApB,IAA8BJ,IAAlC,EAAwC;AACtC,WAAKA,IAAL,CAAUE,oBAAUC,SAAV,CAAoBC,MAA9B,IAAwCJ,KAAKE,oBAAUC,SAAV,CAAoBC,MAAzB,CAAxC;AACD,KAFD,MAEO;AACL;AACAC,cAAQC,GAAR,CAAYJ,oBAAUK,gBAAtB;AACA,YAAM,IAAIC,KAAJ,CAAUN,oBAAUK,gBAApB,CAAN;AACD;AACF;;;;8BAESE,O,EAAS;AACjB;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA,UAAID,QAAQC,aAAZ,EAA2B;AACzB,aAAKA,aAAL,GAAqBD,QAAQC,aAA7B;AACA,eAAOD,QAAQC,aAAf;AACD;AACDb,cAAQc,kBAAR,CAA2B,KAAKX,IAAhC,EAAsCS,OAAtC,EAA+C,IAA/C;AACA;AACA,UAAI,CAAC,KAAKT,IAAL,CAAUE,oBAAUC,SAAV,CAAoBS,OAA9B,CAAD,IAA2C,CAACH,QAAQP,oBAAUC,SAAV,CAAoBS,OAA5B,CAAhD,EAAsF;AACpF,aAAKZ,IAAL,CAAUE,oBAAUC,SAAV,CAAoBS,OAA9B,IAAyC,QAAzC;AACD;;AAEDf,cAAQgB,cAAR,CAAuBJ,OAAvB,EAAgC,KAAKT,IAArC;AACA,UAAMc,OAAO,IAAb;;AAEA,aAAO,IAAIC,kBAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,YAAMC,UAAUJ,KAAKd,IAAL,CAAUE,oBAAUC,SAAV,CAAoBe,OAA9B,KAA0C,KAA1D;;AAEA;AACA,YAAIJ,KAAKd,IAAL,CAAUE,oBAAUC,SAAV,CAAoBgB,UAA9B,MAA8CjB,oBAAUkB,iBAA5D,EAA+E;AAC7E,cAAIN,KAAKb,IAAL,IAAa,IAAjB,EAAuB;AACrBa,iBAAKb,IAAL,GAAYJ,QAAQwB,WAAR,CAAoBP,KAAKd,IAAzB,CAAZ;AACD;AACDc,eAAKQ,QAAL,GAAgBzB,QAAQ0B,cAAR,CAAuBT,KAAKd,IAA5B,CAAhB;;AAEA,cAAIwB,MAAM3B,QAAQ4B,UAAR,CAAmBX,KAAKb,IAAxB,CAAV;AACA,cAAIyB,gBAAgBZ,KAAKb,IAAL,CAAUC,oBAAUC,SAAV,CAAoBC,MAA9B,CAApB;;AAEA,cAAIuB,aAAaC,qBACdC,IADc,CACTL,GADS,EAEdM,IAFc,CAEThB,KAAKQ,QAFI,EAGdS,GAHc,CAGV,eAHU,EAGOL,aAHP,EAIdR,OAJc,CAINA,OAJM,CAAjB;;AAMA,eAAK,IAAIc,GAAT,IAAgBlB,KAAKJ,aAArB,EAAoC;AAClCiB,uBAAWI,GAAX,CAAeC,GAAf,EAAoBlB,KAAKJ,aAAL,CAAmBsB,GAAnB,CAApB;AACD;AACDL,qBAAWM,GAAX,CAAe,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAChC,gBAAID,OAAO,CAACC,IAAIC,EAAhB,EAAoB;AAClB;AACA/B,sBAAQgC,KAAR,CAAcH,GAAd;AACAjB,qBAAOiB,GAAP;AACD,aAJD,MAIO,IAAIC,GAAJ,EAAS;AACdnB,sBAAQmB,IAAIG,IAAJ,IAAYH,IAAII,IAAxB;AACD;AACF,WARD;AASD,SA3BD,MA2BO;AACL;AACAlC,kBAAQgC,KAAR,CAAcnC,oBAAUsC,WAAxB;AACD;AACF,OAnCM,CAAP;AAoCD;;;;;;kBAGYzC,S","file":"OrsMatrix.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import request from 'superagent'\nimport Promise from 'bluebird'\nimport OrsUtil from './OrsUtil'\nimport Constants from './constants'\n\nconst orsUtil = new OrsUtil()\n\nclass OrsMatrix {\n  constructor(args) {\n    this.meta = null\n    this.args = {}\n    if (Constants.propNames.apiKey in args) {\n      this.args[Constants.propNames.apiKey] = args[Constants.propNames.apiKey]\n    } else {\n      // eslint-disable-next-line no-console\n      console.log(Constants.missingAPIKeyMsg)\n      throw new Error(Constants.missingAPIKeyMsg)\n    }\n  }\n\n  calculate(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs, true)\n    // eslint-disable-next-line prettier/prettier\n    if (!this.args[Constants.propNames.service] && !reqArgs[Constants.propNames.service]) {\n      this.args[Constants.propNames.service] = 'matrix'\n    }\n\n    orsUtil.copyProperties(reqArgs, this.args)\n    const that = this\n\n    return new Promise(function(resolve, reject) {\n      const timeout = that.args[Constants.propNames.timeout] || 10000\n\n      // eslint-disable-next-line prettier/prettier\n      if (that.args[Constants.propNames.apiVersion] === Constants.defaultAPIVersion) {\n        if (that.meta == null) {\n          that.meta = orsUtil.prepareMeta(that.args)\n        }\n        that.httpArgs = orsUtil.prepareRequest(that.args)\n\n        let url = orsUtil.prepareUrl(that.meta)\n        let authorization = that.meta[Constants.propNames.apiKey]\n\n        let orsRequest = request\n          .post(url)\n          .send(that.httpArgs)\n          .set('Authorization', authorization)\n          .timeout(timeout)\n\n        for (let key in that.customHeaders) {\n          orsRequest.set(key, that.customHeaders[key])\n        }\n        orsRequest.end(function(err, res) {\n          if (err || !res.ok) {\n            // eslint-disable-next-line no-console\n            console.error(err)\n            reject(err)\n          } else if (res) {\n            resolve(res.body || res.text)\n          }\n        })\n      } else {\n        // eslint-disable-next-line no-console\n        console.error(Constants.useAPIV2Msg)\n      }\n    })\n  }\n}\n\nexport default OrsMatrix\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"bed2d6c84c7ab154711de7d2fa03864de298dc77","contentHash":"3e6852a495c0f022fb0f527dff8178084f03ad2ec88d8b29709115a6bcd9ecaf"},"/home/amon/apps/openrouteservice-js/spec/OrsPOIsSpec.js":{"path":"/home/amon/apps/openrouteservice-js/spec/OrsPOIsSpec.js","statementMap":{"0":{"start":{"line":3,"column":15},"end":{"line":3,"column":40}},"1":{"start":{"line":5,"column":16},"end":{"line":5,"column":48}},"2":{"start":{"line":7,"column":17},"end":{"line":7,"column":44}},"3":{"start":{"line":9,"column":18},"end":{"line":9,"column":52}},"4":{"start":{"line":11,"column":39},"end":{"line":11,"column":93}},"5":{"start":{"line":14,"column":0},"end":{"line":25,"column":3}},"6":{"start":{"line":15,"column":2},"end":{"line":24,"column":5}},"7":{"start":{"line":16,"column":4},"end":{"line":23,"column":5}},"8":{"start":{"line":17,"column":6},"end":{"line":19,"column":66}},"9":{"start":{"line":18,"column":8},"end":{"line":18,"column":34}},"10":{"start":{"line":20,"column":6},"end":{"line":20,"column":13}},"11":{"start":{"line":22,"column":6},"end":{"line":22,"column":52}},"12":{"start":{"line":27,"column":14},"end":{"line":27,"column":68}},"13":{"start":{"line":29,"column":0},"end":{"line":50,"column":3}},"14":{"start":{"line":30,"column":2},"end":{"line":49,"column":5}},"15":{"start":{"line":31,"column":4},"end":{"line":48,"column":7}},"16":{"start":{"line":41,"column":6},"end":{"line":41,"column":57}},"17":{"start":{"line":42,"column":6},"end":{"line":42,"column":56}},"18":{"start":{"line":43,"column":6},"end":{"line":43,"column":58}},"19":{"start":{"line":44,"column":6},"end":{"line":44,"column":65}},"20":{"start":{"line":45,"column":6},"end":{"line":45,"column":13}},"21":{"start":{"line":47,"column":6},"end":{"line":47,"column":42}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":95}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":36},"end":{"line":14,"column":37}},"loc":{"start":{"line":14,"column":48},"end":{"line":25,"column":1}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":40},"end":{"line":15,"column":41}},"loc":{"start":{"line":15,"column":56},"end":{"line":24,"column":3}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":13},"end":{"line":17,"column":14}},"loc":{"start":{"line":17,"column":25},"end":{"line":19,"column":7}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":29,"column":21},"end":{"line":29,"column":22}},"loc":{"start":{"line":29,"column":33},"end":{"line":50,"column":1}},"line":29},"5":{"name":"(anonymous_5)","decl":{"start":{"line":30,"column":20},"end":{"line":30,"column":21}},"loc":{"start":{"line":30,"column":36},"end":{"line":49,"column":3}},"line":30},"6":{"name":"(anonymous_6)","decl":{"start":{"line":40,"column":12},"end":{"line":40,"column":13}},"loc":{"start":{"line":40,"column":28},"end":{"line":46,"column":5}},"line":40},"7":{"name":"(anonymous_7)","decl":{"start":{"line":46,"column":13},"end":{"line":46,"column":14}},"loc":{"start":{"line":46,"column":29},"end":{"line":48,"column":5}},"line":46}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":92}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":92}}],"line":11},"1":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":0},"f":{"0":2,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0},"b":{"0":[2,0],"1":[2,2]},"inputSourceMap":{"version":3,"sources":["OrsPOIsSpec.js"],"names":["describe","it","done","expect","OrsPois","toThrow","Error","Constants","missingAPIKeyMsg","error","fail","orsPois","api_key","process","env","ORSKEY","pois","geometry","bbox","geojson","type","coordinates","buffer","then","json","features","length","toBeGreaterThan","toEqual","catch"],"mappings":";;AACA;;;;AACA;;;;;;AAFA;AAIAA,SAAS,yBAAT,EAAoC,YAAW;AAC7CC,KAAG,iCAAH,EAAsC,UAASC,IAAT,EAAe;AACnD,QAAI;AACFC,aAAO,YAAW;AAChB,YAAIC,iBAAJ,CAAY,EAAZ;AACD,OAFD,EAEGC,OAFH,CAEW,IAAIC,KAAJ,CAAUC,oBAAUC,gBAApB,CAFX;AAGAN;AACD,KALD,CAKE,OAAOO,KAAP,EAAc;AACdP,WAAKQ,IAAL,CAAU,6BAA6BD,KAAvC;AACD;AACF,GATD;AAUD,CAXD;;AAaA,IAAME,UAAU,IAAIP,iBAAJ,CAAY,EAAEQ,SAASC,QAAQC,GAAR,CAAYC,MAAvB,EAAZ,CAAhB;;AAEAf,SAAS,UAAT,EAAqB,YAAW;AAC9BC,KAAG,aAAH,EAAkB,UAASC,IAAT,EAAe;AAC/BS,YACGK,IADH,CACQ;AACJC,gBAAU;AACRC,cAAM,CACJ,CAAC,MAAD,EAAS,OAAT,CADI,EAEJ,CAAC,MAAD,EAAS,OAAT,CAFI,CADE;AAKRC,iBAAQ;AACNC,gBAAM,OADA;AAENC,uBAAa,CAAC,MAAD,EAAS,OAAT;AAFP,SALA;AASRC,gBAAQ;AATA;AADN,KADR,EAcGC,IAdH,CAcQ,UAASC,IAAT,EAAe;AACnBrB,aAAOqB,KAAK,CAAL,EAAQC,QAAR,CAAiBC,MAAxB,EAAgCC,eAAhC,CAAgD,CAAhD;AACAxB,aAAOqB,KAAK,CAAL,EAAQJ,IAAf,EAAqBQ,OAArB,CAA6B,mBAA7B;AACAzB,aAAOqB,KAAK,CAAL,EAAQC,QAAR,CAAiB,CAAjB,EAAoBL,IAA3B,EAAiCQ,OAAjC,CAAyC,SAAzC;AACAzB,aAAOqB,KAAK,CAAL,EAAQC,QAAR,CAAiB,CAAjB,EAAoBR,QAApB,CAA6BG,IAApC,EAA0CQ,OAA1C,CAAkD,OAAlD;AACA1B;AACD,KApBH,EAqBG2B,KArBH,CAqBS,UAASL,IAAT,EAAe;AACpBtB,WAAKQ,IAAL,CAAU,oBAAoBc,IAA9B;AACD,KAvBH;AAwBD,GAzBD;AA0BD,CA3BD","file":"OrsPOIsSpec.js","sourceRoot":"/home/amon/apps/openrouteservice-js/spec","sourcesContent":["/* eslint-disable no-undef */\nimport OrsPois from '../src/OrsPois'\nimport Constants from '../src/constants'\n\ndescribe('No api key OrsPois Test', function() {\n  it('Instantiate with no key results', function(done) {\n    try {\n      expect(function() {\n        new OrsPois({})\n      }).toThrow(new Error(Constants.missingAPIKeyMsg))\n      done()\n    } catch (error) {\n      done.fail('No api key OrsPois Test ' + error)\n    }\n  })\n})\n\nconst orsPois = new OrsPois({ api_key: process.env.ORSKEY })\n\ndescribe('POI Test', function() {\n  it('Get results', function(done) {\n    orsPois\n      .pois({\n        geometry: {\n          bbox: [\n            [8.8034, 53.0756],\n            [8.7834, 53.0456]\n          ],\n          geojson:{\n            type: 'Point',\n            coordinates: [8.8034, 53.0756]\n          },\n          buffer: 250\n        }\n      })\n      .then(function(json) {\n        expect(json[0].features.length).toBeGreaterThan(2)\n        expect(json[0].type).toEqual('FeatureCollection')\n        expect(json[0].features[0].type).toEqual('Feature')\n        expect(json[0].features[0].geometry.type).toEqual('Point')\n        done()\n      })\n      .catch(function(json) {\n        done.fail('Should not fail' + json)\n      })\n  })\n})\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ede71149b50cdee55fe97c4f13c00a8e65bbdbc","contentHash":"0eb4f9be4be54232792cf4fdc15648624dbadcba546765af8e0cc41e60b728a5"},"/home/amon/apps/openrouteservice-js/src/OrsPois.js":{"path":"/home/amon/apps/openrouteservice-js/src/OrsPois.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":7,"column":19},"end":{"line":7,"column":563}},"2":{"start":{"line":7,"column":76},"end":{"line":7,"column":347}},"3":{"start":{"line":7,"column":89},"end":{"line":7,"column":90}},"4":{"start":{"line":7,"column":134},"end":{"line":7,"column":142}},"5":{"start":{"line":7,"column":144},"end":{"line":7,"column":199}},"6":{"start":{"line":7,"column":200},"end":{"line":7,"column":231}},"7":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"8":{"start":{"line":7,"column":259},"end":{"line":7,"column":286}},"9":{"start":{"line":7,"column":287},"end":{"line":7,"column":345}},"10":{"start":{"line":7,"column":350},"end":{"line":7,"column":559}},"11":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"12":{"start":{"line":7,"column":423},"end":{"line":7,"column":475}},"13":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"14":{"start":{"line":7,"column":493},"end":{"line":7,"column":536}},"15":{"start":{"line":7,"column":537},"end":{"line":7,"column":556}},"16":{"start":{"line":9,"column":18},"end":{"line":9,"column":39}},"17":{"start":{"line":11,"column":19},"end":{"line":11,"column":54}},"18":{"start":{"line":13,"column":16},"end":{"line":13,"column":35}},"19":{"start":{"line":15,"column":17},"end":{"line":15,"column":50}},"20":{"start":{"line":17,"column":15},"end":{"line":17,"column":35}},"21":{"start":{"line":19,"column":16},"end":{"line":19,"column":48}},"22":{"start":{"line":21,"column":17},"end":{"line":21,"column":39}},"23":{"start":{"line":23,"column":18},"end":{"line":23,"column":52}},"24":{"start":{"line":25,"column":39},"end":{"line":25,"column":93}},"25":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"26":{"start":{"line":27,"column":92},"end":{"line":27,"column":149}},"27":{"start":{"line":29,"column":14},"end":{"line":29,"column":37}},"28":{"start":{"line":31,"column":14},"end":{"line":130,"column":3}},"29":{"start":{"line":33,"column":4},"end":{"line":33,"column":35}},"30":{"start":{"line":35,"column":4},"end":{"line":35,"column":19}},"31":{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},"32":{"start":{"line":37,"column":6},"end":{"line":37,"column":99}},"33":{"start":{"line":40,"column":6},"end":{"line":40,"column":58}},"34":{"start":{"line":41,"column":6},"end":{"line":41,"column":60}},"35":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"36":{"start":{"line":44,"column":6},"end":{"line":44,"column":95}},"37":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"38":{"start":{"line":47,"column":6},"end":{"line":47,"column":101}},"39":{"start":{"line":51,"column":2},"end":{"line":127,"column":6}},"40":{"start":{"line":54,"column":6},"end":{"line":56,"column":7}},"41":{"start":{"line":55,"column":8},"end":{"line":55,"column":90}},"42":{"start":{"line":55,"column":63},"end":{"line":55,"column":90}},"43":{"start":{"line":61,"column":20},"end":{"line":61,"column":22}},"44":{"start":{"line":63,"column":6},"end":{"line":69,"column":7}},"45":{"start":{"line":64,"column":8},"end":{"line":68,"column":9}},"46":{"start":{"line":65,"column":10},"end":{"line":65,"column":19}},"47":{"start":{"line":67,"column":10},"end":{"line":67,"column":35}},"48":{"start":{"line":70,"column":6},"end":{"line":70,"column":21}},"49":{"start":{"line":76,"column":6},"end":{"line":78,"column":7}},"50":{"start":{"line":77,"column":8},"end":{"line":77,"column":66}},"51":{"start":{"line":80,"column":6},"end":{"line":80,"column":54}},"52":{"start":{"line":82,"column":17},"end":{"line":82,"column":21}},"53":{"start":{"line":83,"column":6},"end":{"line":111,"column":9}},"54":{"start":{"line":84,"column":22},"end":{"line":84,"column":78}},"55":{"start":{"line":86,"column":18},"end":{"line":86,"column":47}},"56":{"start":{"line":88,"column":8},"end":{"line":88,"column":49}},"57":{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},"58":{"start":{"line":91,"column":10},"end":{"line":91,"column":66}},"59":{"start":{"line":94,"column":22},"end":{"line":94,"column":53}},"60":{"start":{"line":95,"column":28},"end":{"line":95,"column":75}},"61":{"start":{"line":97,"column":25},"end":{"line":97,"column":122}},"62":{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},"63":{"start":{"line":100,"column":10},"end":{"line":100,"column":55}},"64":{"start":{"line":102,"column":8},"end":{"line":110,"column":11}},"65":{"start":{"line":103,"column":10},"end":{"line":109,"column":11}},"66":{"start":{"line":105,"column":12},"end":{"line":105,"column":31}},"67":{"start":{"line":106,"column":12},"end":{"line":106,"column":24}},"68":{"start":{"line":107,"column":17},"end":{"line":109,"column":11}},"69":{"start":{"line":108,"column":12},"end":{"line":108,"column":42}},"70":{"start":{"line":117,"column":6},"end":{"line":117,"column":30}},"71":{"start":{"line":118,"column":6},"end":{"line":121,"column":7}},"72":{"start":{"line":119,"column":8},"end":{"line":119,"column":51}},"73":{"start":{"line":120,"column":8},"end":{"line":120,"column":37}},"74":{"start":{"line":122,"column":6},"end":{"line":122,"column":53}},"75":{"start":{"line":123,"column":6},"end":{"line":123,"column":49}},"76":{"start":{"line":125,"column":6},"end":{"line":125,"column":32}},"77":{"start":{"line":129,"column":2},"end":{"line":129,"column":17}},"78":{"start":{"line":132,"column":0},"end":{"line":132,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":19},"end":{"line":7,"column":20}},"loc":{"start":{"line":7,"column":31},"end":{"line":7,"column":561}},"line":7},"1":{"name":"defineProperties","decl":{"start":{"line":7,"column":42},"end":{"line":7,"column":58}},"loc":{"start":{"line":7,"column":74},"end":{"line":7,"column":349}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":7,"column":357},"end":{"line":7,"column":358}},"loc":{"start":{"line":7,"column":405},"end":{"line":7,"column":558}},"line":7},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":25,"column":9},"end":{"line":25,"column":31}},"loc":{"start":{"line":25,"column":37},"end":{"line":25,"column":95}},"line":25},"4":{"name":"_classCallCheck","decl":{"start":{"line":27,"column":9},"end":{"line":27,"column":24}},"loc":{"start":{"line":27,"column":48},"end":{"line":27,"column":153}},"line":27},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":14},"end":{"line":31,"column":15}},"loc":{"start":{"line":31,"column":26},"end":{"line":130,"column":1}},"line":31},"6":{"name":"OrsPois","decl":{"start":{"line":32,"column":11},"end":{"line":32,"column":18}},"loc":{"start":{"line":32,"column":25},"end":{"line":49,"column":3}},"line":32},"7":{"name":"clear","decl":{"start":{"line":53,"column":20},"end":{"line":53,"column":25}},"loc":{"start":{"line":53,"column":28},"end":{"line":57,"column":5}},"line":53},"8":{"name":"generatePayload","decl":{"start":{"line":60,"column":20},"end":{"line":60,"column":35}},"loc":{"start":{"line":60,"column":42},"end":{"line":71,"column":5}},"line":60},"9":{"name":"poisPromise","decl":{"start":{"line":74,"column":20},"end":{"line":74,"column":31}},"loc":{"start":{"line":74,"column":34},"end":{"line":112,"column":5}},"line":74},"10":{"name":"(anonymous_10)","decl":{"start":{"line":83,"column":36},"end":{"line":83,"column":37}},"loc":{"start":{"line":83,"column":63},"end":{"line":111,"column":7}},"line":83},"11":{"name":"(anonymous_11)","decl":{"start":{"line":102,"column":23},"end":{"line":102,"column":24}},"loc":{"start":{"line":102,"column":43},"end":{"line":110,"column":9}},"line":102},"12":{"name":"pois","decl":{"start":{"line":115,"column":20},"end":{"line":115,"column":24}},"loc":{"start":{"line":115,"column":34},"end":{"line":126,"column":5}},"line":115}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":168},"end":{"line":7,"column":198}},"type":"binary-expr","locations":[{"start":{"line":7,"column":168},"end":{"line":7,"column":189}},{"start":{"line":7,"column":193},"end":{"line":7,"column":198}}],"line":7},"1":{"loc":{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},"type":"if","locations":[{"start":{"line":7,"column":232},"end":{"line":7,"column":286}},{"start":{"line":7,"column":232},"end":{"line":7,"column":286}}],"line":7},"2":{"loc":{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},"type":"if","locations":[{"start":{"line":7,"column":407},"end":{"line":7,"column":475}},{"start":{"line":7,"column":407},"end":{"line":7,"column":475}}],"line":7},"3":{"loc":{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},"type":"if","locations":[{"start":{"line":7,"column":476},"end":{"line":7,"column":536}},{"start":{"line":7,"column":476},"end":{"line":7,"column":536}}],"line":7},"4":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":92}},"type":"cond-expr","locations":[{"start":{"line":25,"column":70},"end":{"line":25,"column":73}},{"start":{"line":25,"column":76},"end":{"line":25,"column":92}}],"line":25},"5":{"loc":{"start":{"line":25,"column":46},"end":{"line":25,"column":67}},"type":"binary-expr","locations":[{"start":{"line":25,"column":46},"end":{"line":25,"column":49}},{"start":{"line":25,"column":53},"end":{"line":25,"column":67}}],"line":25},"6":{"loc":{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},"type":"if","locations":[{"start":{"line":27,"column":50},"end":{"line":27,"column":151}},{"start":{"line":27,"column":50},"end":{"line":27,"column":151}}],"line":27},"7":{"loc":{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":42,"column":5}},{"start":{"line":36,"column":4},"end":{"line":42,"column":5}}],"line":36},"8":{"loc":{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":45,"column":5}},{"start":{"line":43,"column":4},"end":{"line":45,"column":5}}],"line":43},"9":{"loc":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},{"start":{"line":46,"column":4},"end":{"line":48,"column":5}}],"line":46},"10":{"loc":{"start":{"line":55,"column":8},"end":{"line":55,"column":90}},"type":"if","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":90}},{"start":{"line":55,"column":8},"end":{"line":55,"column":90}}],"line":55},"11":{"loc":{"start":{"line":64,"column":8},"end":{"line":68,"column":9}},"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":68,"column":9}},{"start":{"line":64,"column":8},"end":{"line":68,"column":9}}],"line":64},"12":{"loc":{"start":{"line":64,"column":12},"end":{"line":64,"column":166}},"type":"binary-expr","locations":[{"start":{"line":64,"column":12},"end":{"line":64,"column":69}},{"start":{"line":64,"column":73},"end":{"line":64,"column":117}},{"start":{"line":64,"column":121},"end":{"line":64,"column":166}}],"line":64},"13":{"loc":{"start":{"line":76,"column":6},"end":{"line":78,"column":7}},"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":78,"column":7}},{"start":{"line":76,"column":6},"end":{"line":78,"column":7}}],"line":76},"14":{"loc":{"start":{"line":80,"column":26},"end":{"line":80,"column":53}},"type":"binary-expr","locations":[{"start":{"line":80,"column":26},"end":{"line":80,"column":43}},{"start":{"line":80,"column":47},"end":{"line":80,"column":53}}],"line":80},"15":{"loc":{"start":{"line":84,"column":22},"end":{"line":84,"column":78}},"type":"binary-expr","locations":[{"start":{"line":84,"column":22},"end":{"line":84,"column":70}},{"start":{"line":84,"column":74},"end":{"line":84,"column":78}}],"line":84},"16":{"loc":{"start":{"line":88,"column":15},"end":{"line":88,"column":48}},"type":"cond-expr","locations":[{"start":{"line":88,"column":39},"end":{"line":88,"column":42}},{"start":{"line":88,"column":45},"end":{"line":88,"column":48}}],"line":88},"17":{"loc":{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},"type":"if","locations":[{"start":{"line":90,"column":8},"end":{"line":92,"column":9}},{"start":{"line":90,"column":8},"end":{"line":92,"column":9}}],"line":90},"18":{"loc":{"start":{"line":103,"column":10},"end":{"line":109,"column":11}},"type":"if","locations":[{"start":{"line":103,"column":10},"end":{"line":109,"column":11}},{"start":{"line":103,"column":10},"end":{"line":109,"column":11}}],"line":103},"19":{"loc":{"start":{"line":103,"column":14},"end":{"line":103,"column":28}},"type":"binary-expr","locations":[{"start":{"line":103,"column":14},"end":{"line":103,"column":17}},{"start":{"line":103,"column":21},"end":{"line":103,"column":28}}],"line":103},"20":{"loc":{"start":{"line":107,"column":17},"end":{"line":109,"column":11}},"type":"if","locations":[{"start":{"line":107,"column":17},"end":{"line":109,"column":11}},{"start":{"line":107,"column":17},"end":{"line":109,"column":11}}],"line":107},"21":{"loc":{"start":{"line":108,"column":20},"end":{"line":108,"column":40}},"type":"binary-expr","locations":[{"start":{"line":108,"column":20},"end":{"line":108,"column":28}},{"start":{"line":108,"column":32},"end":{"line":108,"column":40}}],"line":108},"22":{"loc":{"start":{"line":118,"column":6},"end":{"line":121,"column":7}},"type":"if","locations":[{"start":{"line":118,"column":6},"end":{"line":121,"column":7}},{"start":{"line":118,"column":6},"end":{"line":121,"column":7}}],"line":118}},"s":{"0":1,"1":1,"2":1,"3":1,"4":4,"5":4,"6":4,"7":4,"8":4,"9":4,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":4,"25":2,"26":0,"27":1,"28":1,"29":2,"30":2,"31":2,"32":1,"33":1,"34":1,"35":1,"36":0,"37":1,"38":0,"39":1,"40":0,"41":0,"42":0,"43":1,"44":1,"45":4,"46":2,"47":2,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":0,"64":1,"65":1,"66":0,"67":0,"68":1,"69":1,"70":1,"71":1,"72":0,"73":0,"74":1,"75":1,"76":1,"77":1,"78":1},"f":{"0":1,"1":1,"2":1,"3":4,"4":2,"5":1,"6":2,"7":0,"8":1,"9":1,"10":1,"11":1,"12":1},"b":{"0":[4,4],"1":[4,0],"2":[1,0],"3":[0,1],"4":[2,2],"5":[4,4],"6":[0,2],"7":[1,1],"8":[0,1],"9":[0,1],"10":[0,0],"11":[2,2],"12":[4,3,2],"13":[1,0],"14":[1,1],"15":[1,1],"16":[0,1],"17":[1,0],"18":[0,1],"19":[1,1],"20":[1,0],"21":[1,0],"22":[0,1]},"inputSourceMap":{"version":3,"sources":["OrsPois.js"],"names":["orsUtil","OrsUtil","OrsPois","args","Constants","propNames","apiKey","console","error","missingAPIKeyMsg","Error","host","service","variable","payload","key","baseUrlConstituents","indexOf","timeout","request","that","Promise","resolve","reject","url","prepareUrl","generatePayload","authorization","orsRequest","post","send","set","customHeaders","end","err","res","ok","body","text","reqArgs","setRequestDefaults","copyProperties","poisPromise"],"mappings":"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","file":"OrsPois.js","sourceRoot":"/home/amon/apps/openrouteservice-js/src","sourcesContent":["import request from 'superagent'\nimport Promise from 'bluebird'\nimport OrsUtil from './OrsUtil'\nimport Constants from './constants'\n\nconst orsUtil = new OrsUtil()\n\nclass OrsPois {\n  constructor(args) {\n    this.args = {}\n    if (Constants.propNames.apiKey in args) {\n      this.args[Constants.propNames.apiKey] = args[Constants.propNames.apiKey]\n    } else {\n      // eslint-disable-next-line no-console\n      console.error(Constants.missingAPIKeyMsg)\n      throw new Error(Constants.missingAPIKeyMsg)\n    }\n    if (Constants.propNames.host in args) {\n      this.args[Constants.propNames.host] = args[Constants.propNames.host]\n    }\n    if (Constants.propNames.service in args) {\n      this.args[Constants.propNames.service] = args[Constants.propNames.service]\n    }\n  }\n\n  clear() {\n    for (let variable in this.args) {\n      if (variable !== Constants.propNames.apiKey) delete this.args[variable]\n    }\n  }\n\n  generatePayload(args) {\n    let payload = {}\n\n    for (const key in args) {\n      if (\n        Constants.baseUrlConstituents.indexOf(key) > -1 ||\n        key === Constants.propNames.apiKey ||\n        key === Constants.propNames.timeout\n      ) {\n        continue\n      } else {\n        payload[key] = args[key]\n      }\n    }\n    return payload\n  }\n\n  poisPromise() {\n    // the service arg is used to build the target url\n    if (!this.args[Constants.propNames.service]) {\n      this.args[Constants.propNames.service] = 'pois'\n    }\n    // the request arg is required by the API as part of the body\n    this.args.request = this.args.request || 'pois'\n\n    const that = this\n    return new Promise(function(resolve, reject) {\n      const timeout = that.args[Constants.propNames.timeout] || 5000\n\n      let url = orsUtil.prepareUrl(that.args)\n\n      url += url.indexOf('?') > -1 ? '&' : '?'\n\n      if (that.args[Constants.propNames.service]) {\n        delete that.args[Constants.propNames.service]\n      }\n\n      const payload = that.generatePayload(that.args)\n      let authorization = that.args[Constants.propNames.apiKey]\n\n      let orsRequest = request\n        .post(url)\n        .send(payload)\n        .set('Authorization', authorization)\n        .timeout(timeout)\n\n      for (let key in that.customHeaders) {\n        orsRequest.set(key, that.customHeaders[key])\n      }\n      orsRequest.end(function(err, res) {\n        if (err || !res.ok) {\n          // eslint-disable-next-line no-console\n          console.error(err)\n          reject(err)\n        } else if (res) {\n          resolve(res.body || res.text)\n        }\n      })\n    })\n  }\n\n  pois(reqArgs) {\n    // Get custom header and remove from args\n    this.customHeaders = []\n    if (reqArgs.customHeaders) {\n      this.customHeaders = reqArgs.customHeaders\n      delete reqArgs.customHeaders\n    }\n    orsUtil.setRequestDefaults(this.args, reqArgs)\n    orsUtil.copyProperties(reqArgs, this.args)\n\n    return this.poisPromise()\n  }\n}\n\nexport default OrsPois\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7c5dd9816b7744d0eea79d3fbc67c6b35be9aae4","contentHash":"c2fe09b77d1aeed5dfee293cb01a3341660441818c6763c10a1acc7d617dfbcc"}}